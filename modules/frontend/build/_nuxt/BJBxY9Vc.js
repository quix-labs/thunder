import{q as S,h as z,s as ia,v as ie,x as un,y as sa,r as j,z as Et,A as Pe,g as X,B as oe,C as kn,D as F,E as ee,G as At,H as Cn,I as Ce,J as Oe,K as Ie,L as Pt,M as we,T as ot,F as me,N as $e,O as Dt,P as Le,Q as In,R as bt,S as te,U as ua,V as W,_ as Ke,W as lt,X as ne,Y as nt,Z as ke,$ as gt,a0 as de,o as T,c as L,a1 as fe,d as J,t as Y,a2 as Fe,a3 as da,a4 as yt,a as D,b as V,w as B,a5 as Q,a6 as _,j as G,k as rt,m as K,a7 as Ye,a8 as _e,a9 as je,aa as dn,ab as ca,ac as pa,ad as $n,ae as va,af as fa,ag as _t,ah as ma,ai as ha,aj as ba,ak as Mn,al as Je,am as ga,an as ya,ao as Rn,ap as xa,i as Ue,n as Ee,aq as wa,ar as $t,as as Oa,at as Sa,l as Bt,au as ka,av as Ca}from"./DJawe83x.js";import{o as Mt,i as Tn,w as Vn,f as zt,d as Ft,O as En,t as cn,n as Ia,e as $a,h as Ma,_ as jt,g as Lt,u as Ra,c as it,j as Ut,b as Ta,k as An,l as Va,m as Ea}from"./CWkSEB6z.js";const Aa={base:"inline-flex items-center justify-center text-gray-900 dark:text-white",padding:"px-1",size:{xs:"h-4 min-w-[16px] text-[10px]",sm:"h-5 min-w-[20px] text-[11px]",md:"h-6 min-w-[24px] text-[12px]"},rounded:"rounded",font:"font-medium font-sans",background:"bg-gray-100 dark:bg-gray-800",ring:"ring-1 ring-gray-300 dark:ring-gray-700 ring-inset",default:{size:"sm"}},Pa={wrapper:"relative flex items-start",container:"flex items-center h-5",base:"h-4 w-4 dark:checked:bg-current dark:checked:border-transparent dark:indeterminate:bg-current dark:indeterminate:border-transparent disabled:opacity-50 disabled:cursor-not-allowed focus:ring-0 focus:ring-transparent focus:ring-offset-transparent",form:"form-checkbox",rounded:"rounded",color:"text-{color}-500 dark:text-{color}-400",background:"bg-white dark:bg-gray-900",border:"border border-gray-300 dark:border-gray-700",ring:"focus-visible:ring-2 focus-visible:ring-{color}-500 dark:focus-visible:ring-{color}-400 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:focus-visible:ring-offset-gray-900",inner:"ms-3 flex flex-col",label:"text-sm font-medium text-gray-700 dark:text-gray-200",required:"text-sm text-red-500 dark:text-red-400",help:"text-sm text-gray-500 dark:text-gray-400",default:{color:"primary"}},Da={base:"relative inline-flex flex-shrink-0 border-2 border-transparent disabled:cursor-not-allowed disabled:opacity-50 focus:outline-none",rounded:"rounded-full",ring:"focus-visible:ring-2 focus-visible:ring-{color}-500 dark:focus-visible:ring-{color}-400 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:focus-visible:ring-offset-gray-900",active:"bg-{color}-500 dark:bg-{color}-400",inactive:"bg-gray-200 dark:bg-gray-700",size:{"2xs":"h-3 w-5",xs:"h-3.5 w-6",sm:"h-4 w-7",md:"h-5 w-9",lg:"h-6 w-11",xl:"h-7 w-[3.25rem]","2xl":"h-8 w-[3.75rem]"},container:{base:"pointer-events-none relative inline-block rounded-full bg-white dark:bg-gray-900 shadow transform ring-0 transition ease-in-out duration-200",active:{"2xs":"translate-x-2 rtl:-translate-x-2",xs:"translate-x-2.5 rtl:-translate-x-2.5",sm:"translate-x-3 rtl:-translate-x-3",md:"translate-x-4 rtl:-translate-x-4",lg:"translate-x-5 rtl:-translate-x-5",xl:"translate-x-6 rtl:-translate-x-6","2xl":"translate-x-7 rtl:-translate-x-7"},inactive:"translate-x-0 rtl:-translate-x-0",size:{"2xs":"h-2 w-2",xs:"h-2.5 w-2.5",sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5",xl:"h-6 w-6","2xl":"h-7 w-7"}},icon:{base:"absolute inset-0 h-full w-full flex items-center justify-center transition-opacity",active:"opacity-100 ease-in duration-200",inactive:"opacity-0 ease-out duration-100",size:{"2xs":"h-2 w-2",xs:"h-2 w-2",sm:"h-2 w-2",md:"h-3 w-3",lg:"h-4 w-4",xl:"h-5 w-5","2xl":"h-6 w-6"},on:"text-{color}-500 dark:text-{color}-400",off:"text-gray-400 dark:text-gray-500",loading:"animate-spin text-{color}-500 dark:text-{color}-400"},default:{onIcon:null,offIcon:null,loadingIcon:"i-heroicons-arrow-path-20-solid",color:"primary",size:"md"}};function ze(e,n,t){let o=t.initialDeps??[],a;return()=>{var r,l,i,s;let d;t.key&&((r=t.debug)!=null&&r.call(t))&&(d=Date.now());const u=e();if(!(u.length!==o.length||u.some((h,x)=>o[x]!==h)))return a;o=u;let c;if(t.key&&((l=t.debug)!=null&&l.call(t))&&(c=Date.now()),a=n(...u),t.key&&((i=t.debug)!=null&&i.call(t))){const h=Math.round((Date.now()-d)*100)/100,x=Math.round((Date.now()-c)*100)/100,k=x/16,M=(C,m)=>{for(C=String(C);C.length<m;)C=" "+C;return C};console.info(`%c⏱ ${M(x,5)} /${M(h,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*k,120))}deg 100% 31%);`,t==null?void 0:t.key)}return(s=t==null?void 0:t.onChange)==null||s.call(t,a),a}}function Ct(e,n){if(e===void 0)throw new Error("Unexpected undefined");return e}const _a=(e,n)=>Math.abs(e-n)<1,Ba=(e,n,t)=>{let o;return function(...a){e.clearTimeout(o),o=e.setTimeout(()=>n.apply(this,a),t)}},za=e=>e,Fa=e=>{const n=Math.max(e.startIndex-e.overscan,0),t=Math.min(e.endIndex+e.overscan,e.count-1),o=[];for(let a=n;a<=t;a++)o.push(a);return o},ja=(e,n)=>{const t=e.scrollElement;if(!t)return;const o=e.targetWindow;if(!o)return;const a=l=>{const{width:i,height:s}=l;n({width:Math.round(i),height:Math.round(s)})};if(a(t.getBoundingClientRect()),!o.ResizeObserver)return()=>{};const r=new o.ResizeObserver(l=>{const i=l[0];if(i!=null&&i.borderBoxSize){const s=i.borderBoxSize[0];if(s){a({width:s.inlineSize,height:s.blockSize});return}}a(t.getBoundingClientRect())});return r.observe(t,{box:"border-box"}),()=>{r.unobserve(t)}},pn={passive:!0},La=typeof window>"u"?!0:"onscrollend"in window,Ua=(e,n)=>{const t=e.scrollElement;if(!t)return;const o=e.targetWindow;if(!o)return;let a=0;const r=La?()=>{}:Ba(o,()=>{n(a,!1)},e.options.isScrollingResetDelay),l=d=>()=>{const{horizontal:u,isRtl:p}=e.options;a=u?t.scrollLeft*(p&&-1||1):t.scrollTop,r(),n(a,d)},i=l(!0),s=l(!1);return s(),t.addEventListener("scroll",i,pn),t.addEventListener("scrollend",s,pn),()=>{t.removeEventListener("scroll",i),t.removeEventListener("scrollend",s)}},Na=(e,n,t)=>{if(n!=null&&n.borderBoxSize){const o=n.borderBoxSize[0];if(o)return Math.round(o[t.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[t.options.horizontal?"width":"height"])},qa=(e,{adjustments:n=0,behavior:t},o)=>{var a,r;const l=e+n;(r=(a=o.scrollElement)==null?void 0:a.scrollTo)==null||r.call(a,{[o.options.horizontal?"left":"top"]:l,behavior:t})};class Wa{constructor(n){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let t=null;const o=()=>t||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:t=new this.targetWindow.ResizeObserver(a=>{a.forEach(r=>{this._measureElement(r.target,r)})}));return{disconnect:()=>{var a;return(a=o())==null?void 0:a.disconnect()},observe:a=>{var r;return(r=o())==null?void 0:r.observe(a,{box:"border-box"})},unobserve:a=>{var r;return(r=o())==null?void 0:r.unobserve(a)}}})(),this.range=null,this.setOptions=t=>{Object.entries(t).forEach(([o,a])=>{typeof a>"u"&&delete t[o]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:za,rangeExtractor:Fa,onChange:()=>{},measureElement:Na,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,...t}},this.notify=t=>{var o,a;(a=(o=this.options).onChange)==null||a.call(o,this,t)},this.maybeNotify=ze(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),t=>{this.notify(t)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(t=>t()),this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.observer.disconnect(),this.elementsCache.clear()},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var t;const o=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==o){if(this.cleanup(),!o){this.maybeNotify();return}this.scrollElement=o,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((t=this.scrollElement)==null?void 0:t.window)??null,this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,a=>{this.scrollRect=a,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(a,r)=>{this.scrollAdjustments=0,this.scrollDirection=r?this.getScrollOffset()<a?"forward":"backward":null,this.scrollOffset=a,this.isScrolling=r,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(t,o)=>{const a=new Map,r=new Map;for(let l=o-1;l>=0;l--){const i=t[l];if(a.has(i.lane))continue;const s=r.get(i.lane);if(s==null||i.end>s.end?r.set(i.lane,i):i.end<s.end&&a.set(i.lane,!0),a.size===this.options.lanes)break}return r.size===this.options.lanes?Array.from(r.values()).sort((l,i)=>l.end===i.end?l.index-i.index:l.end-i.end)[0]:void 0},this.getMeasurementOptions=ze(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(t,o,a,r,l)=>(this.pendingMeasuredCacheIndexes=[],{count:t,paddingStart:o,scrollMargin:a,getItemKey:r,enabled:l}),{key:!1}),this.getMeasurements=ze(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:t,paddingStart:o,scrollMargin:a,getItemKey:r,enabled:l},i)=>{if(!l)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(u=>{this.itemSizeCache.set(u.key,u.size)}));const s=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const d=this.measurementsCache.slice(0,s);for(let u=s;u<t;u++){const p=r(u),c=this.options.lanes===1?d[u-1]:this.getFurthestMeasurement(d,u),h=c?c.end+this.options.gap:o+a,x=i.get(p),k=typeof x=="number"?x:this.options.estimateSize(u),M=h+k,C=c?c.lane:u%this.options.lanes;d[u]={index:u,start:h,size:k,end:M,key:p,lane:C}}return this.measurementsCache=d,d},{key:!1,debug:()=>this.options.debug}),this.calculateRange=ze(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(t,o,a)=>this.range=t.length>0&&o>0?Ha({measurements:t,outerSize:o,scrollOffset:a}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=ze(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(t,o,a,r)=>o===null?[]:t({startIndex:o.startIndex,endIndex:o.endIndex,overscan:a,count:r}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=t=>{const o=this.options.indexAttribute,a=t.getAttribute(o);return a?parseInt(a,10):(console.warn(`Missing attribute name '${o}={index}' on measured element.`),-1)},this._measureElement=(t,o)=>{const a=this.indexFromElement(t),r=this.measurementsCache[a];if(!r)return;const l=r.key,i=this.elementsCache.get(l);i!==t&&(i&&this.observer.unobserve(i),this.observer.observe(t),this.elementsCache.set(l,t)),t.isConnected&&this.resizeItem(a,this.options.measureElement(t,o,this))},this.resizeItem=(t,o)=>{const a=this.measurementsCache[t];if(!a)return;const r=this.itemSizeCache.get(a.key)??a.size,l=o-r;l!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(a,l,this):a.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=l,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(a.index),this.itemSizeCache=new Map(this.itemSizeCache.set(a.key,o)),this.notify(!1))},this.measureElement=t=>{if(!t){this.elementsCache.forEach((o,a)=>{o.isConnected||(this.observer.unobserve(o),this.elementsCache.delete(a))});return}this._measureElement(t,void 0)},this.getVirtualItems=ze(()=>[this.getIndexes(),this.getMeasurements()],(t,o)=>{const a=[];for(let r=0,l=t.length;r<l;r++){const i=t[r],s=o[i];a.push(s)}return a},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=t=>{const o=this.getMeasurements();if(o.length!==0)return Ct(o[Pn(0,o.length-1,a=>Ct(o[a]).start,t)])},this.getOffsetForAlignment=(t,o)=>{const a=this.getSize(),r=this.getScrollOffset();o==="auto"&&(t<=r?o="start":t>=r+a?o="end":o="start"),o==="start"?t=t:o==="end"?t=t-a:o==="center"&&(t=t-a/2);const l=this.options.horizontal?"scrollWidth":"scrollHeight",s=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[l]:this.scrollElement[l]:0)-a;return Math.max(Math.min(s,t),0)},this.getOffsetForIndex=(t,o="auto")=>{t=Math.max(0,Math.min(t,this.options.count-1));const a=this.measurementsCache[t];if(!a)return;const r=this.getSize(),l=this.getScrollOffset();if(o==="auto")if(a.end>=l+r-this.options.scrollPaddingEnd)o="end";else if(a.start<=l+this.options.scrollPaddingStart)o="start";else return[l,o];const i=o==="end"?a.end+this.options.scrollPaddingEnd:a.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(i,o),o]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(t,{align:o="start",behavior:a}={})=>{this.cancelScrollToIndex(),a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(t,o),{adjustments:void 0,behavior:a})},this.scrollToIndex=(t,{align:o="auto",behavior:a}={})=>{t=Math.max(0,Math.min(t,this.options.count-1)),this.cancelScrollToIndex(),a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const r=this.getOffsetForIndex(t,o);if(!r)return;const[l,i]=r;this._scrollToOffset(l,{adjustments:void 0,behavior:a}),a!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(t))){const[d]=Ct(this.getOffsetForIndex(t,i));_a(d,this.getScrollOffset())||this.scrollToIndex(t,{align:i,behavior:a})}else this.scrollToIndex(t,{align:i,behavior:a})}))},this.scrollBy=(t,{behavior:o}={})=>{this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+t,{adjustments:void 0,behavior:o})},this.getTotalSize=()=>{var t;const o=this.getMeasurements();let a;return o.length===0?a=this.options.paddingStart:a=this.options.lanes===1?((t=o[o.length-1])==null?void 0:t.end)??0:Math.max(...o.slice(-this.options.lanes).map(r=>r.end)),a-this.options.scrollMargin+this.options.paddingEnd},this._scrollToOffset=(t,{adjustments:o,behavior:a})=>{this.options.scrollToFn(t,{behavior:a,adjustments:o},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(n)}}const Pn=(e,n,t,o)=>{for(;e<=n;){const a=(e+n)/2|0,r=t(a);if(r<o)e=a+1;else if(r>o)n=a-1;else return a}return e>0?e-1:0};function Ha({measurements:e,outerSize:n,scrollOffset:t}){const o=e.length-1,r=Pn(0,o,i=>e[i].start,t);let l=r;for(;l<o&&e[l].end<t+n;)l++;return{startIndex:r,endIndex:l}}function Ka(e){const n=new Wa(z(e)),t=ia(n),o=n._didMount();return ie(()=>z(e).getScrollElement(),a=>{a&&n._willUpdate()},{immediate:!0}),ie(()=>z(e),a=>{n.setOptions({...a,onChange:(r,l)=>{var i;un(t),(i=a.onChange)==null||i.call(a,r,l)}}),n._willUpdate(),un(t)},{immediate:!0}),sa(o),t}function Ya(e){return Ka(S(()=>({observeElementRect:ja,observeElementOffset:Ua,scrollToFn:qa,...z(e)})))}function Nt(e,n,t){let o=j(t==null?void 0:t.value),a=S(()=>e.value!==void 0);return[S(()=>a.value?e.value:o.value),function(r){return a.value||(o.value=r),n==null?void 0:n(r)}]}function Xa(){let e=Mt();return Et(()=>e.dispose()),e}function Ga(){let e=Xa();return n=>{e.dispose(),e.nextFrame(n)}}function vn(e){return[e.screenX,e.screenY]}function Dn(){let e=j([-1,-1]);return{wasMoved(n){let t=vn(n);return e.value[0]===t[0]&&e.value[1]===t[1]?!1:(e.value=t,!0)},update(n){e.value=vn(n)}}}function Qa({container:e,accept:n,walk:t,enabled:o}){Pe(()=>{let a=e.value;if(!a||o!==void 0&&!o.value)return;let r=Tn(e);if(!r)return;let l=Object.assign(s=>n(s),{acceptNode:n}),i=r.createTreeWalker(a,NodeFilter.SHOW_ELEMENT,l,!1);for(;i.nextNode();)t(i.currentNode)})}var _n=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(_n||{});function Ja(e){throw new Error("Unexpected object: "+e)}var H=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(H||{});function Rt(e,n){let t=n.resolveItems();if(t.length<=0)return null;let o=n.resolveActiveIndex(),a=o??-1;switch(e.focus){case 0:{for(let r=0;r<t.length;++r)if(!n.resolveDisabled(t[r],r,t))return r;return o}case 1:{a===-1&&(a=t.length);for(let r=a-1;r>=0;--r)if(!n.resolveDisabled(t[r],r,t))return r;return o}case 2:{for(let r=a+1;r<t.length;++r)if(!n.resolveDisabled(t[r],r,t))return r;return o}case 3:{for(let r=t.length-1;r>=0;--r)if(!n.resolveDisabled(t[r],r,t))return r;return o}case 4:{for(let r=0;r<t.length;++r)if(n.resolveId(t[r],r,t)===e.id)return r;return o}case 5:return null;default:Ja(e)}}function qt(e={},n=null,t=[]){for(let[o,a]of Object.entries(e))zn(t,Bn(n,o),a);return t}function Bn(e,n){return e?e+"["+n+"]":n}function zn(e,n,t){if(Array.isArray(t))for(let[o,a]of t.entries())zn(e,Bn(n,o.toString()),a);else t instanceof Date?e.push([n,t.toISOString()]):typeof t=="boolean"?e.push([n,t?"1":"0"]):typeof t=="string"?e.push([n,t]):typeof t=="number"?e.push([n,`${t}`]):t==null?e.push([n,""]):qt(t,n,e)}function Za(e){var n,t;let o=(n=e==null?void 0:e.form)!=null?n:e.closest("form");if(o){for(let a of o.elements)if(a!==e&&(a.tagName==="INPUT"&&a.type==="submit"||a.tagName==="BUTTON"&&a.type==="submit"||a.nodeName==="INPUT"&&a.type==="image")){a.click();return}(t=o.requestSubmit)==null||t.call(o)}}var eo={};function to(e,n){return e===n}var no=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(no||{}),ao=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(ao||{}),oo=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(oo||{});let Fn=Symbol("ComboboxContext");function Xe(e){let n=bt(Fn,null);if(n===null){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Xe),t}return n}let jn=Symbol("VirtualContext"),lo=X({name:"VirtualProvider",setup(e,{slots:n}){let t=Xe("VirtualProvider"),o=S(()=>{let i=F(t.optionsRef);if(!i)return{start:0,end:0};let s=window.getComputedStyle(i);return{start:parseFloat(s.paddingBlockStart||s.paddingTop),end:parseFloat(s.paddingBlockEnd||s.paddingBottom)}}),a=Ya(S(()=>({scrollPaddingStart:o.value.start,scrollPaddingEnd:o.value.end,count:t.virtual.value.options.length,estimateSize(){return 40},getScrollElement(){return F(t.optionsRef)},overscan:12}))),r=S(()=>{var i;return(i=t.virtual.value)==null?void 0:i.options}),l=j(0);return ie([r],()=>{l.value+=1}),At(jn,t.virtual.value?a:null),()=>[Ie("div",{style:{position:"relative",width:"100%",height:`${a.value.getTotalSize()}px`},ref:i=>{if(i){if(typeof process<"u"&&eo.JEST_WORKER_ID!==void 0||t.activationTrigger.value===0)return;t.activeOptionIndex.value!==null&&t.virtual.value.options.length>t.activeOptionIndex.value&&a.value.scrollToIndex(t.activeOptionIndex.value)}}},a.value.getVirtualItems().map(i=>ua(n.default({option:t.virtual.value.options[i.index],open:t.comboboxState.value===0})[0],{key:`${l.value}-${i.index}`,"data-index":i.index,"aria-setsize":t.virtual.value.options.length,"aria-posinset":i.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${i.start}px)`,overflowAnchor:"none"}})))]}}),ro=X({name:"Combobox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],nullable:!0,default:null},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},nullable:{type:Boolean,default:!1},multiple:{type:[Boolean],default:!1},immediate:{type:[Boolean],default:!1},virtual:{type:Object,default:null}},inheritAttrs:!1,setup(e,{slots:n,attrs:t,emit:o}){let a=j(1),r=j(null),l=j(null),i=j(null),s=j(null),d=j({static:!1,hold:!1}),u=j([]),p=j(null),c=j(2),h=j(!1);function x(g=O=>O){let O=p.value!==null?u.value[p.value]:null,A=g(u.value.slice()),P=A.length>0&&A[0].dataRef.order.value!==null?A.sort((U,R)=>U.dataRef.order.value-R.dataRef.order.value):En(A,U=>F(U.dataRef.domRef)),I=O?P.indexOf(O):null;return I===-1&&(I=null),{options:P,activeOptionIndex:I}}let k=S(()=>e.multiple?1:0),M=S(()=>e.nullable),[C,m]=Nt(S(()=>e.modelValue),g=>o("update:modelValue",g),S(()=>e.defaultValue)),v=S(()=>C.value===void 0?oe(k.value,{1:[],0:void 0}):C.value),b=null,f=null;function w(g){return oe(k.value,{0(){return m==null?void 0:m(g)},1:()=>{let O=ee(y.value.value).slice(),A=ee(g),P=O.findIndex(I=>y.compare(A,ee(I)));return P===-1?O.push(A):O.splice(P,1),m==null?void 0:m(O)}})}let $=S(()=>{});ie([$],([g],[O])=>{if(y.virtual.value&&g&&O&&p.value!==null){let A=g.indexOf(O[p.value]);A!==-1?p.value=A:p.value=null}});let y={comboboxState:a,value:v,mode:k,compare(g,O){if(typeof e.by=="string"){let A=e.by;return(g==null?void 0:g[A])===(O==null?void 0:O[A])}return e.by===null?to(g,O):e.by(g,O)},calculateIndex(g){return y.virtual.value?e.by===null?y.virtual.value.options.indexOf(g):y.virtual.value.options.findIndex(O=>y.compare(O,g)):u.value.findIndex(O=>y.compare(O.dataRef.value,g))},defaultValue:S(()=>e.defaultValue),nullable:M,immediate:S(()=>!1),virtual:S(()=>null),inputRef:l,labelRef:r,buttonRef:i,optionsRef:s,disabled:S(()=>e.disabled),options:u,change(g){m(g)},activeOptionIndex:S(()=>{if(h.value&&p.value===null&&(y.virtual.value?y.virtual.value.options.length>0:u.value.length>0)){if(y.virtual.value){let O=y.virtual.value.options.findIndex(A=>{var P;return!((P=y.virtual.value)!=null&&P.disabled(A))});if(O!==-1)return O}let g=u.value.findIndex(O=>!O.dataRef.disabled);if(g!==-1)return g}return p.value}),activationTrigger:c,optionsPropsRef:d,closeCombobox(){h.value=!1,!e.disabled&&a.value!==1&&(a.value=1,p.value=null)},openCombobox(){if(h.value=!0,!e.disabled&&a.value!==0){if(y.value.value){let g=y.calculateIndex(y.value.value);g!==-1&&(p.value=g)}a.value=0}},setActivationTrigger(g){c.value=g},goToOption(g,O,A){h.value=!1,b!==null&&cancelAnimationFrame(b),b=requestAnimationFrame(()=>{if(e.disabled||s.value&&!d.value.static&&a.value===1)return;if(y.virtual.value){p.value=g===H.Specific?O:Rt({focus:g},{resolveItems:()=>y.virtual.value.options,resolveActiveIndex:()=>{var U,R;return(R=(U=y.activeOptionIndex.value)!=null?U:y.virtual.value.options.findIndex(N=>{var Z;return!((Z=y.virtual.value)!=null&&Z.disabled(N))}))!=null?R:null},resolveDisabled:U=>y.virtual.value.disabled(U),resolveId(){throw new Error("Function not implemented.")}}),c.value=A??2;return}let P=x();if(P.activeOptionIndex===null){let U=P.options.findIndex(R=>!R.dataRef.disabled);U!==-1&&(P.activeOptionIndex=U)}let I=g===H.Specific?O:Rt({focus:g},{resolveItems:()=>P.options,resolveActiveIndex:()=>P.activeOptionIndex,resolveId:U=>U.id,resolveDisabled:U=>U.dataRef.disabled});p.value=I,c.value=A??2,u.value=P.options})},selectOption(g){let O=u.value.find(P=>P.id===g);if(!O)return;let{dataRef:A}=O;w(A.value)},selectActiveOption(){if(y.activeOptionIndex.value!==null){if(y.virtual.value)w(y.virtual.value.options[y.activeOptionIndex.value]);else{let{dataRef:g}=u.value[y.activeOptionIndex.value];w(g.value)}y.goToOption(H.Specific,y.activeOptionIndex.value)}},registerOption(g,O){let A=kn({id:g,dataRef:O});if(y.virtual.value){u.value.push(A);return}f&&cancelAnimationFrame(f);let P=x(I=>(I.push(A),I));p.value===null&&y.isSelected(O.value.value)&&(P.activeOptionIndex=P.options.indexOf(A)),u.value=P.options,p.value=P.activeOptionIndex,c.value=2,P.options.some(I=>!F(I.dataRef.domRef))&&(f=requestAnimationFrame(()=>{let I=x();u.value=I.options,p.value=I.activeOptionIndex}))},unregisterOption(g,O){if(b!==null&&cancelAnimationFrame(b),O&&(h.value=!0),y.virtual.value){u.value=u.value.filter(P=>P.id!==g);return}let A=x(P=>{let I=P.findIndex(U=>U.id===g);return I!==-1&&P.splice(I,1),P});u.value=A.options,p.value=A.activeOptionIndex,c.value=2},isSelected(g){return oe(k.value,{0:()=>y.compare(ee(y.value.value),ee(g)),1:()=>ee(y.value.value).some(O=>y.compare(ee(O),ee(g)))})},isActive(g){return p.value===y.calculateIndex(g)}};Vn([l,i,s],()=>y.closeCombobox(),S(()=>a.value===0)),At(Fn,y),Cn(S(()=>oe(a.value,{0:Ce.Open,1:Ce.Closed})));let E=S(()=>{var g;return(g=F(l))==null?void 0:g.closest("form")});return Oe(()=>{ie([E],()=>{if(!E.value||e.defaultValue===void 0)return;function g(){y.change(e.defaultValue)}return E.value.addEventListener("reset",g),()=>{var O;(O=E.value)==null||O.removeEventListener("reset",g)}},{immediate:!0})}),()=>{var g,O,A;let{name:P,disabled:I,form:U,...R}=e,N={open:a.value===0,disabled:I,activeIndex:y.activeOptionIndex.value,activeOption:y.activeOptionIndex.value===null?null:y.virtual.value?y.virtual.value.options[(g=y.activeOptionIndex.value)!=null?g:0]:(A=(O=y.options.value[y.activeOptionIndex.value])==null?void 0:O.dataRef.value)!=null?A:null,value:v.value};return Ie(me,[...P!=null&&v.value!=null?qt({[P]:v.value}).map(([Z,pe])=>Ie(zt,Pt({features:Ft.Hidden,key:Z,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:U,disabled:I,name:Z,value:pe}))):[],we({theirProps:{...t,...ot(R,["by","defaultValue","immediate","modelValue","multiple","nullable","onUpdate:modelValue","virtual"])},ourProps:{},slot:N,slots:n,attrs:t,name:"Combobox"})])}}}),io=X({name:"ComboboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:n,slots:t,expose:o}){var a;let r=(a=e.id)!=null?a:`headlessui-combobox-button-${$e()}`,l=Xe("ComboboxButton");o({el:l.buttonRef,$el:l.buttonRef});function i(u){l.disabled.value||(l.comboboxState.value===0?l.closeCombobox():(u.preventDefault(),l.openCombobox()),te(()=>{var p;return(p=F(l.inputRef))==null?void 0:p.focus({preventScroll:!0})}))}function s(u){switch(u.key){case W.ArrowDown:u.preventDefault(),u.stopPropagation(),l.comboboxState.value===1&&l.openCombobox(),te(()=>{var p;return(p=l.inputRef.value)==null?void 0:p.focus({preventScroll:!0})});return;case W.ArrowUp:u.preventDefault(),u.stopPropagation(),l.comboboxState.value===1&&(l.openCombobox(),te(()=>{l.value.value||l.goToOption(H.Last)})),te(()=>{var p;return(p=l.inputRef.value)==null?void 0:p.focus({preventScroll:!0})});return;case W.Escape:if(l.comboboxState.value!==0)return;u.preventDefault(),l.optionsRef.value&&!l.optionsPropsRef.value.static&&u.stopPropagation(),l.closeCombobox(),te(()=>{var p;return(p=l.inputRef.value)==null?void 0:p.focus({preventScroll:!0})});return}}let d=Dt(S(()=>({as:e.as,type:n.type})),l.buttonRef);return()=>{var u,p;let c={open:l.comboboxState.value===0,disabled:l.disabled.value,value:l.value.value},{...h}=e,x={ref:l.buttonRef,id:r,type:d.value,tabindex:"-1","aria-haspopup":"listbox","aria-controls":(u=F(l.optionsRef))==null?void 0:u.id,"aria-expanded":l.comboboxState.value===0,"aria-labelledby":l.labelRef.value?[(p=F(l.labelRef))==null?void 0:p.id,r].join(" "):void 0,disabled:l.disabled.value===!0?!0:void 0,onKeydown:s,onClick:i};return we({ourProps:x,theirProps:h,slot:c,attrs:n,slots:t,name:"ComboboxButton"})}}}),so=X({name:"ComboboxInput",props:{as:{type:[Object,String],default:"input"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},displayValue:{type:Function},defaultValue:{type:String,default:void 0},id:{type:String,default:null}},emits:{change:e=>!0},setup(e,{emit:n,attrs:t,slots:o,expose:a}){var r;let l=(r=e.id)!=null?r:`headlessui-combobox-input-${$e()}`,i=Xe("ComboboxInput"),s=S(()=>Tn(F(i.inputRef))),d={value:!1};a({el:i.inputRef,$el:i.inputRef});function u(){i.change(null);let f=F(i.optionsRef);f&&(f.scrollTop=0),i.goToOption(H.Nothing)}let p=S(()=>{var f;let w=i.value.value;return F(i.inputRef)?typeof e.displayValue<"u"&&w!==void 0?(f=e.displayValue(w))!=null?f:"":typeof w=="string"?w:"":""});Oe(()=>{ie([p,i.comboboxState,s],([f,w],[$,y])=>{if(d.value)return;let E=F(i.inputRef);E&&((y===0&&w===1||f!==$)&&(E.value=f),requestAnimationFrame(()=>{var g;if(d.value||!E||((g=s.value)==null?void 0:g.activeElement)!==E)return;let{selectionStart:O,selectionEnd:A}=E;Math.abs((A??0)-(O??0))===0&&O===0&&E.setSelectionRange(E.value.length,E.value.length)}))},{immediate:!0}),ie([i.comboboxState],([f],[w])=>{if(f===0&&w===1){if(d.value)return;let $=F(i.inputRef);if(!$)return;let y=$.value,{selectionStart:E,selectionEnd:g,selectionDirection:O}=$;$.value="",$.value=y,O!==null?$.setSelectionRange(E,g,O):$.setSelectionRange(E,g)}})});let c=j(!1);function h(){c.value=!0}function x(){Mt().nextFrame(()=>{c.value=!1})}let k=Ga();function M(f){switch(d.value=!0,k(()=>{d.value=!1}),f.key){case W.Enter:if(d.value=!1,i.comboboxState.value!==0||c.value)return;if(f.preventDefault(),f.stopPropagation(),i.activeOptionIndex.value===null){i.closeCombobox();return}i.selectActiveOption(),i.mode.value===0&&i.closeCombobox();break;case W.ArrowDown:return d.value=!1,f.preventDefault(),f.stopPropagation(),oe(i.comboboxState.value,{0:()=>i.goToOption(H.Next),1:()=>i.openCombobox()});case W.ArrowUp:return d.value=!1,f.preventDefault(),f.stopPropagation(),oe(i.comboboxState.value,{0:()=>i.goToOption(H.Previous),1:()=>{i.openCombobox(),te(()=>{i.value.value||i.goToOption(H.Last)})}});case W.Home:if(f.shiftKey)break;return d.value=!1,f.preventDefault(),f.stopPropagation(),i.goToOption(H.First);case W.PageUp:return d.value=!1,f.preventDefault(),f.stopPropagation(),i.goToOption(H.First);case W.End:if(f.shiftKey)break;return d.value=!1,f.preventDefault(),f.stopPropagation(),i.goToOption(H.Last);case W.PageDown:return d.value=!1,f.preventDefault(),f.stopPropagation(),i.goToOption(H.Last);case W.Escape:if(d.value=!1,i.comboboxState.value!==0)return;f.preventDefault(),i.optionsRef.value&&!i.optionsPropsRef.value.static&&f.stopPropagation(),i.nullable.value&&i.mode.value===0&&i.value.value===null&&u(),i.closeCombobox();break;case W.Tab:if(d.value=!1,i.comboboxState.value!==0)return;i.mode.value===0&&i.activationTrigger.value!==1&&i.selectActiveOption(),i.closeCombobox();break}}function C(f){n("change",f),i.nullable.value&&i.mode.value===0&&f.target.value===""&&u(),i.openCombobox()}function m(f){var w,$,y;let E=(w=f.relatedTarget)!=null?w:cn.find(g=>g!==f.currentTarget);if(d.value=!1,!(($=F(i.optionsRef))!=null&&$.contains(E))&&!((y=F(i.buttonRef))!=null&&y.contains(E))&&i.comboboxState.value===0)return f.preventDefault(),i.mode.value===0&&(i.nullable.value&&i.value.value===null?u():i.activationTrigger.value!==1&&i.selectActiveOption()),i.closeCombobox()}function v(f){var w,$,y;let E=(w=f.relatedTarget)!=null?w:cn.find(g=>g!==f.currentTarget);($=F(i.buttonRef))!=null&&$.contains(E)||(y=F(i.optionsRef))!=null&&y.contains(E)||i.disabled.value||i.immediate.value&&i.comboboxState.value!==0&&(i.openCombobox(),Mt().nextFrame(()=>{i.setActivationTrigger(1)}))}let b=S(()=>{var f,w,$,y;return(y=($=(w=e.defaultValue)!=null?w:i.defaultValue.value!==void 0?(f=e.displayValue)==null?void 0:f.call(e,i.defaultValue.value):null)!=null?$:i.defaultValue.value)!=null?y:""});return()=>{var f,w,$,y,E,g,O;let A={open:i.comboboxState.value===0},{displayValue:P,onChange:I,...U}=e,R={"aria-controls":(f=i.optionsRef.value)==null?void 0:f.id,"aria-expanded":i.comboboxState.value===0,"aria-activedescendant":i.activeOptionIndex.value===null?void 0:i.virtual.value?(w=i.options.value.find(N=>!i.virtual.value.disabled(N.dataRef.value)&&i.compare(N.dataRef.value,i.virtual.value.options[i.activeOptionIndex.value])))==null?void 0:w.id:($=i.options.value[i.activeOptionIndex.value])==null?void 0:$.id,"aria-labelledby":(g=(y=F(i.labelRef))==null?void 0:y.id)!=null?g:(E=F(i.buttonRef))==null?void 0:E.id,"aria-autocomplete":"list",id:l,onCompositionstart:h,onCompositionend:x,onKeydown:M,onInput:C,onFocus:v,onBlur:m,role:"combobox",type:(O=t.type)!=null?O:"text",tabIndex:0,ref:i.inputRef,defaultValue:b.value,disabled:i.disabled.value===!0?!0:void 0};return we({ourProps:R,theirProps:U,slot:A,attrs:t,slots:o,features:Le.RenderStrategy|Le.Static,name:"ComboboxInput"})}}}),uo=X({name:"ComboboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},hold:{type:[Boolean],default:!1}},setup(e,{attrs:n,slots:t,expose:o}){let a=Xe("ComboboxOptions"),r=`headlessui-combobox-options-${$e()}`;o({el:a.optionsRef,$el:a.optionsRef}),Pe(()=>{a.optionsPropsRef.value.static=e.static}),Pe(()=>{a.optionsPropsRef.value.hold=e.hold});let l=In(),i=S(()=>l!==null?(l.value&Ce.Open)===Ce.Open:a.comboboxState.value===0);Qa({container:S(()=>F(a.optionsRef)),enabled:S(()=>a.comboboxState.value===0),accept(d){return d.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:d.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(d){d.setAttribute("role","none")}});function s(d){d.preventDefault()}return()=>{var d,u,p;let c={open:a.comboboxState.value===0},h={"aria-labelledby":(p=(d=F(a.labelRef))==null?void 0:d.id)!=null?p:(u=F(a.buttonRef))==null?void 0:u.id,id:r,ref:a.optionsRef,role:"listbox","aria-multiselectable":a.mode.value===1?!0:void 0,onMousedown:s},x=ot(e,["hold"]);return we({ourProps:h,theirProps:x,slot:c,attrs:n,slots:a.virtual.value&&a.comboboxState.value===0?{...t,default:()=>[Ie(lo,{},t.default)]}:t,features:Le.RenderStrategy|Le.Static,visible:i.value,name:"ComboboxOptions"})}}}),co=X({name:"ComboboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},order:{type:[Number],default:null}},setup(e,{slots:n,attrs:t,expose:o}){let a=Xe("ComboboxOption"),r=`headlessui-combobox-option-${$e()}`,l=j(null),i=S(()=>e.disabled);o({el:l,$el:l});let s=S(()=>{var m;return a.virtual.value?a.activeOptionIndex.value===a.calculateIndex(e.value):a.activeOptionIndex.value===null?!1:((m=a.options.value[a.activeOptionIndex.value])==null?void 0:m.id)===r}),d=S(()=>a.isSelected(e.value)),u=bt(jn,null),p=S(()=>({disabled:e.disabled,value:e.value,domRef:l,order:S(()=>e.order)}));Oe(()=>a.registerOption(r,p)),Et(()=>a.unregisterOption(r,s.value)),Pe(()=>{let m=F(l);m&&(u==null||u.value.measureElement(m))}),Pe(()=>{a.comboboxState.value===0&&s.value&&(a.virtual.value||a.activationTrigger.value!==0&&te(()=>{var m,v;return(v=(m=F(l))==null?void 0:m.scrollIntoView)==null?void 0:v.call(m,{block:"nearest"})}))});function c(m){m.preventDefault(),m.button===_n.Left&&(i.value||(a.selectOption(r),Ia()||requestAnimationFrame(()=>{var v;return(v=F(a.inputRef))==null?void 0:v.focus({preventScroll:!0})}),a.mode.value===0&&a.closeCombobox()))}function h(){var m;if(e.disabled||(m=a.virtual.value)!=null&&m.disabled(e.value))return a.goToOption(H.Nothing);let v=a.calculateIndex(e.value);a.goToOption(H.Specific,v)}let x=Dn();function k(m){x.update(m)}function M(m){var v;if(!x.wasMoved(m)||e.disabled||(v=a.virtual.value)!=null&&v.disabled(e.value)||s.value)return;let b=a.calculateIndex(e.value);a.goToOption(H.Specific,b,0)}function C(m){var v;x.wasMoved(m)&&(e.disabled||(v=a.virtual.value)!=null&&v.disabled(e.value)||s.value&&(a.optionsPropsRef.value.hold||a.goToOption(H.Nothing)))}return()=>{let{disabled:m}=e,v={active:s.value,selected:d.value,disabled:m},b={id:r,ref:l,role:"option",tabIndex:m===!0?void 0:-1,"aria-disabled":m===!0?!0:void 0,"aria-selected":d.value,disabled:void 0,onMousedown:c,onFocus:h,onPointerenter:k,onMouseenter:k,onPointermove:M,onMousemove:M,onPointerleave:C,onMouseleave:C},f=ot(e,["order","value"]);return we({ourProps:b,theirProps:f,slot:v,attrs:t,slots:n,name:"ComboboxOption"})}}}),fn=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function mn(e){var n,t;let o=(n=e.innerText)!=null?n:"",a=e.cloneNode(!0);if(!(a instanceof HTMLElement))return o;let r=!1;for(let i of a.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))i.remove(),r=!0;let l=r?(t=a.innerText)!=null?t:"":o;return fn.test(l)&&(l=l.replace(fn,"")),l}function po(e){let n=e.getAttribute("aria-label");if(typeof n=="string")return n.trim();let t=e.getAttribute("aria-labelledby");if(t){let o=t.split(" ").map(a=>{let r=document.getElementById(a);if(r){let l=r.getAttribute("aria-label");return typeof l=="string"?l.trim():mn(r).trim()}return null}).filter(Boolean);if(o.length>0)return o.join(", ")}return mn(e).trim()}function vo(e){let n=j(""),t=j("");return()=>{let o=F(e);if(!o)return"";let a=o.innerText;if(n.value===a)return t.value;let r=po(o).trim().toLowerCase();return n.value=a,t.value=r,r}}function fo(e,n){return e===n}var mo=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(mo||{}),ho=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(ho||{}),bo=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(bo||{});function go(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let Ln=Symbol("ListboxContext");function xt(e){let n=bt(Ln,null);if(n===null){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,xt),t}return n}let yo=X({name:"Listbox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>fo},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:n,attrs:t,emit:o}){let a=j(1),r=j(null),l=j(null),i=j(null),s=j([]),d=j(""),u=j(null),p=j(1);function c(v=b=>b){let b=u.value!==null?s.value[u.value]:null,f=En(v(s.value.slice()),$=>F($.dataRef.domRef)),w=b?f.indexOf(b):null;return w===-1&&(w=null),{options:f,activeOptionIndex:w}}let h=S(()=>e.multiple?1:0),[x,k]=Nt(S(()=>e.modelValue),v=>o("update:modelValue",v),S(()=>e.defaultValue)),M=S(()=>x.value===void 0?oe(h.value,{1:[],0:void 0}):x.value),C={listboxState:a,value:M,mode:h,compare(v,b){if(typeof e.by=="string"){let f=e.by;return(v==null?void 0:v[f])===(b==null?void 0:b[f])}return e.by(v,b)},orientation:S(()=>e.horizontal?"horizontal":"vertical"),labelRef:r,buttonRef:l,optionsRef:i,disabled:S(()=>e.disabled),options:s,searchQuery:d,activeOptionIndex:u,activationTrigger:p,closeListbox(){e.disabled||a.value!==1&&(a.value=1,u.value=null)},openListbox(){e.disabled||a.value!==0&&(a.value=0)},goToOption(v,b,f){if(e.disabled||a.value===1)return;let w=c(),$=Rt(v===H.Specific?{focus:H.Specific,id:b}:{focus:v},{resolveItems:()=>w.options,resolveActiveIndex:()=>w.activeOptionIndex,resolveId:y=>y.id,resolveDisabled:y=>y.dataRef.disabled});d.value="",u.value=$,p.value=f??1,s.value=w.options},search(v){if(e.disabled||a.value===1)return;let b=d.value!==""?0:1;d.value+=v.toLowerCase();let f=(u.value!==null?s.value.slice(u.value+b).concat(s.value.slice(0,u.value+b)):s.value).find($=>$.dataRef.textValue.startsWith(d.value)&&!$.dataRef.disabled),w=f?s.value.indexOf(f):-1;w===-1||w===u.value||(u.value=w,p.value=1)},clearSearch(){e.disabled||a.value!==1&&d.value!==""&&(d.value="")},registerOption(v,b){let f=c(w=>[...w,{id:v,dataRef:b}]);s.value=f.options,u.value=f.activeOptionIndex},unregisterOption(v){let b=c(f=>{let w=f.findIndex($=>$.id===v);return w!==-1&&f.splice(w,1),f});s.value=b.options,u.value=b.activeOptionIndex,p.value=1},theirOnChange(v){e.disabled||k(v)},select(v){e.disabled||k(oe(h.value,{0:()=>v,1:()=>{let b=ee(C.value.value).slice(),f=ee(v),w=b.findIndex($=>C.compare(f,ee($)));return w===-1?b.push(f):b.splice(w,1),b}}))}};Vn([l,i],(v,b)=>{var f;C.closeListbox(),$a(b,Ma.Loose)||(v.preventDefault(),(f=F(l))==null||f.focus())},S(()=>a.value===0)),At(Ln,C),Cn(S(()=>oe(a.value,{0:Ce.Open,1:Ce.Closed})));let m=S(()=>{var v;return(v=F(l))==null?void 0:v.closest("form")});return Oe(()=>{ie([m],()=>{if(!m.value||e.defaultValue===void 0)return;function v(){C.theirOnChange(e.defaultValue)}return m.value.addEventListener("reset",v),()=>{var b;(b=m.value)==null||b.removeEventListener("reset",v)}},{immediate:!0})}),()=>{let{name:v,modelValue:b,disabled:f,form:w,...$}=e,y={open:a.value===0,disabled:f,value:M.value};return Ie(me,[...v!=null&&M.value!=null?qt({[v]:M.value}).map(([E,g])=>Ie(zt,Pt({features:Ft.Hidden,key:E,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:w,disabled:f,name:E,value:g}))):[],we({ourProps:{},theirProps:{...t,...ot($,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:y,slots:n,attrs:t,name:"Listbox"})])}}}),xo=X({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:n,slots:t,expose:o}){var a;let r=(a=e.id)!=null?a:`headlessui-listbox-button-${$e()}`,l=xt("ListboxButton");o({el:l.buttonRef,$el:l.buttonRef});function i(p){switch(p.key){case W.Space:case W.Enter:case W.ArrowDown:p.preventDefault(),l.openListbox(),te(()=>{var c;(c=F(l.optionsRef))==null||c.focus({preventScroll:!0}),l.value.value||l.goToOption(H.First)});break;case W.ArrowUp:p.preventDefault(),l.openListbox(),te(()=>{var c;(c=F(l.optionsRef))==null||c.focus({preventScroll:!0}),l.value.value||l.goToOption(H.Last)});break}}function s(p){switch(p.key){case W.Space:p.preventDefault();break}}function d(p){l.disabled.value||(l.listboxState.value===0?(l.closeListbox(),te(()=>{var c;return(c=F(l.buttonRef))==null?void 0:c.focus({preventScroll:!0})})):(p.preventDefault(),l.openListbox(),go(()=>{var c;return(c=F(l.optionsRef))==null?void 0:c.focus({preventScroll:!0})})))}let u=Dt(S(()=>({as:e.as,type:n.type})),l.buttonRef);return()=>{var p,c;let h={open:l.listboxState.value===0,disabled:l.disabled.value,value:l.value.value},{...x}=e,k={ref:l.buttonRef,id:r,type:u.value,"aria-haspopup":"listbox","aria-controls":(p=F(l.optionsRef))==null?void 0:p.id,"aria-expanded":l.listboxState.value===0,"aria-labelledby":l.labelRef.value?[(c=F(l.labelRef))==null?void 0:c.id,r].join(" "):void 0,disabled:l.disabled.value===!0?!0:void 0,onKeydown:i,onKeyup:s,onClick:d};return we({ourProps:k,theirProps:x,slot:h,attrs:n,slots:t,name:"ListboxButton"})}}}),wo=X({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:n,slots:t,expose:o}){var a;let r=(a=e.id)!=null?a:`headlessui-listbox-options-${$e()}`,l=xt("ListboxOptions"),i=j(null);o({el:l.optionsRef,$el:l.optionsRef});function s(p){switch(i.value&&clearTimeout(i.value),p.key){case W.Space:if(l.searchQuery.value!=="")return p.preventDefault(),p.stopPropagation(),l.search(p.key);case W.Enter:if(p.preventDefault(),p.stopPropagation(),l.activeOptionIndex.value!==null){let c=l.options.value[l.activeOptionIndex.value];l.select(c.dataRef.value)}l.mode.value===0&&(l.closeListbox(),te(()=>{var c;return(c=F(l.buttonRef))==null?void 0:c.focus({preventScroll:!0})}));break;case oe(l.orientation.value,{vertical:W.ArrowDown,horizontal:W.ArrowRight}):return p.preventDefault(),p.stopPropagation(),l.goToOption(H.Next);case oe(l.orientation.value,{vertical:W.ArrowUp,horizontal:W.ArrowLeft}):return p.preventDefault(),p.stopPropagation(),l.goToOption(H.Previous);case W.Home:case W.PageUp:return p.preventDefault(),p.stopPropagation(),l.goToOption(H.First);case W.End:case W.PageDown:return p.preventDefault(),p.stopPropagation(),l.goToOption(H.Last);case W.Escape:p.preventDefault(),p.stopPropagation(),l.closeListbox(),te(()=>{var c;return(c=F(l.buttonRef))==null?void 0:c.focus({preventScroll:!0})});break;case W.Tab:p.preventDefault(),p.stopPropagation();break;default:p.key.length===1&&(l.search(p.key),i.value=setTimeout(()=>l.clearSearch(),350));break}}let d=In(),u=S(()=>d!==null?(d.value&Ce.Open)===Ce.Open:l.listboxState.value===0);return()=>{var p,c;let h={open:l.listboxState.value===0},{...x}=e,k={"aria-activedescendant":l.activeOptionIndex.value===null||(p=l.options.value[l.activeOptionIndex.value])==null?void 0:p.id,"aria-multiselectable":l.mode.value===1?!0:void 0,"aria-labelledby":(c=F(l.buttonRef))==null?void 0:c.id,"aria-orientation":l.orientation.value,id:r,onKeydown:s,role:"listbox",tabIndex:0,ref:l.optionsRef};return we({ourProps:k,theirProps:x,slot:h,attrs:n,slots:t,features:Le.RenderStrategy|Le.Static,visible:u.value,name:"ListboxOptions"})}}}),Oo=X({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:n,attrs:t,expose:o}){var a;let r=(a=e.id)!=null?a:`headlessui-listbox-option-${$e()}`,l=xt("ListboxOption"),i=j(null);o({el:i,$el:i});let s=S(()=>l.activeOptionIndex.value!==null?l.options.value[l.activeOptionIndex.value].id===r:!1),d=S(()=>oe(l.mode.value,{0:()=>l.compare(ee(l.value.value),ee(e.value)),1:()=>ee(l.value.value).some(v=>l.compare(ee(v),ee(e.value)))})),u=S(()=>oe(l.mode.value,{1:()=>{var v;let b=ee(l.value.value);return((v=l.options.value.find(f=>b.some(w=>l.compare(ee(w),ee(f.dataRef.value)))))==null?void 0:v.id)===r},0:()=>d.value})),p=vo(i),c=S(()=>({disabled:e.disabled,value:e.value,get textValue(){return p()},domRef:i}));Oe(()=>l.registerOption(r,c)),Et(()=>l.unregisterOption(r)),Oe(()=>{ie([l.listboxState,d],()=>{l.listboxState.value===0&&d.value&&oe(l.mode.value,{1:()=>{u.value&&l.goToOption(H.Specific,r)},0:()=>{l.goToOption(H.Specific,r)}})},{immediate:!0})}),Pe(()=>{l.listboxState.value===0&&s.value&&l.activationTrigger.value!==0&&te(()=>{var v,b;return(b=(v=F(i))==null?void 0:v.scrollIntoView)==null?void 0:b.call(v,{block:"nearest"})})});function h(v){if(e.disabled)return v.preventDefault();l.select(e.value),l.mode.value===0&&(l.closeListbox(),te(()=>{var b;return(b=F(l.buttonRef))==null?void 0:b.focus({preventScroll:!0})}))}function x(){if(e.disabled)return l.goToOption(H.Nothing);l.goToOption(H.Specific,r)}let k=Dn();function M(v){k.update(v)}function C(v){k.wasMoved(v)&&(e.disabled||s.value||l.goToOption(H.Specific,r,0))}function m(v){k.wasMoved(v)&&(e.disabled||s.value&&l.goToOption(H.Nothing))}return()=>{let{disabled:v}=e,b={active:s.value,selected:d.value,disabled:v},{value:f,disabled:w,...$}=e,y={id:r,ref:i,role:"option",tabIndex:v===!0?void 0:-1,"aria-disabled":v===!0?!0:void 0,"aria-selected":d.value,disabled:void 0,onClick:h,onFocus:x,onPointerenter:M,onMouseenter:M,onPointermove:C,onMousemove:C,onPointerleave:m,onMouseleave:m};return we({ourProps:y,theirProps:$,slot:b,attrs:t,slots:n,name:"ListboxOption"})}}}),So=Symbol("GroupContext"),ko=X({name:"Switch",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,optional:!0},form:{type:String,optional:!0},name:{type:String,optional:!0},value:{type:String,optional:!0},id:{type:String,default:null},disabled:{type:Boolean,default:!1},tabIndex:{type:Number,default:0}},inheritAttrs:!1,setup(e,{emit:n,attrs:t,slots:o,expose:a}){var r;let l=(r=e.id)!=null?r:`headlessui-switch-${$e()}`,i=bt(So,null),[s,d]=Nt(S(()=>e.modelValue),m=>n("update:modelValue",m),S(()=>e.defaultChecked));function u(){d(!s.value)}let p=j(null),c=i===null?p:i.switchRef,h=Dt(S(()=>({as:e.as,type:t.type})),c);a({el:c,$el:c});function x(m){m.preventDefault(),u()}function k(m){m.key===W.Space?(m.preventDefault(),u()):m.key===W.Enter&&Za(m.currentTarget)}function M(m){m.preventDefault()}let C=S(()=>{var m,v;return(v=(m=F(c))==null?void 0:m.closest)==null?void 0:v.call(m,"form")});return Oe(()=>{ie([C],()=>{if(!C.value||e.defaultChecked===void 0)return;function m(){d(e.defaultChecked)}return C.value.addEventListener("reset",m),()=>{var v;(v=C.value)==null||v.removeEventListener("reset",m)}},{immediate:!0})}),()=>{let{name:m,value:v,form:b,tabIndex:f,...w}=e,$={checked:s.value},y={id:l,ref:c,role:"switch",type:h.value,tabIndex:f===-1?0:f,"aria-checked":s.value,"aria-labelledby":i==null?void 0:i.labelledby.value,"aria-describedby":i==null?void 0:i.describedby.value,onClick:x,onKeyup:k,onKeypress:M};return Ie(me,[m!=null&&s.value!=null?Ie(zt,Pt({features:Ft.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:s.value,form:b,disabled:w.disabled,name:m,value:v})):null,we({ourProps:y,theirProps:{...t,...ot(w,["modelValue","defaultChecked"])},slot:$,attrs:t,slots:o,name:"Switch"})])}}});const It=lt(ne.ui.strategy,ne.ui.kbd,Aa),Co=X({inheritAttrs:!1,props:{value:{type:String,default:null},size:{type:String,default:()=>It.default.size,validator(e){return Object.keys(It.size).includes(e)}},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:n,attrs:t}=nt("kbd",ke(e,"ui"),It),o=S(()=>gt(de(n.value.base,n.value.size[e.size],n.value.padding,n.value.rounded,n.value.font,n.value.background,n.value.ring),e.class));return{ui:n,attrs:t,kbdClass:o}}});function Io(e,n,t,o,a,r){return T(),L("kbd",Fe({class:e.kbdClass},e.attrs),[fe(e.$slots,"default",{},()=>[J(Y(e.value),1)])],16)}const Un=Ke(Co,[["render",Io]]);function st(){return da("process-form",()=>ke({activeTabs:"source",preventScroll:!1}))}const $o={tabindex:"0",class:"text-md leading-tight"},Mo=["onClick"],Ro=D("span",null,"}",-1),To=X({__name:"MappingThree",props:{mapping:{default:()=>[]},prefix:{},path:{}},setup(e){const n=j(!1),t=st(),o=async r=>{t.value.activeMappingPath=a(r)},a=r=>[e.path,r].filter(l=>l).join(".");return(r,l)=>{const i=Ye,s=Un,d=yt("MappingThree",!0);return T(),L("div",$o,[D("span",{onClick:l[1]||(l[1]=G(u=>r.path?o(""):void 0,["prevent"])),class:"inline-flex items-center"},[J(Y(r.prefix?`${r.prefix} {`:"{")+" ",1),V(s,{class:_(["cursor-pointer mx-1 inline-flex items-center",{"opacity-60":z(n)}]),onClick:l[0]||(l[0]=G(u=>n.value=!z(n),["prevent"]))},{default:B(()=>[D("span",null,Y(r.mapping.length>=2?`${r.mapping.length} fields`:`${r.mapping.length} field`),1),z(n)?(T(),Q(i,{key:1,name:"i-heroicons-chevron-right",class:"ml-1"})):(T(),Q(i,{key:0,name:"i-heroicons-chevron-down",class:"ml-1"}))]),_:1},8,["class"])]),z(n)?K("",!0):(T(!0),L(me,{key:0},rt(r.mapping,u=>{var p,c;return T(),L("div",{class:_(["pl-8 cursor-pointer hover:underline",{"border-l ":r.path,"border-sky-600 dark:border-sky-300/60":r.path&&((p=z(t).activeMappingPath)==null?void 0:p.includes(r.path)),"border-gray-200 dark:border-gray-700":r.path&&!((c=z(t).activeMappingPath)!=null&&c.includes(r.path))}])},[u._type==="simple"?(T(),L("p",{key:0,class:_({"font-bold":a(u.column)===(z(t).activeMappingPath||"")}),onClick:G(h=>o(u.column),["prevent"]),tabindex:"0"},Y(u.column),11,Mo)):u._type==="relation"?(T(),Q(d,{key:1,class:_({"font-bold":a(u.name)===(z(t).activeMappingPath||"")}),mapping:u.mapping,prefix:u.name,path:a(u.name)},null,8,["class","mapping","prefix","path"])):K("",!0)],2)}),256)),Ro])}}}),Vo={class:"flex flex-col flex-1 gap-y-4 max-h-screen overflow-auto p-4"},Eo=D("p",{class:"text-base font-semibold leading-6 text-gray-900 dark:text-white"}," Source ",-1),Ao=D("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," Describe which data will be synchronized ",-1),Po=D("p",{class:"text-base font-semibold leading-6 text-gray-900 dark:text-white"}," Mapping ",-1),Do=D("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," Describe how to transform your relational data into unstructured documents ",-1),_o=D("p",{class:"text-base font-semibold leading-6 text-gray-900 dark:text-white"}," Output ",-1),Bo=D("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," Describe how your data will be synchronized ",-1),zo=D("p",null,'Targets: "TODO Implement target and target drivers"[]',-1),Fo=X({__name:"LeftPanel",props:{form:{required:!0},formModifiers:{}},emits:["update:form"],setup(e){const n=_e(e,"form"),t=st();function o(a){t.value.activeTabs=a}return(a,r)=>{const l=jt,i=To;return T(),L("div",Vo,[V(l,{tabindex:"0",class:"cursor-pointer",onClick:r[0]||(r[0]=G(s=>o("source"),["prevent"])),onKeydown:r[1]||(r[1]=je(s=>o("source"),["enter","space"])),ui:z(t).activeTabs==="source"?{ring:"ring-1 ring-primary dark:ring-primary"}:void 0},{header:B(()=>[Eo,Ao]),default:B(()=>[D("p",null,"Source: Source n°"+Y(n.value.source),1),D("p",null,"Table: "+Y(n.value.table||"---"),1)]),_:1},8,["ui"]),V(l,{tabindex:"0",class:"flex-1 cursor-pointer",onClick:r[2]||(r[2]=G(s=>o("mapping"),["prevent"])),onKeydown:r[3]||(r[3]=je(s=>o("mapping"),["enter","space"])),ui:z(t).activeTabs==="mapping"?{ring:"ring-1 ring-primary dark:ring-primary"}:void 0},{header:B(()=>[Po,Do]),default:B(()=>[V(i,{mapping:n.value.mapping,prefix:n.value.table},null,8,["mapping","prefix"])]),_:1},8,["ui"]),V(l,{tabindex:"0",class:"cursor-pointer",onClick:r[4]||(r[4]=G(s=>o("output"),["prevent"])),onKeydown:r[5]||(r[5]=je(s=>o("output"),["enter","space"])),ui:z(t).activeTabs==="output"?{ring:"ring-1 ring-primary dark:ring-primary"}:void 0},{header:B(()=>[_o,Bo]),default:B(()=>[zo,D("p",null,"Index: "+Y(n.value.index),1)]),_:1},8,["ui"])])}}});function se(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var n=e.ownerDocument;return n&&n.defaultView||window}return e}function De(e){var n=se(e).Element;return e instanceof n||e instanceof Element}function ce(e){var n=se(e).HTMLElement;return e instanceof n||e instanceof HTMLElement}function Wt(e){if(typeof ShadowRoot>"u")return!1;var n=se(e).ShadowRoot;return e instanceof n||e instanceof ShadowRoot}var Ae=Math.max,ht=Math.min,Ne=Math.round;function Tt(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(n){return n.brand+"/"+n.version}).join(" "):navigator.userAgent}function Nn(){return!/^((?!chrome|android).)*safari/i.test(Tt())}function qe(e,n,t){n===void 0&&(n=!1),t===void 0&&(t=!1);var o=e.getBoundingClientRect(),a=1,r=1;n&&ce(e)&&(a=e.offsetWidth>0&&Ne(o.width)/e.offsetWidth||1,r=e.offsetHeight>0&&Ne(o.height)/e.offsetHeight||1);var l=De(e)?se(e):window,i=l.visualViewport,s=!Nn()&&t,d=(o.left+(s&&i?i.offsetLeft:0))/a,u=(o.top+(s&&i?i.offsetTop:0))/r,p=o.width/a,c=o.height/r;return{width:p,height:c,top:u,right:d+p,bottom:u+c,left:d,x:d,y:u}}function Ht(e){var n=se(e),t=n.pageXOffset,o=n.pageYOffset;return{scrollLeft:t,scrollTop:o}}function jo(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Lo(e){return e===se(e)||!ce(e)?Ht(e):jo(e)}function xe(e){return e?(e.nodeName||"").toLowerCase():null}function Me(e){return((De(e)?e.ownerDocument:e.document)||window.document).documentElement}function Kt(e){return qe(Me(e)).left+Ht(e).scrollLeft}function Se(e){return se(e).getComputedStyle(e)}function Yt(e){var n=Se(e),t=n.overflow,o=n.overflowX,a=n.overflowY;return/auto|scroll|overlay|hidden/.test(t+a+o)}function Uo(e){var n=e.getBoundingClientRect(),t=Ne(n.width)/e.offsetWidth||1,o=Ne(n.height)/e.offsetHeight||1;return t!==1||o!==1}function No(e,n,t){t===void 0&&(t=!1);var o=ce(n),a=ce(n)&&Uo(n),r=Me(n),l=qe(e,a,t),i={scrollLeft:0,scrollTop:0},s={x:0,y:0};return(o||!o&&!t)&&((xe(n)!=="body"||Yt(r))&&(i=Lo(n)),ce(n)?(s=qe(n,!0),s.x+=n.clientLeft,s.y+=n.clientTop):r&&(s.x=Kt(r))),{x:l.left+i.scrollLeft-s.x,y:l.top+i.scrollTop-s.y,width:l.width,height:l.height}}function Xt(e){var n=qe(e),t=e.offsetWidth,o=e.offsetHeight;return Math.abs(n.width-t)<=1&&(t=n.width),Math.abs(n.height-o)<=1&&(o=n.height),{x:e.offsetLeft,y:e.offsetTop,width:t,height:o}}function wt(e){return xe(e)==="html"?e:e.assignedSlot||e.parentNode||(Wt(e)?e.host:null)||Me(e)}function qn(e){return["html","body","#document"].indexOf(xe(e))>=0?e.ownerDocument.body:ce(e)&&Yt(e)?e:qn(wt(e))}function et(e,n){var t;n===void 0&&(n=[]);var o=qn(e),a=o===((t=e.ownerDocument)==null?void 0:t.body),r=se(o),l=a?[r].concat(r.visualViewport||[],Yt(o)?o:[]):o,i=n.concat(l);return a?i:i.concat(et(wt(l)))}function qo(e){return["table","td","th"].indexOf(xe(e))>=0}function hn(e){return!ce(e)||Se(e).position==="fixed"?null:e.offsetParent}function Wo(e){var n=/firefox/i.test(Tt()),t=/Trident/i.test(Tt());if(t&&ce(e)){var o=Se(e);if(o.position==="fixed")return null}var a=wt(e);for(Wt(a)&&(a=a.host);ce(a)&&["html","body"].indexOf(xe(a))<0;){var r=Se(a);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||n&&r.willChange==="filter"||n&&r.filter&&r.filter!=="none")return a;a=a.parentNode}return null}function ut(e){for(var n=se(e),t=hn(e);t&&qo(t)&&Se(t).position==="static";)t=hn(t);return t&&(xe(t)==="html"||xe(t)==="body"&&Se(t).position==="static")?n:t||Wo(e)||n}var le="top",he="bottom",be="right",re="left",Gt="auto",dt=[le,he,be,re],We="start",at="end",Ho="clippingParents",Wn="viewport",Ze="popper",Ko="reference",bn=dt.reduce(function(e,n){return e.concat([n+"-"+We,n+"-"+at])},[]),Hn=[].concat(dt,[Gt]).reduce(function(e,n){return e.concat([n,n+"-"+We,n+"-"+at])},[]),Yo="beforeRead",Xo="read",Go="afterRead",Qo="beforeMain",Jo="main",Zo="afterMain",el="beforeWrite",tl="write",nl="afterWrite",al=[Yo,Xo,Go,Qo,Jo,Zo,el,tl,nl];function ol(e){var n=new Map,t=new Set,o=[];e.forEach(function(r){n.set(r.name,r)});function a(r){t.add(r.name);var l=[].concat(r.requires||[],r.requiresIfExists||[]);l.forEach(function(i){if(!t.has(i)){var s=n.get(i);s&&a(s)}}),o.push(r)}return e.forEach(function(r){t.has(r.name)||a(r)}),o}function ll(e){var n=ol(e);return al.reduce(function(t,o){return t.concat(n.filter(function(a){return a.phase===o}))},[])}function rl(e){var n;return function(){return n||(n=new Promise(function(t){Promise.resolve().then(function(){n=void 0,t(e())})})),n}}function il(e){var n=e.reduce(function(t,o){var a=t[o.name];return t[o.name]=a?Object.assign({},a,o,{options:Object.assign({},a.options,o.options),data:Object.assign({},a.data,o.data)}):o,t},{});return Object.keys(n).map(function(t){return n[t]})}function sl(e,n){var t=se(e),o=Me(e),a=t.visualViewport,r=o.clientWidth,l=o.clientHeight,i=0,s=0;if(a){r=a.width,l=a.height;var d=Nn();(d||!d&&n==="fixed")&&(i=a.offsetLeft,s=a.offsetTop)}return{width:r,height:l,x:i+Kt(e),y:s}}function ul(e){var n,t=Me(e),o=Ht(e),a=(n=e.ownerDocument)==null?void 0:n.body,r=Ae(t.scrollWidth,t.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),l=Ae(t.scrollHeight,t.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),i=-o.scrollLeft+Kt(e),s=-o.scrollTop;return Se(a||t).direction==="rtl"&&(i+=Ae(t.clientWidth,a?a.clientWidth:0)-r),{width:r,height:l,x:i,y:s}}function Kn(e,n){var t=n.getRootNode&&n.getRootNode();if(e.contains(n))return!0;if(t&&Wt(t)){var o=n;do{if(o&&e.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function Vt(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function dl(e,n){var t=qe(e,!1,n==="fixed");return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function gn(e,n,t){return n===Wn?Vt(sl(e,t)):De(n)?dl(n,t):Vt(ul(Me(e)))}function cl(e){var n=et(wt(e)),t=["absolute","fixed"].indexOf(Se(e).position)>=0,o=t&&ce(e)?ut(e):e;return De(o)?n.filter(function(a){return De(a)&&Kn(a,o)&&xe(a)!=="body"}):[]}function pl(e,n,t,o){var a=n==="clippingParents"?cl(e):[].concat(n),r=[].concat(a,[t]),l=r[0],i=r.reduce(function(s,d){var u=gn(e,d,o);return s.top=Ae(u.top,s.top),s.right=ht(u.right,s.right),s.bottom=ht(u.bottom,s.bottom),s.left=Ae(u.left,s.left),s},gn(e,l,o));return i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}function ye(e){return e.split("-")[0]}function He(e){return e.split("-")[1]}function Qt(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Yn(e){var n=e.reference,t=e.element,o=e.placement,a=o?ye(o):null,r=o?He(o):null,l=n.x+n.width/2-t.width/2,i=n.y+n.height/2-t.height/2,s;switch(a){case le:s={x:l,y:n.y-t.height};break;case he:s={x:l,y:n.y+n.height};break;case be:s={x:n.x+n.width,y:i};break;case re:s={x:n.x-t.width,y:i};break;default:s={x:n.x,y:n.y}}var d=a?Qt(a):null;if(d!=null){var u=d==="y"?"height":"width";switch(r){case We:s[d]=s[d]-(n[u]/2-t[u]/2);break;case at:s[d]=s[d]+(n[u]/2-t[u]/2);break}}return s}function Xn(){return{top:0,right:0,bottom:0,left:0}}function Gn(e){return Object.assign({},Xn(),e)}function Qn(e,n){return n.reduce(function(t,o){return t[o]=e,t},{})}function Jt(e,n){n===void 0&&(n={});var t=n,o=t.placement,a=o===void 0?e.placement:o,r=t.strategy,l=r===void 0?e.strategy:r,i=t.boundary,s=i===void 0?Ho:i,d=t.rootBoundary,u=d===void 0?Wn:d,p=t.elementContext,c=p===void 0?Ze:p,h=t.altBoundary,x=h===void 0?!1:h,k=t.padding,M=k===void 0?0:k,C=Gn(typeof M!="number"?M:Qn(M,dt)),m=c===Ze?Ko:Ze,v=e.rects.popper,b=e.elements[x?m:c],f=pl(De(b)?b:b.contextElement||Me(e.elements.popper),s,u,l),w=qe(e.elements.reference),$=Yn({reference:w,element:v,strategy:"absolute",placement:a}),y=Vt(Object.assign({},v,$)),E=c===Ze?y:w,g={top:f.top-E.top+C.top,bottom:E.bottom-f.bottom+C.bottom,left:f.left-E.left+C.left,right:E.right-f.right+C.right},O=e.modifiersData.offset;if(c===Ze&&O){var A=O[a];Object.keys(g).forEach(function(P){var I=[be,he].indexOf(P)>=0?1:-1,U=[le,he].indexOf(P)>=0?"y":"x";g[P]+=A[U]*I})}return g}var yn={placement:"bottom",modifiers:[],strategy:"absolute"};function xn(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return!n.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function vl(e){e===void 0&&(e={});var n=e,t=n.defaultModifiers,o=t===void 0?[]:t,a=n.defaultOptions,r=a===void 0?yn:a;return function(i,s,d){d===void 0&&(d=r);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},yn,r),modifiersData:{},elements:{reference:i,popper:s},attributes:{},styles:{}},p=[],c=!1,h={state:u,setOptions:function(C){var m=typeof C=="function"?C(u.options):C;k(),u.options=Object.assign({},r,u.options,m),u.scrollParents={reference:De(i)?et(i):i.contextElement?et(i.contextElement):[],popper:et(s)};var v=ll(il([].concat(o,u.options.modifiers)));return u.orderedModifiers=v.filter(function(b){return b.enabled}),x(),h.update()},forceUpdate:function(){if(!c){var C=u.elements,m=C.reference,v=C.popper;if(xn(m,v)){u.rects={reference:No(m,ut(v),u.options.strategy==="fixed"),popper:Xt(v)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(g){return u.modifiersData[g.name]=Object.assign({},g.data)});for(var b=0;b<u.orderedModifiers.length;b++){if(u.reset===!0){u.reset=!1,b=-1;continue}var f=u.orderedModifiers[b],w=f.fn,$=f.options,y=$===void 0?{}:$,E=f.name;typeof w=="function"&&(u=w({state:u,options:y,name:E,instance:h})||u)}}}},update:rl(function(){return new Promise(function(M){h.forceUpdate(),M(u)})}),destroy:function(){k(),c=!0}};if(!xn(i,s))return h;h.setOptions(d).then(function(M){!c&&d.onFirstUpdate&&d.onFirstUpdate(M)});function x(){u.orderedModifiers.forEach(function(M){var C=M.name,m=M.options,v=m===void 0?{}:m,b=M.effect;if(typeof b=="function"){var f=b({state:u,name:C,instance:h,options:v}),w=function(){};p.push(f||w)}})}function k(){p.forEach(function(M){return M()}),p=[]}return h}}var vt={passive:!0};function fl(e){var n=e.state,t=e.instance,o=e.options,a=o.scroll,r=a===void 0?!0:a,l=o.resize,i=l===void 0?!0:l,s=se(n.elements.popper),d=[].concat(n.scrollParents.reference,n.scrollParents.popper);return r&&d.forEach(function(u){u.addEventListener("scroll",t.update,vt)}),i&&s.addEventListener("resize",t.update,vt),function(){r&&d.forEach(function(u){u.removeEventListener("scroll",t.update,vt)}),i&&s.removeEventListener("resize",t.update,vt)}}const Jn={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:fl,data:{}};function ml(e){var n=e.state,t=e.name;n.modifiersData[t]=Yn({reference:n.rects.reference,element:n.rects.popper,strategy:"absolute",placement:n.placement})}const hl={name:"popperOffsets",enabled:!0,phase:"read",fn:ml,data:{}};var bl={top:"auto",right:"auto",bottom:"auto",left:"auto"};function gl(e,n){var t=e.x,o=e.y,a=n.devicePixelRatio||1;return{x:Ne(t*a)/a||0,y:Ne(o*a)/a||0}}function wn(e){var n,t=e.popper,o=e.popperRect,a=e.placement,r=e.variation,l=e.offsets,i=e.position,s=e.gpuAcceleration,d=e.adaptive,u=e.roundOffsets,p=e.isFixed,c=l.x,h=c===void 0?0:c,x=l.y,k=x===void 0?0:x,M=typeof u=="function"?u({x:h,y:k}):{x:h,y:k};h=M.x,k=M.y;var C=l.hasOwnProperty("x"),m=l.hasOwnProperty("y"),v=re,b=le,f=window;if(d){var w=ut(t),$="clientHeight",y="clientWidth";if(w===se(t)&&(w=Me(t),Se(w).position!=="static"&&i==="absolute"&&($="scrollHeight",y="scrollWidth")),w=w,a===le||(a===re||a===be)&&r===at){b=he;var E=p&&w===f&&f.visualViewport?f.visualViewport.height:w[$];k-=E-o.height,k*=s?1:-1}if(a===re||(a===le||a===he)&&r===at){v=be;var g=p&&w===f&&f.visualViewport?f.visualViewport.width:w[y];h-=g-o.width,h*=s?1:-1}}var O=Object.assign({position:i},d&&bl),A=u===!0?gl({x:h,y:k},se(t)):{x:h,y:k};if(h=A.x,k=A.y,s){var P;return Object.assign({},O,(P={},P[b]=m?"0":"",P[v]=C?"0":"",P.transform=(f.devicePixelRatio||1)<=1?"translate("+h+"px, "+k+"px)":"translate3d("+h+"px, "+k+"px, 0)",P))}return Object.assign({},O,(n={},n[b]=m?k+"px":"",n[v]=C?h+"px":"",n.transform="",n))}function yl(e){var n=e.state,t=e.options,o=t.gpuAcceleration,a=o===void 0?!0:o,r=t.adaptive,l=r===void 0?!0:r,i=t.roundOffsets,s=i===void 0?!0:i,d={placement:ye(n.placement),variation:He(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:a,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,wn(Object.assign({},d,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:l,roundOffsets:s})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,wn(Object.assign({},d,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:s})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})}const Zn={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:yl,data:{}};function xl(e){var n=e.state;Object.keys(n.elements).forEach(function(t){var o=n.styles[t]||{},a=n.attributes[t]||{},r=n.elements[t];!ce(r)||!xe(r)||(Object.assign(r.style,o),Object.keys(a).forEach(function(l){var i=a[l];i===!1?r.removeAttribute(l):r.setAttribute(l,i===!0?"":i)}))})}function wl(e){var n=e.state,t={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,t.popper),n.styles=t,n.elements.arrow&&Object.assign(n.elements.arrow.style,t.arrow),function(){Object.keys(n.elements).forEach(function(o){var a=n.elements[o],r=n.attributes[o]||{},l=Object.keys(n.styles.hasOwnProperty(o)?n.styles[o]:t[o]),i=l.reduce(function(s,d){return s[d]="",s},{});!ce(a)||!xe(a)||(Object.assign(a.style,i),Object.keys(r).forEach(function(s){a.removeAttribute(s)}))})}}const Ol={name:"applyStyles",enabled:!0,phase:"write",fn:xl,effect:wl,requires:["computeStyles"]};var Sl=[Jn,hl,Zn,Ol],kl={left:"right",right:"left",bottom:"top",top:"bottom"};function mt(e){return e.replace(/left|right|bottom|top/g,function(n){return kl[n]})}var Cl={start:"end",end:"start"};function On(e){return e.replace(/start|end/g,function(n){return Cl[n]})}function Il(e,n){n===void 0&&(n={});var t=n,o=t.placement,a=t.boundary,r=t.rootBoundary,l=t.padding,i=t.flipVariations,s=t.allowedAutoPlacements,d=s===void 0?Hn:s,u=He(o),p=u?i?bn:bn.filter(function(x){return He(x)===u}):dt,c=p.filter(function(x){return d.indexOf(x)>=0});c.length===0&&(c=p);var h=c.reduce(function(x,k){return x[k]=Jt(e,{placement:k,boundary:a,rootBoundary:r,padding:l})[ye(k)],x},{});return Object.keys(h).sort(function(x,k){return h[x]-h[k]})}function $l(e){if(ye(e)===Gt)return[];var n=mt(e);return[On(e),n,On(n)]}function Ml(e){var n=e.state,t=e.options,o=e.name;if(!n.modifiersData[o]._skip){for(var a=t.mainAxis,r=a===void 0?!0:a,l=t.altAxis,i=l===void 0?!0:l,s=t.fallbackPlacements,d=t.padding,u=t.boundary,p=t.rootBoundary,c=t.altBoundary,h=t.flipVariations,x=h===void 0?!0:h,k=t.allowedAutoPlacements,M=n.options.placement,C=ye(M),m=C===M,v=s||(m||!x?[mt(M)]:$l(M)),b=[M].concat(v).reduce(function(ve,ue){return ve.concat(ye(ue)===Gt?Il(n,{placement:ue,boundary:u,rootBoundary:p,padding:d,flipVariations:x,allowedAutoPlacements:k}):ue)},[]),f=n.rects.reference,w=n.rects.popper,$=new Map,y=!0,E=b[0],g=0;g<b.length;g++){var O=b[g],A=ye(O),P=He(O)===We,I=[le,he].indexOf(A)>=0,U=I?"width":"height",R=Jt(n,{placement:O,boundary:u,rootBoundary:p,altBoundary:c,padding:d}),N=I?P?be:re:P?he:le;f[U]>w[U]&&(N=mt(N));var Z=mt(N),pe=[];if(r&&pe.push(R[A]<=0),i&&pe.push(R[N]<=0,R[Z]<=0),pe.every(function(ve){return ve})){E=O,y=!1;break}$.set(O,pe)}if(y)for(var Be=x?3:1,Ge=function(ue){var Qe=b.find(function(ct){var Re=$.get(ct);if(Re)return Re.slice(0,ue).every(function(Ot){return Ot})});if(Qe)return E=Qe,"break"},q=Be;q>0;q--){var ae=Ge(q);if(ae==="break")break}n.placement!==E&&(n.modifiersData[o]._skip=!0,n.placement=E,n.reset=!0)}}const Rl={name:"flip",enabled:!0,phase:"main",fn:Ml,requiresIfExists:["offset"],data:{_skip:!1}};function Tl(e,n,t){var o=ye(e),a=[re,le].indexOf(o)>=0?-1:1,r=typeof t=="function"?t(Object.assign({},n,{placement:e})):t,l=r[0],i=r[1];return l=l||0,i=(i||0)*a,[re,be].indexOf(o)>=0?{x:i,y:l}:{x:l,y:i}}function Vl(e){var n=e.state,t=e.options,o=e.name,a=t.offset,r=a===void 0?[0,0]:a,l=Hn.reduce(function(u,p){return u[p]=Tl(p,n.rects,r),u},{}),i=l[n.placement],s=i.x,d=i.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=s,n.modifiersData.popperOffsets.y+=d),n.modifiersData[o]=l}const El={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Vl};function Al(e){return e==="x"?"y":"x"}function tt(e,n,t){return Ae(e,ht(n,t))}function Pl(e,n,t){var o=tt(e,n,t);return o>t?t:o}function Dl(e){var n=e.state,t=e.options,o=e.name,a=t.mainAxis,r=a===void 0?!0:a,l=t.altAxis,i=l===void 0?!1:l,s=t.boundary,d=t.rootBoundary,u=t.altBoundary,p=t.padding,c=t.tether,h=c===void 0?!0:c,x=t.tetherOffset,k=x===void 0?0:x,M=Jt(n,{boundary:s,rootBoundary:d,padding:p,altBoundary:u}),C=ye(n.placement),m=He(n.placement),v=!m,b=Qt(C),f=Al(b),w=n.modifiersData.popperOffsets,$=n.rects.reference,y=n.rects.popper,E=typeof k=="function"?k(Object.assign({},n.rects,{placement:n.placement})):k,g=typeof E=="number"?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),O=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,A={x:0,y:0};if(w){if(r){var P,I=b==="y"?le:re,U=b==="y"?he:be,R=b==="y"?"height":"width",N=w[b],Z=N+M[I],pe=N-M[U],Be=h?-y[R]/2:0,Ge=m===We?$[R]:y[R],q=m===We?-y[R]:-$[R],ae=n.elements.arrow,ve=h&&ae?Xt(ae):{width:0,height:0},ue=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:Xn(),Qe=ue[I],ct=ue[U],Re=tt(0,$[R],ve[R]),Ot=v?$[R]/2-Be-Re-Qe-g.mainAxis:Ge-Re-Qe-g.mainAxis,ta=v?-$[R]/2+Be+Re+ct+g.mainAxis:q+Re+ct+g.mainAxis,St=n.elements.arrow&&ut(n.elements.arrow),na=St?b==="y"?St.clientTop||0:St.clientLeft||0:0,Zt=(P=O==null?void 0:O[b])!=null?P:0,aa=N+Ot-Zt-na,oa=N+ta-Zt,en=tt(h?ht(Z,aa):Z,N,h?Ae(pe,oa):pe);w[b]=en,A[b]=en-N}if(i){var tn,la=b==="x"?le:re,ra=b==="x"?he:be,Te=w[f],pt=f==="y"?"height":"width",nn=Te+M[la],an=Te-M[ra],kt=[le,re].indexOf(C)!==-1,on=(tn=O==null?void 0:O[f])!=null?tn:0,ln=kt?nn:Te-$[pt]-y[pt]-on+g.altAxis,rn=kt?Te+$[pt]+y[pt]-on-g.altAxis:an,sn=h&&kt?Pl(ln,Te,rn):tt(h?ln:nn,Te,h?rn:an);w[f]=sn,A[f]=sn-Te}n.modifiersData[o]=A}}const _l={name:"preventOverflow",enabled:!0,phase:"main",fn:Dl,requiresIfExists:["offset"]};var Bl=function(n,t){return n=typeof n=="function"?n(Object.assign({},t.rects,{placement:t.placement})):n,Gn(typeof n!="number"?n:Qn(n,dt))};function zl(e){var n,t=e.state,o=e.name,a=e.options,r=t.elements.arrow,l=t.modifiersData.popperOffsets,i=ye(t.placement),s=Qt(i),d=[re,be].indexOf(i)>=0,u=d?"height":"width";if(!(!r||!l)){var p=Bl(a.padding,t),c=Xt(r),h=s==="y"?le:re,x=s==="y"?he:be,k=t.rects.reference[u]+t.rects.reference[s]-l[s]-t.rects.popper[u],M=l[s]-t.rects.reference[s],C=ut(r),m=C?s==="y"?C.clientHeight||0:C.clientWidth||0:0,v=k/2-M/2,b=p[h],f=m-c[u]-p[x],w=m/2-c[u]/2+v,$=tt(b,w,f),y=s;t.modifiersData[o]=(n={},n[y]=$,n.centerOffset=$-w,n)}}function Fl(e){var n=e.state,t=e.options,o=t.element,a=o===void 0?"[data-popper-arrow]":o;a!=null&&(typeof a=="string"&&(a=n.elements.popper.querySelector(a),!a)||Kn(n.elements.popper,a)&&(n.elements.arrow=a))}const jl={name:"arrow",enabled:!0,phase:"main",fn:zl,effect:Fl,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},Ll=vl({defaultModifiers:[...Sl,El,Rl,_l,Zn,Jn,jl]});function Ul({locked:e=!1,overflowPadding:n=8,offsetDistance:t=8,offsetSkid:o=0,gpuAcceleration:a=!0,adaptive:r=!0,scroll:l=!0,resize:i=!0,arrow:s=!1,placement:d,strategy:u},p){const c=j(null),h=j(null),x=j(null);return Oe(()=>{Pe(k=>{if(!h.value||!c.value&&!(p!=null&&p.value))return;const M=dn(h),C=dn(c);if(!(M instanceof HTMLElement)||!C)return;const m={modifiers:[{name:"flip",enabled:!e},{name:"preventOverflow",options:{padding:n}},{name:"offset",options:{offset:[o,t]}},{name:"computeStyles",options:{adaptive:r,gpuAcceleration:a}},{name:"eventListeners",options:{scroll:l,resize:i}},{name:"arrow",enabled:s}]};d&&(m.placement=d),u&&(m.strategy=u),x.value=Ll(C,M,m),k(x.value.destroy)})}),[c,h,x]}const ge=lt(ne.ui.strategy,ne.ui.select,ca),ft=lt(ne.ui.strategy,ne.ui.selectMenu,pa),Nl=X({components:{HCombobox:ro,HComboboxButton:io,HComboboxOptions:uo,HComboboxOption:co,HComboboxInput:so,HListbox:yo,HListboxButton:xo,HListboxOptions:wo,HListboxOption:Oo,UIcon:Ye,UAvatar:$n},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object,Array,Boolean],default:""},query:{type:String,default:null},by:{type:String,default:void 0},options:{type:Array,default:()=>[]},id:{type:String,default:null},name:{type:String,default:null},required:{type:Boolean,default:!1},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>ge.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:()=>ge.default.trailingIcon},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},selectedIcon:{type:String,default:()=>ft.default.selectedIcon},disabled:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},searchable:{type:[Boolean,Function],default:!1},searchablePlaceholder:{type:String,default:"Search..."},searchableLazy:{type:Boolean,default:!1},clearSearchOnClose:{type:Boolean,default:()=>ft.default.clearSearchOnClose},debounce:{type:Number,default:200},creatable:{type:Boolean,default:!1},showCreateOptionWhen:{type:[String,Function],default:()=>ft.default.showCreateOptionWhen},placeholder:{type:String,default:null},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(ge.size).includes(e)}},color:{type:String,default:()=>ge.default.color,validator(e){return[...ne.ui.colors,...Object.keys(ge.color)].includes(e)}},variant:{type:String,default:()=>ge.default.variant,validator(e){return[...Object.keys(ge.variant),...Object.values(ge.color).flatMap(n=>Object.keys(n))].includes(e)}},optionAttribute:{type:String,default:"label"},valueAttribute:{type:String,default:null},searchAttributes:{type:Array,default:null},popper:{type:Object,default:()=>({})},selectClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},uiMenu:{type:Object,default:()=>({})}},emits:["update:modelValue","update:query","open","close","change"],setup(e,{emit:n,slots:t}){const{ui:o,attrs:a}=nt("select",ke(e,"ui"),ge,ke(e,"class")),{ui:r}=nt("selectMenu",ke(e,"uiMenu"),ft),l=S(()=>va({},e.popper,r.value.popper)),[i,s]=Ul(l.value),{size:d,rounded:u}=fa({ui:o,props:e}),{emitFormBlur:p,emitFormChange:c,inputId:h,color:x,size:k,name:M}=_t(e,ge),C=S(()=>d.value??k.value),m=j(""),v=S({get(){return e.query??m.value},set(q){m.value=q,n("update:query",q)}}),b=S(()=>e.multiple?!Array.isArray(e.modelValue)||!e.modelValue.length?[]:e.valueAttribute?R.value.filter(q=>e.modelValue.includes(q[e.valueAttribute])):R.value.filter(q=>e.modelValue.includes(q)):e.valueAttribute?R.value.find(q=>q[e.valueAttribute]===e.modelValue):R.value.find(q=>q===e.modelValue)),f=S(()=>{var q;return e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length?`${b.value.length} selected`:null:e.modelValue!==void 0&&e.modelValue!==null?e.valueAttribute?((q=b.value)==null?void 0:q[e.optionAttribute])??null:["string","number"].includes(typeof e.modelValue)?e.modelValue:e.modelValue[e.optionAttribute]:null}),w=S(()=>{var ae,ve;const q=((ve=(ae=o.value.color)==null?void 0:ae[x.value])==null?void 0:ve[e.variant])||o.value.variant[e.variant];return gt(de(o.value.base,r.value.select,u.value,o.value.size[C.value],o.value.gap[C.value],e.padded?o.value.padding[C.value]:"p-0",q==null?void 0:q.replaceAll("{color}",x.value),($.value||t.leading)&&o.value.leading.padding[C.value],(y.value||t.trailing)&&o.value.trailing.padding[C.value]),e.placeholder&&!e.modelValue&&o.value.placeholder,e.selectClass)}),$=S(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),y=S(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),E=S(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),g=S(()=>e.loading&&!$.value?e.loadingIcon:e.trailingIcon||e.icon),O=S(()=>de(o.value.icon.leading.wrapper,o.value.icon.leading.pointer,o.value.icon.leading.padding[C.value])),A=S(()=>de(o.value.icon.base,x.value&&ne.ui.colors.includes(x.value)&&o.value.icon.color.replaceAll("{color}",x.value),o.value.icon.size[C.value],e.loading&&o.value.icon.loading)),P=S(()=>de(o.value.icon.trailing.wrapper,o.value.icon.trailing.pointer,o.value.icon.trailing.padding[C.value])),I=S(()=>de(o.value.icon.base,x.value&&ne.ui.colors.includes(x.value)&&o.value.icon.color.replaceAll("{color}",x.value),o.value.icon.size[C.value],e.loading&&!$.value&&o.value.icon.loading)),U=e.searchable&&typeof e.searchable=="function"?ma(e.searchable,e.debounce):void 0,R=ha(async()=>U?await U(v.value):e.options||[],[],{lazy:e.searchableLazy}),N=S(()=>!v.value||U?R.value:R.value.filter(q=>{var ae;return((ae=e.searchAttributes)!=null&&ae.length?e.searchAttributes:[e.optionAttribute]).some(ve=>{if(["string","number"].includes(typeof q))return String(q).search(new RegExp(v.value,"i"))!==-1;const ue=ba(q,ve);return ue!=null&&String(ue).search(new RegExp(v.value,"i"))!==-1})})),Z=S(()=>v.value===""||e.showCreateOptionWhen==="empty"&&N.value.length||e.showCreateOptionWhen==="always"&&N.value.find(ae=>["string","number"].includes(typeof ae)?ae===v.value:ae[e.optionAttribute]===v.value)||typeof e.showCreateOptionWhen=="function"&&!e.showCreateOptionWhen(v.value,N.value)?null:["string","number"].includes(typeof e.modelValue)?v.value:{[e.optionAttribute]:v.value});function pe(){e.clearSearchOnClose&&(v.value="")}ie(s,q=>{q?n("open"):(pe(),n("close"),p())});function Be(q){n("update:modelValue",q),n("change",q),c()}function Ge(q){v.value=q.target.value}return Mn(()=>Lt("$YMH7mn4R4k")),{ui:o,uiMenu:r,attrs:a,name:M,inputId:h,popper:l,trigger:i,container:s,selected:b,label:f,isLeading:$,isTrailing:y,selectClass:w,leadingIconName:E,leadingIconClass:A,leadingWrapperIconClass:O,trailingIconName:g,trailingIconClass:I,trailingWrapperIconClass:P,filteredOptions:N,createOption:Z,query:v,onUpdate:Be,onQueryChange:Ge}}}),ql=["value","required"],Wl=["id","disabled"],Hl={class:"truncate"};function Kl(e,n,t,o,a,r){const l=Ye,i=yt("HComboboxInput"),s=$n;return T(),Q(Je(e.searchable?"HCombobox":"HListbox"),{by:e.by,name:e.name,"model-value":e.multiple?Array.isArray(e.modelValue)?e.modelValue:[]:e.modelValue,multiple:e.multiple,disabled:e.disabled,as:"div",class:_(e.ui.wrapper),"onUpdate:modelValue":e.onUpdate},{default:B(({open:d})=>[e.required?(T(),L("input",{key:0,value:e.modelValue,required:e.required,class:_(e.uiMenu.required),tabindex:"-1","aria-hidden":"true"},null,10,ql)):K("",!0),(T(),Q(Je(e.searchable?"HComboboxButton":"HListboxButton"),{ref:"trigger",as:"div",role:"button",class:_(e.uiMenu.trigger)},{default:B(()=>[fe(e.$slots,"default",{open:d,disabled:e.disabled,loading:e.loading},()=>[D("button",Fe({id:e.inputId,class:e.selectClass,disabled:e.disabled,type:"button"},e.attrs),[e.isLeading&&e.leadingIconName||e.$slots.leading?(T(),L("span",{key:0,class:_(e.leadingWrapperIconClass)},[fe(e.$slots,"leading",{selected:e.selected,disabled:e.disabled,loading:e.loading},()=>[V(l,{name:e.leadingIconName,class:_(e.leadingIconClass)},null,8,["name","class"])])],2)):K("",!0),fe(e.$slots,"label",{selected:e.selected},()=>[e.label?(T(),L("span",{key:0,class:_(e.uiMenu.label)},Y(e.label),3)):(T(),L("span",{key:1,class:_(e.uiMenu.label)},Y(e.placeholder||" "),3))]),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(T(),L("span",{key:1,class:_(e.trailingWrapperIconClass)},[fe(e.$slots,"trailing",{selected:e.selected,disabled:e.disabled,loading:e.loading},()=>[V(l,{name:e.trailingIconName,class:_(e.trailingIconClass),"aria-hidden":"true"},null,8,["name","class"])])],2)):K("",!0)],16,Wl)])]),_:2},1032,["class"])),d?(T(),L("div",{key:1,ref:"container",class:_([e.uiMenu.container,e.uiMenu.width])},[V(ga,Fe({appear:""},e.uiMenu.transition),{default:B(()=>[D("div",null,[e.popper.arrow?(T(),L("div",{key:0,"data-popper-arrow":"",class:_(Object.values(e.uiMenu.arrow))},null,2)):K("",!0),(T(),Q(Je(e.searchable?"HComboboxOptions":"HListboxOptions"),{static:"",class:_([e.uiMenu.base,e.uiMenu.ring,e.uiMenu.rounded,e.uiMenu.shadow,e.uiMenu.background,e.uiMenu.padding,e.uiMenu.height])},{default:B(()=>{var u,p;return[e.searchable?(T(),Q(i,{key:0,"display-value":()=>e.query,name:"q",placeholder:e.searchablePlaceholder,autofocus:"",autocomplete:"off",class:_(e.uiMenu.input),onChange:e.onQueryChange},null,8,["display-value","placeholder","class","onChange"])):K("",!0),(T(!0),L(me,null,rt(e.filteredOptions,(c,h)=>(T(),Q(Je(e.searchable?"HComboboxOption":"HListboxOption"),{key:h,as:"template",value:e.valueAttribute?c[e.valueAttribute]:c,disabled:c.disabled},{default:B(({active:x,selected:k,disabled:M})=>[D("li",{class:_([e.uiMenu.option.base,e.uiMenu.option.rounded,e.uiMenu.option.padding,e.uiMenu.option.size,e.uiMenu.option.color,x?e.uiMenu.option.active:e.uiMenu.option.inactive,k&&e.uiMenu.option.selected,M&&e.uiMenu.option.disabled])},[D("div",{class:_(e.uiMenu.option.container)},[fe(e.$slots,"option",{option:c,active:x,selected:k},()=>[c.icon?(T(),Q(l,{key:0,name:c.icon,class:_([e.uiMenu.option.icon.base,x?e.uiMenu.option.icon.active:e.uiMenu.option.icon.inactive,c.iconClass]),"aria-hidden":"true"},null,8,["name","class"])):c.avatar?(T(),Q(s,Fe({key:1,ref_for:!0},{size:e.uiMenu.option.avatar.size,...c.avatar},{class:e.uiMenu.option.avatar.base,"aria-hidden":"true"}),null,16,["class"])):c.chip?(T(),L("span",{key:2,class:_(e.uiMenu.option.chip.base),style:ya({background:`#${c.chip}`})},null,6)):K("",!0),D("span",Hl,Y(["string","number"].includes(typeof c)?c:c[e.optionAttribute]),1)])],2),k?(T(),L("span",{key:0,class:_([e.uiMenu.option.selectedIcon.wrapper,e.uiMenu.option.selectedIcon.padding])},[V(l,{name:e.selectedIcon,class:_(e.uiMenu.option.selectedIcon.base),"aria-hidden":"true"},null,8,["name","class"])],2)):K("",!0)],2)]),_:2},1032,["value","disabled"]))),128)),e.creatable&&e.createOption?(T(),Q(Je(e.searchable?"HComboboxOption":"HListboxOption"),{key:1,value:e.createOption,as:"template"},{default:B(({active:c,selected:h})=>[D("li",{class:_([e.uiMenu.option.base,e.uiMenu.option.rounded,e.uiMenu.option.padding,e.uiMenu.option.size,e.uiMenu.option.color,c?e.uiMenu.option.active:e.uiMenu.option.inactive])},[D("div",{class:_(e.uiMenu.option.container)},[fe(e.$slots,"option-create",{option:e.createOption,active:c,selected:h},()=>[D("span",{class:_(e.uiMenu.option.create)},'Create "'+Y(e.createOption[e.optionAttribute])+'"',3)])],2)],2)]),_:3},8,["value"])):e.searchable&&e.query&&!((u=e.filteredOptions)!=null&&u.length)?(T(),L("p",{key:2,class:_(e.uiMenu.option.empty)},[fe(e.$slots,"option-empty",{query:e.query},()=>[J(' No results for "'+Y(e.query)+'". ',1)])],2)):(p=e.filteredOptions)!=null&&p.length?K("",!0):(T(),L("p",{key:3,class:_(e.uiMenu.empty)},[fe(e.$slots,"empty",{query:e.query},()=>[J(" No options. ")])],2))]}),_:3},8,["class"]))])]),_:3},16)],2)):K("",!0)]),_:3},8,["by","name","model-value","multiple","disabled","class","onUpdate:modelValue"])}const ea=Ke(Nl,[["render",Kl]]),Yl={class:"grid grid-cols-2 gap-4"},Xl=["onUpdate:modelValue","value","id"],Gl=["onKeydown","for"],Ql=X({__name:"SourceStep",props:{form:{required:!0},formModifiers:{}},emits:["update:form"],setup(e){const n=_e(e,"form"),{data:t,refresh:o}=Ra(),a=j({}),r=async()=>{var u,p,c;if(n.value.source===null)return;const{data:i,status:s,error:d}=await it(`/sources/${n.value.source}/stats`);if(a.value=i.value||{},s.value==="error"){const h=((u=d.value)==null?void 0:u.statusCode)===422?(p=d.value.data)==null?void 0:p.error:(c=d.value)==null?void 0:c.message;Ee().add({title:"Error fetching stats",description:h,color:"red"});return}if(!i.value){Ee().add({title:"No Data",description:"Empty stats received",color:"orange"});return}},l=j(!1);return ie(()=>n.value.source,r),Oe(r),(i,s)=>{const d=Ut,u=ea,p=Ta;return T(),L("section",null,[V(d,{label:"Source",required:"",name:"source"},{default:B(()=>[D("div",Yl,[(T(!0),L(me,null,rt(z(t),(c,h)=>(T(),L("div",{key:h},[Rn(D("input",{type:"radio",name:"source","onUpdate:modelValue":x=>n.value.source=x,value:h,class:"sr-only peer",id:`source-${h}`,tabindex:"-1"},null,8,Xl),[[xa,n.value.source]]),D("label",{tabindex:"0",onKeydown:je(G(x=>n.value.driver=h,["prevent"]),["enter","space"]),for:`source-${h}`,class:"cursor-pointer flex flex-col gap-y-2 items-center rounded-lg p-4 text-gray-900 dark:text-white bg-white dark:bg-gray-900 ring-1 ring-gray-200 dark:ring-gray-800 peer-checked:ring-2 peer-checked:ring-primary-500"}," Source n°"+Y(h)+" (TODO user defined name) ",41,Gl)]))),128)),D("div",{class:"cursor-pointer flex flex-col gap-y-2 items-center rounded-lg p-4 text-gray-900 dark:text-white bg-white dark:bg-gray-900 ring-1 ring-gray-200 dark:ring-gray-800 peer-checked:ring-2 peer-checked:ring-primary-500",onClick:s[0]||(s[0]=G(c=>l.value=!0,["prevent"]))}," + CREATE SOURCE ")])]),_:1}),z(a)?(T(),Q(d,{key:0,label:"Table",required:"",name:"table"},{default:B(()=>[V(u,{creatable:"",searchable:"",modelValue:n.value.table,"onUpdate:modelValue":s[1]||(s[1]=c=>n.value.table=c),options:Object.keys(z(a)),placeholder:"Select a table"},{"option-create":B(({option:c})=>[J(" Force manual: "+Y(c),1)]),empty:B(()=>[J("No tables available for the selected source.")]),_:1},8,["modelValue","options"])]),_:1})):K("",!0),V(p,{opened:z(l),"onUpdate:opened":s[2]||(s[2]=c=>Ue(l)?l.value=c:null),onCreated:z(o)},null,8,["opened","onCreated"])])}}}),Ve=lt(ne.ui.strategy,ne.ui.toggle,Da),Jl=X({components:{HSwitch:ko,UIcon:Ye},inheritAttrs:!1,props:{id:{type:String,default:null},name:{type:String,default:null},modelValue:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onIcon:{type:String,default:()=>Ve.default.onIcon},offIcon:{type:String,default:()=>Ve.default.offIcon},loadingIcon:{type:String,default:()=>Ve.default.loadingIcon},color:{type:String,default:()=>Ve.default.color,validator(e){return ne.ui.colors.includes(e)}},size:{type:String,default:()=>Ve.default.size,validator(e){return Object.keys(Ve.size).includes(e)}},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:n}){const{ui:t,attrs:o}=nt("toggle",ke(e,"ui"),Ve),{emitFormChange:a,color:r,inputId:l,name:i}=_t(e),s=S({get(){return e.modelValue},set(x){n("update:modelValue",x),n("change",x),a()}}),d=S(()=>gt(de(t.value.base,t.value.size[e.size],t.value.rounded,r.value&&t.value.ring.replaceAll("{color}",r.value),r.value&&(s.value?t.value.active:t.value.inactive).replaceAll("{color}",r.value)),e.class)),u=S(()=>de(t.value.container.base,t.value.container.size[e.size],s.value?t.value.container.active[e.size]:t.value.container.inactive)),p=S(()=>de(t.value.icon.size[e.size],r.value&&t.value.icon.on.replaceAll("{color}",r.value))),c=S(()=>de(t.value.icon.size[e.size],r.value&&t.value.icon.off.replaceAll("{color}",r.value))),h=S(()=>de(t.value.icon.size[e.size],r.value&&t.value.icon.loading.replaceAll("{color}",r.value)));return Mn(()=>Lt("$mRW6KdlcYH")),{ui:t,attrs:o,name:i,inputId:l,active:s,switchClass:d,containerClass:u,onIconClass:p,offIconClass:c,loadingIconClass:h}}});function Zl(e,n,t,o,a,r){const l=Ye,i=yt("HSwitch");return T(),Q(i,Fe({id:e.inputId,modelValue:e.active,"onUpdate:modelValue":n[0]||(n[0]=s=>e.active=s),name:e.name,disabled:e.disabled||e.loading,class:e.switchClass},e.attrs),{default:B(()=>[D("span",{class:_(e.containerClass)},[e.loading?(T(),L("span",{key:0,class:_([e.ui.icon.active,e.ui.icon.base]),"aria-hidden":"true"},[V(l,{name:e.loadingIcon,class:_(e.loadingIconClass)},null,8,["name","class"])],2)):K("",!0),!e.loading&&e.onIcon?(T(),L("span",{key:1,class:_([e.active?e.ui.icon.active:e.ui.icon.inactive,e.ui.icon.base]),"aria-hidden":"true"},[V(l,{name:e.onIcon,class:_(e.onIconClass)},null,8,["name","class"])],2)):K("",!0),!e.loading&&e.offIcon?(T(),L("span",{key:2,class:_([e.active?e.ui.icon.inactive:e.ui.icon.active,e.ui.icon.base]),"aria-hidden":"true"},[V(l,{name:e.offIcon,class:_(e.offIconClass)},null,8,["name","class"])],2)):K("",!0)],2)]),_:1},16,["id","modelValue","name","disabled","class"])}const er=Ke(Jl,[["render",Zl]]),Sn=lt(ne.ui.strategy,ne.ui.checkbox,Pa),tr=X({inheritAttrs:!1,props:{id:{type:String,default:()=>null},value:{type:[String,Number,Boolean,Object],default:null},modelValue:{type:[Boolean,Array],default:null},name:{type:String,default:null},disabled:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:void 0},help:{type:String,default:null},label:{type:String,default:null},required:{type:Boolean,default:!1},color:{type:String,default:()=>Sn.default.color,validator(e){return ne.ui.colors.includes(e)}},inputClass:{type:String,default:""},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:n}){const{ui:t,attrs:o}=nt("checkbox",ke(e,"ui"),Sn,ke(e,"class")),{emitFormChange:a,color:r,name:l,inputId:i}=_t(e),s=i.value??Lt("$YWrWuPJ69t"),d=S({get(){return e.modelValue},set(c){n("update:modelValue",c)}}),u=c=>{n("change",c.target.checked),a()},p=S(()=>gt(de(t.value.base,t.value.form,t.value.rounded,t.value.background,t.value.border,r.value&&t.value.ring.replaceAll("{color}",r.value),r.value&&t.value.color.replaceAll("{color}",r.value)),e.inputClass));return{ui:t,attrs:o,toggle:d,inputId:s,name:l,inputClass:p,onChange:u}}}),nr=["data-n-ids"],ar=["id","name","required","value","disabled","indeterminate"],or=["for"];function lr(e,n,t,o,a,r){return T(),L("div",{class:_(e.ui.wrapper),"data-n-ids":e.attrs["data-n-ids"]},[D("div",{class:_(e.ui.container)},[Rn(D("input",Fe({id:e.inputId,"onUpdate:modelValue":n[0]||(n[0]=l=>e.toggle=l),name:e.name,required:e.required,value:e.value,disabled:e.disabled,indeterminate:e.indeterminate,type:"checkbox",class:e.inputClass},e.attrs,{onChange:n[1]||(n[1]=(...l)=>e.onChange&&e.onChange(...l))}),null,16,ar),[[wa,e.toggle]])],2),e.label||e.$slots.label?(T(),L("div",{key:0,class:_(e.ui.inner)},[D("label",{for:e.inputId,class:_(e.ui.label)},[fe(e.$slots,"label",{label:e.label},()=>[J(Y(e.label),1)]),e.required?(T(),L("span",{key:0,class:_(e.ui.required)},"*",2)):K("",!0)],10,or),e.help||e.$slots.help?(T(),L("p",{key:0,class:_(e.ui.help)},[fe(e.$slots,"help",{help:e.help},()=>[J(Y(e.help),1)])],2)):K("",!0)],2)):K("",!0)],10,nr)}const rr=Ke(tr,[["render",lr]]),ir={class:"grid space-y-4"},sr={class:"flex justify-between items-center"},ur={class:"space-y-2"},dr={class:"flex"},cr={class:"flex"},pr={class:"flex"},vr={class:"flex"},fr={class:"flex items-start justify-start mt-4 gap-8"},mr={class:"flex gap-2"},hr=X({__name:"MappingeSelector",props:$t({source:{},table:{},path:{}},{modelValue:{required:!1,default:[]},modelModifiers:{}}),emits:["update:modelValue"],async setup(e){let n,t;const o=_e(e,"modelValue"),a=e,{data:r,status:l,error:i}=([n,t]=Oa(()=>it(`/sources/${a.source}/stats`)),n=await n,t(),n),s=j([]),d=j([]),u=S({get:()=>d.value,set:async m=>{var v,b;for(const f of m)[...((b=(v=r.value)==null?void 0:v[a.table])==null?void 0:b.columns)||[],...s.value||[]].includes(f)||s.value.push((f==null?void 0:f.label)||f);d.value=m.map(f=>(f==null?void 0:f.label)||f).filter(f=>{var w;return!((w=o.value)!=null&&w.includes(f))})}}),p=S(()=>{var m,v;return[...((v=(m=r.value)==null?void 0:m[a.table])==null?void 0:v.columns)||[],...s.value||[]].filter(b=>!o.value.find(f=>(f==null?void 0:f._type)==="simple"&&(f==null?void 0:f.column)==b))}),c=()=>{var m;o.value=[...o.value||[],...(m=u.value)==null?void 0:m.map(v=>({_type:"simple",column:v}))],u.value=[]},h=()=>{o.value.push({_type:"relation",mapping:[],type:null,name:null,table:null,foreign_key:null,local_key:null})},x=m=>{o.value=o.value.filter((v,b)=>b!==m)},k=st(),M=m=>[a.path,m].filter(v=>v).join("."),C=async m=>{console.log(M(m)),k.value.preventScroll=!0,await te(()=>k.value.activeMappingPath=M(m)),await te(()=>k.value.preventScroll=!1)};return(m,v)=>{const b=Bt,f=jt,w=An,$=Ut,y=ka,E=Va,g=ea,O=Un,A=rr,P=yt("MappingeSelector",!0);return T(),L("div",ir,[(T(!0),L(me,null,rt(o.value,(I,U)=>(T(),L(me,null,[I._type==="simple"?(T(),Q(f,{key:0,ui:{body:{base:"flex justify-between items-center gap-x-2"}},class:_(["targettable",{targetted:M(I.column)===z(k).activeMappingPath}]),onClick:G(R=>C(I.column),["stop"]),onKeydown:je(G(R=>C(I.column),["stop"]),["enter","space"]),id:`mapping-${M(I.column)}`},{default:B(()=>[D("p",null,"Simple: "+Y(I.column),1),V(b,{color:"red",size:"xs",icon:"i-heroicons-trash",onClick:G(R=>x(U),["prevent"])},null,8,["onClick"])]),_:2},1032,["class","onClick","onKeydown","id"])):K("",!0),I._type==="relation"?(T(),Q(f,{key:1,class:_(["targettable",{targetted:M(I.name)===z(k).activeMappingPath}]),onClick:G(R=>C(I.name),["stop"]),onKeydown:je(G(R=>C(I.name),["stop"]),["enter","space"]),id:`mapping-${M(I.name)}`},Sa({header:B(()=>[D("div",sr,[D("p",null,"Relation: "+Y(I.name||"---"),1),V(b,{color:"red",size:"xs",icon:"i-heroicons-trash",onClick:G(R=>x(U),["prevent"])},null,8,["onClick"])])]),default:B(()=>[D("div",ur,[V($,{label:"Name",required:""},{default:B(()=>[V(w,{modelValue:I.name,"onUpdate:modelValue":R=>I.name=R},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),V($,{label:"Type",required:""},{default:B(()=>[V(y,{modelValue:I.type,"onUpdate:modelValue":R=>I.type=R,options:["one-to-one","has-many"],required:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),V(E,{label:"Configuration"}),V($,{label:"Foreign Table",required:""},{default:B(()=>[V(g,{modelValue:I.table,"onUpdate:modelValue":R=>I.table=R,options:Object.keys(z(r)||{}),searchable:""},null,8,["modelValue","onUpdate:modelValue","options"])]),_:2},1024),V($,{label:"Local key",required:""},{default:B(()=>{var R,N;return[D("div",dr,[V(O,{class:"h-auto p-2 pointer-events-none select-none rounded-r-none border-l-0"},{default:B(()=>[J(Y(m.table)+". ",1)]),_:1}),V(g,{modelValue:I.local_key,"onUpdate:modelValue":Z=>I.local_key=Z,class:"w-full",ui:{rounded:"rounded-md rounded-l-none"},options:((N=(R=z(r))==null?void 0:R[m.table])==null?void 0:N.columns)||[],searchable:""},null,8,["modelValue","onUpdate:modelValue","options"])])]}),_:2},1024),I.type==="has-many"?(T(),L(me,{key:0},[V(E,{label:"Pivot Configuration"}),V(A,{label:"Use pivot table",modelValue:I.use_pivot_table,"onUpdate:modelValue":R=>I.use_pivot_table=R},null,8,["modelValue","onUpdate:modelValue"]),I.use_pivot_table?(T(),L(me,{key:0},[V($,{label:"Pivot Table",required:""},{default:B(()=>[V(g,{modelValue:I.pivot_table,"onUpdate:modelValue":R=>I.pivot_table=R,options:Object.keys(z(r)||{}),searchable:""},null,8,["modelValue","onUpdate:modelValue","options"])]),_:2},1024),V($,{label:"Foreign Pivot key",required:""},{default:B(()=>{var R,N;return[D("div",cr,[V(O,{class:"h-auto p-2 pointer-events-none select-none rounded-r-none border-l-0"},{default:B(()=>[J(Y(I.pivot_table)+". ",1)]),_:2},1024),V(g,{modelValue:I.foreign_pivot_key,"onUpdate:modelValue":Z=>I.foreign_pivot_key=Z,class:"w-full",ui:{rounded:"rounded-md rounded-l-none"},options:((N=(R=z(r))==null?void 0:R[I.pivot_table])==null?void 0:N.columns)||[],searchable:""},null,8,["modelValue","onUpdate:modelValue","options"])])]}),_:2},1024),V($,{label:"Local Pivot key",required:""},{default:B(()=>{var R,N;return[D("div",pr,[V(O,{class:"h-auto p-2 pointer-events-none select-none rounded-r-none border-l-0"},{default:B(()=>[J(Y(I.pivot_table)+". ",1)]),_:2},1024),V(g,{modelValue:I.local_pivot_key,"onUpdate:modelValue":Z=>I.local_pivot_key=Z,class:"w-full",ui:{rounded:"rounded-md rounded-l-none"},options:((N=(R=z(r))==null?void 0:R[I.pivot_table])==null?void 0:N.columns)||[],searchable:""},null,8,["modelValue","onUpdate:modelValue","options"])])]}),_:2},1024)],64)):K("",!0),V(E,{label:"Pivot Configuration End"})],64)):K("",!0),V($,{label:"Foreign key",required:""},{default:B(()=>{var R,N;return[D("div",vr,[V(O,{class:"h-auto p-2 pointer-events-none select-none rounded-r-none border-l-0"},{default:B(()=>[J(Y(I.table)+". ",1)]),_:2},1024),V(g,{modelValue:I.foreign_key,"onUpdate:modelValue":Z=>I.foreign_key=Z,class:"w-full",ui:{rounded:"rounded-md rounded-l-none"},options:((N=(R=z(r))==null?void 0:R[I.table])==null?void 0:N.columns)||[],searchable:""},null,8,["modelValue","onUpdate:modelValue","options"])])]}),_:2},1024)])]),_:2},[I.table?{name:"footer",fn:B(()=>[V(P,{source:m.source,table:I.table,modelValue:I.mapping,"onUpdate:modelValue":R=>I.mapping=R,path:M(I.name)},null,8,["source","table","modelValue","onUpdate:modelValue","path"])]),key:"0"}:void 0]),1032,["class","onClick","onKeydown","id"])):K("",!0)],64))),256)),D("div",fr,[D("div",mr,[V(g,{creatable:"",searchable:"",multiple:"","clear-search-on-close":"",options:z(p),modelValue:z(u),"onUpdate:modelValue":v[0]||(v[0]=I=>Ue(u)?u.value=I:null),placeholder:"Select a field to add"},null,8,["options","modelValue"]),V(b,{"trailing-icon":"i-heroicons-plus",onClick:G(c,["prevent"]),disabled:!z(u)},{default:B(()=>[J(" Add Simple Fields ")]),_:1},8,["disabled"])]),D("div",null,[V(b,{"trailing-icon":"i-heroicons-plus",onClick:G(h,["prevent"])},{default:B(()=>[J(" Add Relation ")]),_:1})])])])}}}),br=Ke(hr,[["__scopeId","data-v-a605ab27"]]),gr={class:"flex items-center justify-end mb-2 gap-x-4 cursor-pointer"},yr=X({__name:"MappingStep",props:{form:{required:!0},formModifiers:{}},emits:["update:form"],setup(e){const n=_e(e,"form"),t=j(!1),o=st();let a="";return ie(o.value,(r,l)=>{a!==r.activeMappingPath&&(a=r.activeMappingPath,!o.value.preventScroll&&(console.log("here"),setTimeout(()=>{var i;(i=document.getElementById("mapping-"+r.activeMappingPath))==null||i.scrollIntoView({block:"start",inline:"start",behavior:"smooth"})},100)))}),(r,l)=>{const i=er,s=br;return T(),L("div",{class:_({"short-mode":z(t)})},[D("label",gr,[J(" Short Mode (beta): "),V(i,{"on-icon":"i-heroicons-check-20-solid","off-icon":"i-heroicons-x-mark-20-solid",modelValue:z(t),"onUpdate:modelValue":l[0]||(l[0]=d=>Ue(t)?t.value=d:null)},null,8,["modelValue"])]),V(s,{source:n.value.source,table:n.value.table,modelValue:n.value.mapping,"onUpdate:modelValue":l[1]||(l[1]=d=>n.value.mapping=d)},null,8,["source","table","modelValue"])],2)}}}),xr=Ke(yr,[["__scopeId","data-v-e5f6f660"]]),wr=X({__name:"OutputStep",props:{form:{required:!0},formModifiers:{}},emits:["update:form"],setup(e){const n=_e(e,"form");return Ca(()=>{var t,o;(o=n.value).index||(o.index=(t=n.value)==null?void 0:t.table)}),(t,o)=>{const a=An,r=Ut;return T(),L("section",null,[V(r,{label:"Index",required:"",name:"index"},{default:B(()=>[V(a,{modelValue:n.value.index,"onUpdate:modelValue":o[0]||(o[0]=l=>n.value.index=l),placeholder:"Enter index"},null,8,["modelValue"])]),_:1})])}}}),Or={class:"flex flex-col flex-1 gap-y-4 max-h-screen overflow-auto p-4"},Sr=X({__name:"RightPanel",props:{form:{required:!0},formModifiers:{}},emits:["update:form"],setup(e){const n=_e(e,"form"),t=st();return(o,a)=>{const r=Ql,l=xr,i=wr;return T(),L("div",Or,[z(t).activeTabs==="source"?(T(),Q(r,{key:0,form:n.value,"onUpdate:form":a[0]||(a[0]=s=>n.value=s)},null,8,["form"])):K("",!0),z(t).activeTabs==="mapping"?(T(),Q(l,{key:1,form:n.value,"onUpdate:form":a[1]||(a[1]=s=>n.value=s)},null,8,["form"])):K("",!0),z(t).activeTabs==="output"?(T(),Q(i,{key:2,form:n.value,"onUpdate:form":a[2]||(a[2]=s=>n.value=s)},null,8,["form"])):K("",!0)])}}}),kr=X({__name:"Complete",props:$t({mode:{default:"create"},processor:{}},{opened:{},openedModifiers:{}}),emits:$t(["created","updated"],["update:opened"]),setup(e,{emit:n}){const t=_e(e,"opened"),o=n,a=kn({source:null,table:null,index:null,mapping:[]}),r=S(()=>e.processor||a),l=async()=>{var u;if(e.mode==="edit"){Ee().add({title:"Error",description:"Edit endpoint not implemented",color:"red"});return}const{status:i,error:s,data:d}=await it("/processors",{method:"post",body:r,watch:!1});if(i.value==="success"){const p=d.value;Ee().add({title:"Success",color:"green",description:p.message}),o("created"),t.value=!1;return}i.value==="error"&&Ee().add({title:"Error",description:(u=s.value)==null?void 0:u.message,color:"red"})};return(i,s)=>{const d=Fo,u=Sr,p=Bt,c=Ea;return T(),Q(c,{modelValue:t.value,"onUpdate:modelValue":s[2]||(s[2]=h=>t.value=h),class:"overflow-y-auto",ui:i.mode==="read"?{width:"w-screen max-w-[25vw]"}:{width:"w-screen max-w-[50vw]"}},{default:B(()=>[D("div",{class:_(["grid min-h-screen grid-rows-[auto_1fr_auto]",{"grid-cols-2":i.mode!=="read"}])},[D("h2",{onClick:G(l,["prevent"]),class:"col-span-full mx-4 mt-4 text-center text-2xl font-semibold"},Y({create:"New processor",edit:"Edit processor: TODO id",read:"Processor: TODO id"}[i.mode]),1),V(d,{form:z(r),"onUpdate:form":s[0]||(s[0]=h=>Ue(r)?r.value=h:null),class:_({"":i.mode==="read"})},null,8,["form","class"]),i.mode!=="read"?(T(),Q(u,{key:0,form:z(r),"onUpdate:form":s[1]||(s[1]=h=>Ue(r)?r.value=h:null)},null,8,["form"])):K("",!0),i.mode!=="read"?(T(),Q(p,{key:1,onClick:G(l,["prevent"]),size:"xl",block:"",class:"col-span-full",ui:{rounded:""}},{default:B(()=>[J(Y({create:"Create",edit:"Save changes"}[i.mode]),1)]),_:1})):K("",!0)],2)]),_:1},8,["modelValue","ui"])}}});function Cr(){return it("/processors")}const Ir={class:"flex gap-x-2 items-center justify-between"},$r=D("h1",null,"Processors",-1),Mr={class:"grid grid-cols-3"},Rr={class:"grid grid-cols-3"},Tr={class:"col-span-full"},Vr={key:1,class:"flex gap-2 items-center"},Er=D("span",null,"Loading",-1),Dr=X({__name:"processors",setup(e){const{status:n,data:t,refresh:o}=Cr(),a=j(!1),r=j("create"),l=j(),i=async c=>{r.value="create",l.value=void 0,a.value=!0},s=async c=>{var h;r.value="read",l.value=(h=t.value)==null?void 0:h.at(c),a.value=!0},d=async c=>{var h;r.value="edit",l.value=(h=t.value)==null?void 0:h.at(c),a.value=!0},u=async c=>{var h;r.value="create",l.value=(h=t.value)==null?void 0:h.at(c),a.value=!0},p=async c=>{var M;const{data:h,error:x,status:k}=await it(`/processors/${c}`,{method:"DELETE"});if(k.value==="error")Ee().add({color:"red",title:"Unable to delete processor",description:(M=x.value)==null?void 0:M.message});else if(k.value==="success"){const C=h.value;Ee().add({color:"green",title:"Successfully deleted processor",description:C.message})}await o()};return(c,h)=>{const x=Bt,k=Ye,M=jt,C=kr;return T(),L("section",null,[V(M,null,{header:B(()=>[D("div",Ir,[$r,V(x,{onClick:G(i,["prevent"]),variant:"soft"},{default:B(()=>[J("+ Add Processor")]),_:1})])]),default:B(()=>[D("div",Mr,[z(n)==="success"?(T(!0),L(me,{key:0},rt(z(t)||[],(m,v)=>(T(),L("div",Rr,[D("div",Tr," Processor "+Y(m.index||v)+" (TODO user defined name) ",1),V(x,{color:"sky",icon:"i-heroicons-eye",onClick:G(b=>s(v),["prevent"])},{default:B(()=>[J(" Show ")]),_:2},1032,["onClick"]),V(x,{color:"sky",icon:"i-heroicons-pencil",onClick:G(b=>d(v),["prevent"])},{default:B(()=>[J(" Edit ")]),_:2},1032,["onClick"]),V(x,{color:"orange",icon:"i-heroicons-trash",onClick:G(b=>u(v),["prevent"])},{default:B(()=>[J(" Duplicate ")]),_:2},1032,["onClick"]),V(x,{color:"red",icon:"i-heroicons-trash",onClick:G(b=>p(v),["prevent"])},{default:B(()=>[J(" Delete ")]),_:2},1032,["onClick"])]))),256)):(T(),L("div",Vr,[V(k,{size:"large",name:"i-heroicons-arrow-path",class:"animate-spin"}),Er]))])]),_:1}),V(C,{onUpdated:z(o),onCreated:z(o),mode:z(r),opened:z(a),"onUpdate:opened":h[0]||(h[0]=m=>Ue(a)?a.value=m:null),processor:z(l)},null,8,["onUpdated","onCreated","mode","opened","processor"])])}}});export{Dr as default};
