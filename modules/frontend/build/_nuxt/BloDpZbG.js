import{g as y,r as b,o as d,c as i,b as l,w as u,h as s,i as B,a as m,j as D,d as p,F as E,k as F,l as I,m as L,t as N,p as U,f as V,n as k,_ as $}from"./BKw07jmg.js";import{u as M,a as O,_ as j,b as H,c as A}from"./DyC35B6k.js";const G=a=>(U("data-v-3d6049c8"),a=a(),V(),a),R={class:"flex gap-x-2 items-center justify-between"},q=G(()=>m("h1",null,"Data Sources",-1)),z={class:"grid grid-cols-3"},J=["innerHTML"],K=y({__name:"data-sources",setup(a){const o=b(!1),{data:w,refresh:f}=M(),{data:_}=O(),T=async v=>{var c;const{data:t,error:n,status:r}=await A(`/sources/${v}`,{method:"DELETE"});if(r.value==="error")k().add({color:"red",title:"Unable to delete source",description:(c=n.value)==null?void 0:c.message});else if(r.value==="success"){const e=t.value;k().add({color:"green",title:"Successfully deleted source",description:e.message})}await f()};return(v,t)=>{const n=I,r=j,c=H;return d(),i("section",null,[l(r,null,{header:u(()=>[m("div",R,[q,l(n,{onClick:t[0]||(t[0]=D(e=>o.value=!s(o),["prevent"])),variant:"soft"},{default:u(()=>[p("+ Add Source")]),_:1})])]),default:u(()=>[m("div",z,[(d(!0),i(E,null,F(s(w)||[],(e,g)=>{var S,h,C,x;return d(),i("div",null,[s(_)&&((h=(S=s(_)[e.driver])==null?void 0:S.config)!=null&&h.image)?(d(),i("span",{key:0,innerHTML:(x=(C=s(_)[e.driver])==null?void 0:C.config)==null?void 0:x.image,class:"nested-svg"},null,8,J)):L("",!0),p(" Source nÂ°"+N(g)+" (TODO user defined name) ",1),l(n,{color:"red",icon:"i-heroicons-trash",onClick:D(P=>T(g),["prevent"])},{default:u(()=>[p(" Delete ")]),_:2},1032,["onClick"])])}),256))])]),_:1}),l(c,{opened:s(o),"onUpdate:opened":t[1]||(t[1]=e=>B(o)?o.value=e:null),onCreated:s(f)},null,8,["opened","onCreated"])])}}}),X=$(K,[["__scopeId","data-v-3d6049c8"]]);export{X as default};
