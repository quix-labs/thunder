import{_ as T}from"./CzVMdW3V.js";import{av as P,H as S,e as _,N as K,aq as N,o as i,c as d,a as o,j as l,i as $,k as v,m as g,t as c,d as w,Q as y,V,W as B,a3 as f,$ as D,C as j,b as k,w as b}from"./CmCqKDSp.js";import{_ as z}from"./DlAUqK2U.js";function C(){return P("process-form",()=>S({activeTabs:"source",preventScroll:!1,shortMode:!1,liveReload:!0,showSamplePanel:!0}))}const F={key:2,class:"italic opacity-60"},q={key:3},A={key:0,class:"text-gray-400 ml-2"},E=["onKeydown","onClick"],I={key:0,class:"italic text-sm"},L={key:1},R={key:1,class:"inline-flex items-baseline relative"},U=_({__name:"MappingThree",props:{mapping:{default:()=>[]},name:{},as:{},path:{}},setup(x){const a=K(!1),p=C(),m=async t=>{p.value.activeTabs="mapping",p.value.activeMappingPath=u(t)},u=t=>[x.path,t].filter(s=>s).join("."),e=t=>{var s;return((s=p.value.activeMappingPath)==null?void 0:s.startsWith(u(t)+"."))||p.value.activeMappingPath===u(t)||u(t)===""};return(t,s)=>{const r=D,h=N("MappingThree",!0);return i(),d("div",{tabindex:"0",class:y(["text-sm leading-tight",{"font-bold":u("")===(l(p).activeMappingPath||"")}]),onClick:s[3]||(s[3]=v(n=>m(""),["prevent","stop"])),onKeydown:s[4]||(s[4]=f(v(n=>m(""),["prevent","stop"]),["enter","space"]))},[o("div",{class:y(["inline-flex items-baseline leading-normal relative w-full dark:hover:bg-white/5 hover:bg-primary/5",{underline:u("")===(l(p).activeMappingPath||"")}])},[t.path&&!l(a)?(i(),$(r,{key:0,class:"carret hover:text-sky-600",name:"i-heroicons-chevron-down",onClick:s[0]||(s[0]=v(n=>a.value=!0,["prevent","stop"]))})):t.path?(i(),$(r,{key:1,class:"carret hover:text-sky-600",name:"i-heroicons-chevron-right",onClick:s[1]||(s[1]=v(n=>a.value=!1,["prevent","stop"]))})):g("",!0),t.name&&t.name!==t.as?(i(),d("span",F,c(t.name)+": ",1)):g("",!0),t.as?(i(),d("span",q,c(t.as)+" ",1)):g("",!0),o("p",{onClick:s[2]||(s[2]=v(n=>a.value=!l(a),["prevent","stop"])),class:"hover:text-sky-600"},[w(c(l(a)?"{...}":"{")+" ",1),l(a)?(i(),d("span",A,c(t.mapping.length>=2?`// ${t.mapping.length} items`:`// ${t.mapping.length} item`),1)):g("",!0)])],2),l(a)?g("",!0):(i(!0),d(V,{key:0},B(t.mapping,n=>(i(),d("div",{class:y(["pl-4 cursor-pointer dark:hover:bg-white/5 hover:bg-primary/5",{"border-l border-dashed":!0,"border-sky-600 dark:border-green-400/60":e(""),"border-[#bfcbd9]":!e("")}])},[n._type==="simple"?(i(),d("p",{key:0,class:y({"font-bold underline":u(n.column)===(l(p).activeMappingPath||"")}),onKeydown:f(v(M=>m(n.column),["prevent","stop"]),["enter","space"]),onClick:v(M=>m(n.column),["prevent","stop"]),tabindex:"0"},[n.name&&n.name!==n.column?(i(),d("span",I,c(n.name)+": ",1)):g("",!0),n.column?(i(),d("span",L,c(n.column),1)):g("",!0)],42,E)):n._type==="relation"?(i(),$(h,{key:1,mapping:n.mapping,name:n.table,as:n.name,path:u(n.name)},null,8,["mapping","name","as","path"])):g("",!0)],2))),256)),l(a)?g("",!0):(i(),d("span",R,"}"))],34)}}}),W=z(U,[["__scopeId","data-v-a6e5187f"]]),H={class:"flex flex-col flex-1 gap-y-4 p-4"},O={class:"font-semibold"},Q={class:"font-normal"},G={class:"font-semibold"},J={class:"font-normal"},ee=_({__name:"LeftPanel",props:{form:{required:!0},formModifiers:{}},emits:["update:form"],setup(x){const a=j(x,"form"),p=C();function m(u){p.value.activeTabs=u}return(u,e)=>{const t=T,s=W;return i(),d("div",H,[k(t,{tabindex:"0",class:y(["cursor-pointer",l(p).activeTabs==="source"?"ring-1 ring-[var(--ui-primary)]":void 0]),onClick:e[0]||(e[0]=v(r=>m("source"),["prevent"])),onKeydown:e[1]||(e[1]=f(r=>m("source"),["enter","space"]))},{header:b(()=>e[6]||(e[6]=[o("p",{class:"text-base font-semibold leading-6 text-gray-900 dark:text-white"}," Source ",-1),o("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," Describe which data will be synchronized ",-1)])),default:b(()=>{var r;return[o("p",null,"Source: Source n°"+c(a.value.source),1),o("p",null,"Table: "+c(a.value.table||"---"),1),o("p",null,"Conditions: "+c(((r=a.value.conditions)==null?void 0:r.length)||"---"),1)]}),_:1},8,["class"]),k(t,{tabindex:"0",class:y(["flex-1 cursor-pointer",l(p).activeTabs==="mapping"?"ring-1 ring-[var(--ui-primary)]":void 0]),onClick:e[2]||(e[2]=v(r=>m("mapping"),["prevent"])),onKeydown:e[3]||(e[3]=f(r=>m("mapping"),["enter","space"]))},{header:b(()=>e[7]||(e[7]=[o("p",{class:"text-base font-semibold leading-6 text-gray-900 dark:text-white"}," Mapping ",-1),o("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," Describe how to transform your relational data into unstructured documents ",-1)])),default:b(()=>[k(s,{mapping:a.value.mapping,name:a.value.table,as:a.value.index},null,8,["mapping","name","as"])]),_:1},8,["class"]),k(t,{tabindex:"0",class:y(["cursor-pointer",l(p).activeTabs==="output"?"ring-1 ring-[var(--ui-primary)]":void 0]),onClick:e[4]||(e[4]=v(r=>m("output"),["prevent"])),onKeydown:e[5]||(e[5]=f(r=>m("output"),["enter","space"]))},{header:b(()=>e[8]||(e[8]=[o("p",{class:"text-base font-semibold leading-6 text-gray-900 dark:text-white"}," Output ",-1),o("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," Describe how your data will be synchronized ",-1)])),default:b(()=>{var r,h;return[o("p",O,[e[9]||(e[9]=w(" Targets: ")),o("span",Q,c((h=(r=a.value.targets)==null?void 0:r.map(n=>`Target n°${n}`))==null?void 0:h.join(", ")),1)]),o("p",G,[e[10]||(e[10]=w(" Expected index: ")),o("span",J,c(a.value.index),1)])]}),_:1},8,["class"])])}}});export{ee as _,C as u};
