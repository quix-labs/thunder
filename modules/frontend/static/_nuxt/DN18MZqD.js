const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./BbWzHC9j.js","./CmRwsJZw.js","./entry.CZH78m3A.css","./C39p0TxS.js","./fK8DFUjx.js","./BepPo9hw.js","./DlAUqK2U.js","./CbeOS6JN.js","./Source.Bo-wzV1W.css","./BlB3EoQL.js","./SamplePanel.BrDgjzHi.css"])))=>i.map(i=>d[i]);
import{e as va,f as fa,g as Ce,h as me,m as ke,i as Ne,j as xe,k as Ge,I as ba,r as We,l as He,n as ha,p as ee,o as l,c as V,a as z,b as s,w as i,q as e,s as Ga,v as g,x as h,y as re,F as ae,z as w,A as ne,B as Wa,C as W,d as j,t as U,$ as ya,D as Xe,E as Ha,G as he,H as je,J as ka,K,L as Ie,M as ye,N as xa,O as _a,P as qe,Q as wa,R as za,S as Ia,T as Xa,U as Oe,V as Ee,W as ie,X as Sa,Y as Ya,Z as Za,a0 as Ja,a1 as Qa,a2 as ea,a3 as et,a4 as Re,a5 as Va,a6 as $a,a7 as Ca,a8 as La,a9 as Ta,aa as Ua,ab as Aa,ac as Ma,ad as Pa,ae as Fa,af as Ba,ag as Ka,ah as qa,ai as ta,aj as at,ak as Ue,al as ja,am as $e,an as tt,ao as lt,ap as st,aq as it,ar as aa,as as nt,at as ot,au as rt,av as ut,aw as fe,ax as ct,ay as Ke,az as dt,aA as pt}from"./CmRwsJZw.js";import{_ as Ye,a as Da,b as la,c as Oa,u as Te,d as mt,e as ca,f as gt,g as vt}from"./C39p0TxS.js";import{_ as sa}from"./DlAUqK2U.js";import{_ as Ze}from"./fK8DFUjx.js";import{u as ft,F as bt}from"./CbeOS6JN.js";import{u as ht}from"./BlB3EoQL.js";const yt=va(()=>fa(()=>import("./BbWzHC9j.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url).then(C=>C.default||C.default||C)),kt={slots:{root:"relative flex items-start",base:["inline-flex items-center shrink-0 rounded-full border-2 border-transparent focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--ui-bg)] data-[state=unchecked]:bg-[var(--ui-bg-accented)]","transition-colors duration-200"],container:"flex items-center",thumb:"group pointer-events-none block rounded-full bg-[var(--ui-bg)] shadow-lg ring-0 transition-transform duration-200 data-[state=unchecked]:translate-x-0 data-[state=unchecked]:rtl:-translate-x-0 flex items-center justify-center",icon:["absolute shrink-0 group-data-[state=unchecked]:text-[var(--ui-text-dimmed)] opacity-0 size-10/12","transition-[color,opacity] duration-200"],wrapper:"ms-2",label:"block font-medium text-[var(--ui-text)]",description:"text-[var(--ui-text-muted)]"},variants:{color:{primary:{base:"data-[state=checked]:bg-[var(--ui-primary)] focus-visible:ring-[var(--ui-primary)]",icon:"group-data-[state=checked]:text-[var(--ui-primary)]"},secondary:{base:"data-[state=checked]:bg-[var(--ui-secondary)] focus-visible:ring-[var(--ui-secondary)]",icon:"group-data-[state=checked]:text-[var(--ui-secondary)]"},success:{base:"data-[state=checked]:bg-[var(--ui-success)] focus-visible:ring-[var(--ui-success)]",icon:"group-data-[state=checked]:text-[var(--ui-success)]"},info:{base:"data-[state=checked]:bg-[var(--ui-info)] focus-visible:ring-[var(--ui-info)]",icon:"group-data-[state=checked]:text-[var(--ui-info)]"},warning:{base:"data-[state=checked]:bg-[var(--ui-warning)] focus-visible:ring-[var(--ui-warning)]",icon:"group-data-[state=checked]:text-[var(--ui-warning)]"},error:{base:"data-[state=checked]:bg-[var(--ui-error)] focus-visible:ring-[var(--ui-error)]",icon:"group-data-[state=checked]:text-[var(--ui-error)]"},neutral:{base:"data-[state=checked]:bg-[var(--ui-bg-inverted)] focus-visible:ring-[var(--ui-border-inverted)]",icon:"group-data-[state=checked]:text-[var(--ui-text-highlighted)]"}},size:{xs:{base:"w-7",container:"h-4",thumb:"size-3 data-[state=checked]:translate-x-3 data-[state=checked]:rtl:-translate-x-3",wrapper:"text-xs"},sm:{base:"w-8",container:"h-4",thumb:"size-3.5 data-[state=checked]:translate-x-3.5 data-[state=checked]:rtl:-translate-x-3.5",wrapper:"text-xs"},md:{base:"w-9",container:"h-5",thumb:"size-4 data-[state=checked]:translate-x-4 data-[state=checked]:rtl:-translate-x-4",wrapper:"text-sm"},lg:{base:"w-10",container:"h-5",thumb:"size-4.5 data-[state=checked]:translate-x-4.5 data-[state=checked]:rtl:-translate-x-4.5",wrapper:"text-sm"},xl:{base:"w-11",container:"h-6",thumb:"size-5 data-[state=checked]:translate-x-5 data-[state=checked]:rtl:-translate-x-5",wrapper:"text-base"}},checked:{true:{icon:"group-data-[state=checked]:opacity-100"}},unchecked:{true:{icon:"group-data-[state=unchecked]:opacity-100"}},loading:{true:{icon:"animate-spin"}},required:{true:{label:"after:content-['*'] after:ms-0.5 after:text-[var(--ui-error)]"}},disabled:{true:{base:"cursor-not-allowed opacity-75",label:"cursor-not-allowed opacity-75",description:"cursor-not-allowed opacity-75"}}},defaultVariants:{color:"primary",size:"md"}},xt=Xe;var da;const _t=Ce({extend:Ce(kt),...((da=xt.ui)==null?void 0:da.switch)||{}}),wt=me({__name:"Switch",props:ke({as:{},color:{},size:{},loading:{type:Boolean},loadingIcon:{},checkedIcon:{},uncheckedIcon:{},label:{},description:{},defaultValue:{type:Boolean},class:{},ui:{},disabled:{type:Boolean},id:{},name:{},required:{type:Boolean},value:{}},{modelValue:{type:Boolean,default:void 0},modelModifiers:{}}),emits:ke(["update:modelValue","change"],["update:modelValue"]),setup(C,{emit:u}){const a=C,t=Ne(),f=u,r=xe(C,"modelValue"),p=Ge(),$=ba(We(a,"as","required","value")),{id:_,emitFormChange:S,emitFormInput:c,size:H,color:O,name:E,disabled:N}=He(a),X=_.value??ha(),T=ee(()=>_t({size:H.value,color:O.value,required:a.required,loading:a.loading,disabled:N.value||a.loading}));function D(b){const n=new Event("change",{target:{value:b}});f("change",n),S(),c()}return(b,n)=>{var o,d,k,y,A,te;return l(),V("div",{class:g(T.value.root({class:[a.class,(o=a.ui)==null?void 0:o.root]}))},[z("div",{class:g(T.value.container({class:(d=a.ui)==null?void 0:d.container}))},[s(e(Wa),ne({id:e(X),checked:r.value,"onUpdate:checked":n[0]||(n[0]=le=>r.value=le),"default-checked":b.defaultValue},e($),{name:e(E),disabled:e(N)||b.loading,class:T.value.base({class:(k=a.ui)==null?void 0:k.base}),"onUpdate:checked":D}),{default:i(()=>{var le;return[s(e(Ga),{class:g(T.value.thumb({class:(le=a.ui)==null?void 0:le.thumb}))},{default:i(()=>{var Z,ue,_e;return[b.loading?(l(),h(re,{key:0,name:b.loadingIcon||e(p).ui.icons.loading,class:g(T.value.icon({class:(Z=a.ui)==null?void 0:Z.icon,checked:!0,unchecked:!0}))},null,8,["name","class"])):(l(),V(ae,{key:1},[b.checkedIcon?(l(),h(re,{key:0,name:b.checkedIcon,class:g(T.value.icon({class:(ue=a.ui)==null?void 0:ue.icon,checked:!0}))},null,8,["name","class"])):w("",!0),b.uncheckedIcon?(l(),h(re,{key:1,name:b.uncheckedIcon,class:g(T.value.icon({class:(_e=a.ui)==null?void 0:_e.icon,unchecked:!0}))},null,8,["name","class"])):w("",!0)],64))]}),_:1},8,["class"])]}),_:1},16,["id","checked","default-checked","name","disabled","class"])],2),b.label||t.label||b.description||t.description?(l(),V("div",{key:0,class:g(T.value.wrapper({class:(y=a.ui)==null?void 0:y.wrapper}))},[b.label||t.label?(l(),h(e(ya),{key:0,for:e(X),class:g(T.value.label({class:(A=a.ui)==null?void 0:A.label}))},{default:i(()=>[W(b.$slots,"label",{label:b.label},()=>[j(U(b.label),1)])]),_:3},8,["for","class"])):w("",!0),b.description||t.description?(l(),V("p",{key:1,class:g(T.value.description({class:(te=a.ui)==null?void 0:te.description}))},[W(b.$slots,"description",{description:b.description},()=>[j(U(b.description),1)])],2)):w("",!0)],2)):w("",!0)],2)}}});function Ae(){return Ha("process-form",()=>he({activeTabs:"source",preventScroll:!1,shortMode:!1,liveReload:!0,showSamplePanel:!0}))}const zt={key:2,class:"italic opacity-60"},It={key:3},St={key:0,class:"text-gray-400 ml-2"},Vt=["onKeydown","onClick"],$t={key:0,class:"italic text-sm"},Ct={key:1},Lt={key:1,class:"inline-flex items-baseline relative"},Tt=me({__name:"MappingThree",props:{mapping:{default:()=>[]},name:{},as:{},path:{}},setup(C){const u=je(!1),a=Ae(),t=async p=>{a.value.activeTabs="mapping",a.value.activeMappingPath=f(p)},f=p=>[C.path,p].filter($=>$).join("."),r=p=>{var $;return(($=a.value.activeMappingPath)==null?void 0:$.startsWith(f(p)+"."))||a.value.activeMappingPath===f(p)||f(p)===""};return(p,$)=>{const _=re,S=ka("MappingThree",!0);return l(),V("div",{tabindex:"0",class:g(["text-sm leading-tight",{"font-bold":f("")===(e(a).activeMappingPath||"")}]),onClick:$[3]||($[3]=K(c=>t(""),["prevent","stop"])),onKeydown:$[4]||($[4]=ye(K(c=>t(""),["prevent","stop"]),["enter","space"]))},[z("div",{class:g(["inline-flex items-baseline leading-normal relative w-full dark:hover:bg-white/5 hover:bg-primary/5",{underline:f("")===(e(a).activeMappingPath||"")}])},[p.path&&!e(u)?(l(),h(_,{key:0,class:"carret hover:text-sky-600",name:"i-heroicons-chevron-down",onClick:$[0]||($[0]=K(c=>u.value=!0,["prevent","stop"]))})):p.path?(l(),h(_,{key:1,class:"carret hover:text-sky-600",name:"i-heroicons-chevron-right",onClick:$[1]||($[1]=K(c=>u.value=!1,["prevent","stop"]))})):w("",!0),p.name&&p.name!==p.as?(l(),V("span",zt,U(p.name)+": ",1)):w("",!0),p.as?(l(),V("span",It,U(p.as)+" ",1)):w("",!0),z("p",{onClick:$[2]||($[2]=K(c=>u.value=!e(u),["prevent","stop"])),class:"hover:text-sky-600"},[j(U(e(u)?"{...}":"{")+" ",1),e(u)?(l(),V("span",St,U(p.mapping.length>=2?`// ${p.mapping.length} items`:`// ${p.mapping.length} item`),1)):w("",!0)])],2),e(u)?w("",!0):(l(!0),V(ae,{key:0},Ie(p.mapping,c=>(l(),V("div",{class:g(["pl-4 cursor-pointer dark:hover:bg-white/5 hover:bg-primary/5",{"border-l border-dashed":!0,"border-sky-600 dark:border-green-400/60":r(""),"border-[#bfcbd9]":!r("")}])},[c._type==="simple"?(l(),V("p",{key:0,class:g({"font-bold underline":f(c.column)===(e(a).activeMappingPath||"")}),onKeydown:ye(K(H=>t(c.column),["prevent","stop"]),["enter","space"]),onClick:K(H=>t(c.column),["prevent","stop"]),tabindex:"0"},[c.name&&c.name!==c.column?(l(),V("span",$t,U(c.name)+": ",1)):w("",!0),c.column?(l(),V("span",Ct,U(c.column),1)):w("",!0)],42,Vt)):c._type==="relation"?(l(),h(S,{key:1,mapping:c.mapping,name:c.table,as:c.name,path:f(c.name)},null,8,["mapping","name","as","path"])):w("",!0)],2))),256)),e(u)?w("",!0):(l(),V("span",Lt,"}"))],34)}}}),Ut=sa(Tt,[["__scopeId","data-v-a6e5187f"]]),At={class:"flex flex-col flex-1 gap-y-4 p-4"},Mt={class:"font-semibold"},Pt={class:"font-normal"},Ft={class:"font-semibold"},Bt={class:"font-normal"},Kt=me({__name:"LeftPanel",props:{form:{required:!0},formModifiers:{}},emits:["update:form"],setup(C){const u=xe(C,"form"),a=Ae();function t(f){a.value.activeTabs=f}return(f,r)=>{const p=Ye,$=Ut;return l(),V("div",At,[s(p,{tabindex:"0",class:g(["cursor-pointer",e(a).activeTabs==="source"?"ring-1 ring-[var(--ui-primary)]":void 0]),onClick:r[0]||(r[0]=K(_=>t("source"),["prevent"])),onKeydown:r[1]||(r[1]=ye(_=>t("source"),["enter","space"]))},{header:i(()=>r[6]||(r[6]=[z("p",{class:"text-base font-semibold leading-6 text-gray-900 dark:text-white"}," Source ",-1),z("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," Describe which data will be synchronized ",-1)])),default:i(()=>{var _;return[z("p",null,"Source: Source n°"+U(u.value.source),1),z("p",null,"Table: "+U(u.value.table||"---"),1),z("p",null,"Conditions: "+U(((_=u.value.conditions)==null?void 0:_.length)||"---"),1)]}),_:1},8,["class"]),s(p,{tabindex:"0",class:g(["flex-1 cursor-pointer",e(a).activeTabs==="mapping"?"ring-1 ring-[var(--ui-primary)]":void 0]),onClick:r[2]||(r[2]=K(_=>t("mapping"),["prevent"])),onKeydown:r[3]||(r[3]=ye(_=>t("mapping"),["enter","space"]))},{header:i(()=>r[7]||(r[7]=[z("p",{class:"text-base font-semibold leading-6 text-gray-900 dark:text-white"}," Mapping ",-1),z("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," Describe how to transform your relational data into unstructured documents ",-1)])),default:i(()=>[s($,{mapping:u.value.mapping,name:u.value.table,as:u.value.index},null,8,["mapping","name","as"])]),_:1},8,["class"]),s(p,{tabindex:"0",class:g(["cursor-pointer",e(a).activeTabs==="output"?"ring-1 ring-[var(--ui-primary)]":void 0]),onClick:r[4]||(r[4]=K(_=>t("output"),["prevent"])),onKeydown:r[5]||(r[5]=ye(_=>t("output"),["enter","space"]))},{header:i(()=>r[8]||(r[8]=[z("p",{class:"text-base font-semibold leading-6 text-gray-900 dark:text-white"}," Output ",-1),z("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," Describe how your data will be synchronized ",-1)])),default:i(()=>{var _,S;return[z("p",Mt,[r[9]||(r[9]=j(" Targets: ")),z("span",Pt,U((S=(_=u.value.targets)==null?void 0:_.map(c=>`Target n°${c}`))==null?void 0:S.join(", ")),1)]),z("p",Ft,[r[10]||(r[10]=j(" Expected index: ")),z("span",Bt,U(u.value.index),1)])]}),_:1},8,["class"])])}}}),qt={slots:{root:"relative inline-flex items-center",base:["rounded-[calc(var(--ui-radius)*1.5)]","transition-colors"],leading:"absolute inset-y-0 start-0 flex items-center",leadingIcon:"shrink-0 text-[var(--ui-text-dimmed)]",leadingAvatar:"shrink-0",leadingAvatarSize:"",trailing:"group absolute inset-y-0 end-0 flex items-center disabled:cursor-not-allowed disabled:opacity-75",trailingIcon:"shrink-0 text-[var(--ui-text-dimmed)]",arrow:"fill-[var(--ui-border)]",content:"max-h-60 w-[var(--radix-popper-anchor-width)] bg-[var(--ui-bg)] shadow-lg rounded-[calc(var(--ui-radius)*1.5)] ring ring-[var(--ui-border)] overflow-hidden data-[state=open]:animate-[scale-in_100ms_ease-out] data-[state=closed]:animate-[scale-out_100ms_ease-in]",viewport:"divide-y divide-[var(--ui-border)] scroll-py-1",group:"p-1 isolate",empty:"py-2 text-center text-sm text-[var(--ui-text-muted)]",label:"font-semibold text-[var(--ui-text-highlighted)]",separator:"-mx-1 my-1 h-px bg-[var(--ui-border)]",item:["group relative w-full flex items-center gap-1.5 p-1.5 text-sm select-none outline-none before:absolute before:z-[-1] before:inset-px before:rounded-[calc(var(--ui-radius)*1.5)] data-disabled:cursor-not-allowed data-disabled:opacity-75 text-[var(--ui-text)] data-highlighted:text-[var(--ui-text-highlighted)] data-highlighted:before:bg-[var(--ui-bg-elevated)]/50","transition-colors before:transition-colors"],itemLeadingIcon:["shrink-0 text-[var(--ui-text-dimmed)] group-data-highlighted:text-[var(--ui-text)]","transition-colors"],itemLeadingAvatar:"shrink-0",itemLeadingAvatarSize:"",itemLeadingChip:"shrink-0",itemLeadingChipSize:"",itemTrailing:"ms-auto inline-flex gap-1.5 items-center",itemTrailingIcon:"shrink-0",itemLabel:"truncate",tagsItem:"px-1.5 py-0.5 rounded-[var(--ui-radius)] font-medium inline-flex items-center gap-0.5 ring ring-inset ring-[var(--ui-border-accented)] bg-[var(--ui-bg-elevated)] text-[var(--ui-text)] data-disabled:cursor-not-allowed data-disabled:opacity-75",tagsItemText:"truncate",tagsItemDelete:["inline-flex items-center rounded-[calc(var(--ui-radius)/2)] text-[var(--ui-text-dimmed)] hover:text-[var(--ui-text)] hover:bg-[var(--ui-bg-accented)]/75 disabled:pointer-events-none","transition-colors"],tagsItemDeleteIcon:"",tagsInput:""},variants:{buttonGroup:{horizontal:{root:"group",base:"group-not-only:group-first:rounded-e-none group-not-only:group-last:rounded-s-none group-not-last:group-not-first:rounded-none"},vertical:{root:"group",base:"group-not-only:group-first:rounded-b-none group-not-only:group-last:rounded-t-none group-not-last:group-not-first:rounded-none"}},size:{xs:{base:"px-2 py-1 text-xs gap-1",leading:"ps-2",trailing:"pe-2",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4",label:"p-1 text-[10px]/3 gap-1",item:"p-1 text-xs gap-1",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemLeadingChip:"size-4",itemLeadingChipSize:"sm",itemTrailingIcon:"size-4",tagsItem:"text-[10px]/3",tagsItemDeleteIcon:"size-3"},sm:{base:"px-2.5 py-1.5 text-xs gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4",label:"p-1.5 text-[10px]/3 gap-1.5",item:"p-1.5 text-xs gap-1.5",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemLeadingChip:"size-4",itemLeadingChipSize:"sm",itemTrailingIcon:"size-4",tagsItem:"text-[10px]/3",tagsItemDeleteIcon:"size-3"},md:{base:"px-2.5 py-1.5 text-sm gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5",label:"p-1.5 text-xs gap-1.5",item:"p-1.5 text-sm gap-1.5",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemLeadingChip:"size-5",itemLeadingChipSize:"md",itemTrailingIcon:"size-5",tagsItem:"text-xs",tagsItemDeleteIcon:"size-3.5"},lg:{base:"px-3 py-2 text-sm gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5",label:"p-2 text-xs gap-2",item:"p-2 text-sm gap-2",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemLeadingChip:"size-5",itemLeadingChipSize:"md",itemTrailingIcon:"size-5",tagsItem:"text-xs",tagsItemDeleteIcon:"size-3.5"},xl:{base:"px-3 py-2 text-base gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-6",leadingAvatarSize:"xs",trailingIcon:"size-6",label:"p-2 text-sm gap-2",item:"p-2 text-base gap-2",itemLeadingIcon:"size-6",itemLeadingAvatarSize:"xs",itemLeadingChip:"size-6",itemLeadingChipSize:"lg",itemTrailingIcon:"size-6",tagsItem:"text-sm",tagsItemDeleteIcon:"size-4"}},variant:{outline:"text-[var(--ui-text-highlighted)] bg-[var(--ui-bg)] ring ring-inset ring-[var(--ui-border-accented)]",soft:"text-[var(--ui-text-highlighted)] bg-[var(--ui-bg-elevated)]/50 hover:bg-[var(--ui-bg-elevated)] focus:bg-[var(--ui-bg-elevated)] disabled:bg-[var(--ui-bg-elevated)]/50",subtle:"text-[var(--ui-text-highlighted)] bg-[var(--ui-bg-elevated)] ring ring-inset ring-[var(--ui-border-accented)]",ghost:"text-[var(--ui-text-highlighted)] bg-transparent hover:bg-[var(--ui-bg-elevated)] focus:bg-[var(--ui-bg-elevated)] disabled:bg-transparent dark:disabled:bg-transparent",none:"text-[var(--ui-text-highlighted)] bg-transparent"},color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},leading:{true:""},trailing:{true:""},loading:{true:""},highlight:{true:""},type:{file:"file:me-1.5 file:font-medium file:text-[var(--ui-text-muted)] file:outline-none"},multiple:{true:{root:"flex-wrap",base:"",tagsInput:"border-0 bg-transparent placeholder:text-[var(--ui-text-dimmed)] focus:outline-none disabled:cursor-not-allowed disabled:opacity-75"},false:{base:"w-full border-0 placeholder:text-[var(--ui-text-dimmed)] focus:outline-none disabled:cursor-not-allowed disabled:opacity-75"}}},compoundVariants:[{color:"primary",multiple:!0,variant:["outline","subtle"],class:"has-[:focus-visible]:ring-2 has-[:focus-visible]:ring-[var(--primary)]"},{color:"secondary",multiple:!0,variant:["outline","subtle"],class:"has-[:focus-visible]:ring-2 has-[:focus-visible]:ring-[var(--secondary)]"},{color:"success",multiple:!0,variant:["outline","subtle"],class:"has-[:focus-visible]:ring-2 has-[:focus-visible]:ring-[var(--success)]"},{color:"info",multiple:!0,variant:["outline","subtle"],class:"has-[:focus-visible]:ring-2 has-[:focus-visible]:ring-[var(--info)]"},{color:"warning",multiple:!0,variant:["outline","subtle"],class:"has-[:focus-visible]:ring-2 has-[:focus-visible]:ring-[var(--warning)]"},{color:"error",multiple:!0,variant:["outline","subtle"],class:"has-[:focus-visible]:ring-2 has-[:focus-visible]:ring-[var(--error)]"},{color:"neutral",multiple:!0,variant:["outline","subtle"],class:"has-[:focus-visible]:ring-2 has-[:focus-visible]:ring-[var(--ui-border-inverted)]"},{color:"primary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-[var(--ui-primary)]"},{color:"secondary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-[var(--ui-secondary)]"},{color:"success",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-[var(--ui-success)]"},{color:"info",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-[var(--ui-info)]"},{color:"warning",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-[var(--ui-warning)]"},{color:"error",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-[var(--ui-error)]"},{color:"primary",highlight:!0,class:"ring ring-inset ring-[var(--ui-primary)]"},{color:"secondary",highlight:!0,class:"ring ring-inset ring-[var(--ui-secondary)]"},{color:"success",highlight:!0,class:"ring ring-inset ring-[var(--ui-success)]"},{color:"info",highlight:!0,class:"ring ring-inset ring-[var(--ui-info)]"},{color:"warning",highlight:!0,class:"ring ring-inset ring-[var(--ui-warning)]"},{color:"error",highlight:!0,class:"ring ring-inset ring-[var(--ui-error)]"},{color:"neutral",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-[var(--ui-border-inverted)]"},{color:"neutral",highlight:!0,class:"ring ring-inset ring-[var(--ui-border-inverted)]"},{leading:!0,size:"xs",class:"ps-7"},{leading:!0,size:"sm",class:"ps-8"},{leading:!0,size:"md",class:"ps-9"},{leading:!0,size:"lg",class:"ps-10"},{leading:!0,size:"xl",class:"ps-11"},{trailing:!0,size:"xs",class:"pe-7"},{trailing:!0,size:"sm",class:"pe-8"},{trailing:!0,size:"md",class:"pe-9"},{trailing:!0,size:"lg",class:"pe-10"},{trailing:!0,size:"xl",class:"pe-11"},{loading:!0,leading:!0,class:{leadingIcon:"animate-spin"}},{loading:!0,leading:!1,trailing:!0,class:{trailingIcon:"animate-spin"}}],defaultVariants:{size:"md",color:"primary",variant:"outline"}},jt=Xe;var pa;const Dt=Ce({extend:Ce(qt),...((pa=jt.ui)==null?void 0:pa.inputMenu)||{}}),Ea=me({inheritAttrs:!1,__name:"InputMenu",props:ke({as:{},id:{},type:{default:"text"},placeholder:{},color:{},variant:{},size:{},required:{type:Boolean},autofocus:{type:Boolean},autofocusDelay:{default:0},trailingIcon:{},selectedIcon:{},deleteIcon:{},content:{},arrow:{type:[Boolean,Object]},portal:{type:Boolean,default:!0},filter:{type:[Boolean,Array],default:!0},valueKey:{},labelKey:{default:"label"},items:{},highlight:{type:Boolean},createItem:{type:[Boolean,String,Object]},class:{},ui:{},modelValue:{},multiple:{},defaultValue:{},selectedValue:{},open:{type:Boolean},defaultOpen:{type:Boolean},searchTerm:{},disabled:{type:Boolean},name:{},resetSearchTermOnBlur:{type:Boolean},icon:{},avatar:{},leading:{type:Boolean},leadingIcon:{},trailing:{type:Boolean},loading:{type:Boolean},loadingIcon:{}},{searchTerm:{default:""},searchTermModifiers:{}}),emits:ke(["update:open","update:searchTerm","update:selectedValue","change","blur","focus","create","update:modelValue"],["update:searchTerm"]),setup(C,{expose:u,emit:a}){const t=C,f=a,r=Ne(),p=xe(C,"searchTerm"),$=Ge(),{t:_}=xa(),S=_a(We(t,"as","modelValue","defaultValue","selectedValue","open","defaultOpen","resetSearchTermOnBlur"),f),c=he(()=>qe(t.content,{side:"bottom",sideOffset:8,position:"popper"})),H=he(()=>t.arrow),O=he(()=>typeof t.multiple=="string"?!0:t.multiple),{emitFormBlur:E,emitFormChange:N,emitFormInput:X,size:T,color:D,id:b,name:n,highlight:o,disabled:d}=He(t),{orientation:k,size:y}=wa(t),{isLeading:A,isTrailing:te,leadingIconName:le,trailingIconName:Z}=za(he(()=>qe(t,{trailingIcon:$.ui.icons.chevronDown}))),[ue,_e]=Ia(),we=ee(()=>y.value||T.value),v=ee(()=>Dt({color:D.value,variant:t.variant,size:we==null?void 0:we.value,loading:t.loading,highlight:o.value,leading:A.value||!!t.avatar||!!r.leading,trailing:te.value||!!r.trailing,multiple:O.value,buttonGroup:k.value}));function x(m){if(!t.valueKey)return m&&(typeof m=="object"?ie(m,t.labelKey):m);const P=J.value.find(se=>Ka(ie(se,t.valueKey),m));return P&&(typeof P=="object"?ie(P,t.labelKey):P)}function ge(m=J.value,P=p.value,se=(F,R)=>String(F).search(new RegExp(R,"i"))!==-1){if(t.filter===!1)return m;const F=Array.isArray(t.filter)?t.filter:[t.labelKey],R=qa(P??"");return m.filter(Q=>typeof Q!="object"?se(Q,R):F.some(ze=>{const B=ie(Q,ze);return B!=null&&se(B,R)}))}const M=ee(()=>{var m;return(m=t.items)!=null&&m.length?Array.isArray(t.items[0])?t.items:[t.items]:[]}),J=ee(()=>M.value.flatMap(m=>m)),I=ee(()=>{if(!t.createItem||t.modelValue&&ge(t.multiple&&Array.isArray(t.modelValue)?t.modelValue:[t.modelValue],p.value,(F,R)=>String(F)===R).length===1)return!1;const P=ge(),se=p.value&&{item:t.valueKey?{[t.valueKey]:p.value,[t.labelKey??"label"]:p.value}:p.value,position:typeof t.createItem=="object"&&t.createItem.placement||"bottom"};return typeof t.createItem=="object"&&t.createItem.when==="always"||t.createItem==="always"?P.length===1&&ge(P,p.value,(F,R)=>String(F)===R).length===1?!1:se:P.length>0?!1:se}),Je=ee(()=>[...I.value&&I.value.position==="top"?[I.value.item]:[],...ge(),...I.value&&I.value.position==="bottom"?[I.value.item]:[]]),Le=je(null);function Qe(){var m,P;t.autofocus&&((P=(m=Le.value)==null?void 0:m.$el)==null||P.focus())}Xa(()=>{setTimeout(()=>{Qe()},t.autofocusDelay)});function L(m){if(ta(t.modelValue)===m)return;const P=new Event("change",{target:{value:m}});f("change",P),N(),X()}function G(m){f("blur",m),E()}function Y(m){f("focus",m)}function oe(m){if(m){const P=new FocusEvent("focus");f("focus",P)}else{const P=new FocusEvent("blur");f("blur",P),E()}}return u({inputRef:Le}),(m,P)=>{var se;return l(),V(ae,null,[s(e(ue),null,{default:i(()=>{var F;return[I.value?(l(),h(e(Oe),{key:0,class:g(v.value.group({class:(F=t.ui)==null?void 0:F.group}))},{default:i(()=>{var R;return[s(e(Ee),{class:g(v.value.item({class:(R=t.ui)==null?void 0:R.item})),value:m.valueKey&&typeof I.value.item=="object"?e(ie)(I.value.item,t.valueKey):I.value.item,onSelect:P[0]||(P[0]=Q=>f("create",Q,I.value.item))},{default:i(()=>{var Q;return[z("span",{class:g(v.value.itemLabel({class:(Q=t.ui)==null?void 0:Q.itemLabel}))},[W(m.$slots,"create-item-label",{item:I.value.item},()=>[j(U(e(_)("inputMenu.create",{label:typeof I.value.item=="object"?e(ie)(I.value.item,t.labelKey):I.value.item})),1)])],2)]}),_:3},8,["class","value"])]}),_:3},8,["class"])):w("",!0)]}),_:3}),s(e(Ba),ne({id:e(b)},e(S),{"search-term":p.value,"onUpdate:searchTerm":P[2]||(P[2]=F=>p.value=F),name:e(n),disabled:e(d),multiple:O.value,"display-value":x,"filter-function":()=>Je.value,class:v.value.root({class:[t.class,(se=t.ui)==null?void 0:se.root]}),"as-child":!!O.value,"onUpdate:modelValue":L,"onUpdate:open":oe,onKeydown:P[3]||(P[3]=ye(F=>F.preventDefault(),["enter"]))}),{default:i(({modelValue:F,open:R})=>{var Q;return[s(e(Sa),{"as-child":!O.value,class:g(v.value.base({class:(Q=t.ui)==null?void 0:Q.base}))},{default:i(()=>{var ze,B,be;return[O.value?(l(),h(e(Ya),{key:0,"model-value":F,disabled:e(d),delimiter:"","as-child":"",onBlur:G,onFocus:Y},{default:i(({modelValue:pe})=>[(l(!0),V(ae,null,Ie(pe,(ce,ve)=>{var Se;return l(),h(e(Za),{key:ve,value:ce,class:g(v.value.tagsItem({class:(Se=t.ui)==null?void 0:Se.tagsItem}))},{default:i(()=>{var q,de;return[s(e(Ja),{class:g(v.value.tagsItemText({class:(q=t.ui)==null?void 0:q.tagsItemText}))},{default:i(()=>[W(m.$slots,"tags-item-text",{item:ce,index:ve},()=>[j(U(x(ce)),1)])]),_:2},1032,["class"]),s(e(Qa),{class:g(v.value.tagsItemDelete({class:(de=t.ui)==null?void 0:de.tagsItemDelete})),disabled:e(d)},{default:i(()=>[W(m.$slots,"tags-item-delete",{item:ce,index:ve},()=>{var Ve;return[s(re,{name:m.deleteIcon||e($).ui.icons.close,class:g(v.value.tagsItemDeleteIcon({class:(Ve=t.ui)==null?void 0:Ve.tagsItemDeleteIcon}))},null,8,["name","class"])]})]),_:2},1032,["class","disabled"])]}),_:2},1032,["value","class"])}),128)),s(e(ea),{"as-child":""},{default:i(()=>{var ce;return[s(e(et),ne({ref_key:"inputRef",ref:Le},m.$attrs,{placeholder:m.placeholder,required:m.required,class:v.value.tagsInput({class:(ce=t.ui)==null?void 0:ce.tagsInput}),onKeydown:P[1]||(P[1]=ye(K(()=>{},["prevent"]),["enter"]))}),null,16,["placeholder","required","class"])]}),_:1})]),_:2},1032,["model-value","disabled"])):(l(),h(e(ea),ne({key:1,ref_key:"inputRef",ref:Le},m.$attrs,{type:m.type,placeholder:m.placeholder,required:m.required,class:v.value.base({class:(ze=t.ui)==null?void 0:ze.base}),onBlur:G,onFocus:Y}),null,16,["type","placeholder","required","class"])),e(A)||m.avatar||r.leading?(l(),V("span",{key:2,class:g(v.value.leading({class:(B=t.ui)==null?void 0:B.leading}))},[W(m.$slots,"leading",{modelValue:F,open:R,ui:v.value},()=>{var pe,ce,ve;return[e(A)&&e(le)?(l(),h(re,{key:0,name:e(le),class:g(v.value.leadingIcon({class:(pe=t.ui)==null?void 0:pe.leadingIcon}))},null,8,["name","class"])):m.avatar?(l(),h(Re,ne({key:1,size:((ce=t.ui)==null?void 0:ce.itemLeadingAvatarSize)||v.value.itemLeadingAvatarSize()},m.avatar,{class:v.value.itemLeadingAvatar({class:(ve=t.ui)==null?void 0:ve.itemLeadingAvatar})}),null,16,["size","class"])):w("",!0)]})],2)):w("",!0),e(te)||r.trailing?(l(),h(e(Va),{key:3,class:g(v.value.trailing({class:(be=t.ui)==null?void 0:be.trailing}))},{default:i(()=>[W(m.$slots,"trailing",{modelValue:F,open:R,ui:v.value},()=>{var pe;return[e(Z)?(l(),h(re,{key:0,name:e(Z),class:g(v.value.trailingIcon({class:(pe=t.ui)==null?void 0:pe.trailingIcon}))},null,8,["name","class"])):w("",!0)]})]),_:2},1032,["class"])):w("",!0)]}),_:2},1032,["as-child","class"]),s(e($a),{disabled:!m.portal},{default:i(()=>{var ze;return[s(e(Ca),ne({class:v.value.content({class:(ze=t.ui)==null?void 0:ze.content})},c.value),{default:i(()=>{var B,be,pe;return[s(e(La),{class:g(v.value.empty({class:(B=t.ui)==null?void 0:B.empty}))},{default:i(()=>[W(m.$slots,"empty",{searchTerm:p.value},()=>[j(U(p.value?e(_)("inputMenu.noMatch",{searchTerm:p.value}):e(_)("inputMenu.noData")),1)])]),_:3},8,["class"]),s(e(Ta),{class:g(v.value.viewport({class:(be=t.ui)==null?void 0:be.viewport}))},{default:i(()=>[I.value&&I.value.position==="top"?(l(),h(e(_e),{key:0})):w("",!0),(l(!0),V(ae,null,Ie(M.value,(ce,ve)=>{var Se;return l(),h(e(Oe),{key:`group-${ve}`,class:g(v.value.group({class:(Se=t.ui)==null?void 0:Se.group}))},{default:i(()=>[(l(!0),V(ae,null,Ie(ce,(q,de)=>{var Ve,Me,Pe;return l(),V(ae,{key:`group-${ve}-${de}`},[(q==null?void 0:q.type)==="label"?(l(),h(e(Ua),{key:0,class:g(v.value.label({class:(Ve=t.ui)==null?void 0:Ve.label}))},{default:i(()=>[j(U(e(ie)(q,t.labelKey)),1)]),_:2},1032,["class"])):(q==null?void 0:q.type)==="separator"?(l(),h(e(Aa),{key:1,class:g(v.value.separator({class:(Me=t.ui)==null?void 0:Me.separator}))},null,8,["class"])):(l(),h(e(Ee),{key:2,class:g(v.value.item({class:(Pe=t.ui)==null?void 0:Pe.item})),disabled:q.disabled,value:m.valueKey&&typeof q=="object"?e(ie)(q,t.valueKey):q,onSelect:q.onSelect},{default:i(()=>[W(m.$slots,"item",{item:q,index:de},()=>{var Fe,ia;return[W(m.$slots,"item-leading",{item:q,index:de},()=>{var Be,na,oa,ra,ua;return[q.icon?(l(),h(re,{key:0,name:q.icon,class:g(v.value.itemLeadingIcon({class:(Be=t.ui)==null?void 0:Be.itemLeadingIcon}))},null,8,["name","class"])):q.avatar?(l(),h(Re,ne({key:1,size:((na=t.ui)==null?void 0:na.itemLeadingAvatarSize)||v.value.itemLeadingAvatarSize(),ref_for:!0},q.avatar,{class:v.value.itemLeadingAvatar({class:(oa=t.ui)==null?void 0:oa.itemLeadingAvatar})}),null,16,["size","class"])):q.chip?(l(),h(Ma,ne({key:2,size:((ra=t.ui)==null?void 0:ra.itemLeadingChipSize)||v.value.itemLeadingChipSize(),inset:"",standalone:"",ref_for:!0},q.chip,{class:v.value.itemLeadingChip({class:(ua=t.ui)==null?void 0:ua.itemLeadingChip})}),null,16,["size","class"])):w("",!0)]}),z("span",{class:g(v.value.itemLabel({class:(Fe=t.ui)==null?void 0:Fe.itemLabel}))},[W(m.$slots,"item-label",{item:q,index:de},()=>[j(U(typeof q=="object"?e(ie)(q,t.labelKey):q),1)])],2),z("span",{class:g(v.value.itemTrailing({class:(ia=t.ui)==null?void 0:ia.itemTrailing}))},[W(m.$slots,"item-trailing",{item:q,index:de}),s(e(Pa),{"as-child":""},{default:i(()=>{var Be;return[s(re,{name:m.selectedIcon||e($).ui.icons.check,class:g(v.value.itemTrailingIcon({class:(Be=t.ui)==null?void 0:Be.itemTrailingIcon}))},null,8,["name","class"])]}),_:1})],2)]})]),_:2},1032,["class","disabled","value","onSelect"]))],64)}),128))]),_:2},1032,["class"])}),128)),I.value&&I.value.position==="bottom"?(l(),h(e(_e),{key:1})):w("",!0)]),_:3},8,["class"]),m.arrow?(l(),h(e(Fa),ne({key:0},H.value,{class:v.value.arrow({class:(pe=t.ui)==null?void 0:pe.arrow})}),null,16,["class"])):w("",!0)]}),_:3},16,["class"])]}),_:3},8,["disabled"])]}),_:3},16,["id","search-term","name","disabled","multiple","filter-function","class","as-child"])],64)}}}),Ot={slots:{base:["relative group rounded-[calc(var(--ui-radius)*1.5)] inline-flex items-center focus:outline-none disabled:cursor-not-allowed disabled:opacity-75","transition-colors"],leading:"absolute inset-y-0 start-0 flex items-center",leadingIcon:"shrink-0 text-[var(--ui-text-dimmed)]",leadingAvatar:"shrink-0",leadingAvatarSize:"",trailing:"absolute inset-y-0 end-0 flex items-center",trailingIcon:"shrink-0 text-[var(--ui-text-dimmed)]",value:"truncate",arrow:"fill-[var(--ui-border)]",content:"max-h-60 w-[var(--radix-popper-anchor-width)] bg-[var(--ui-bg)] shadow-lg rounded-[calc(var(--ui-radius)*1.5)] ring ring-[var(--ui-border)] overflow-hidden data-[state=open]:animate-[scale-in_100ms_ease-out] data-[state=closed]:animate-[scale-out_100ms_ease-in]",viewport:"divide-y divide-[var(--ui-border)] scroll-py-1",group:"p-1 isolate",empty:"py-2 text-center text-sm text-[var(--ui-text-muted)]",label:"font-semibold text-[var(--ui-text-highlighted)]",separator:"-mx-1 my-1 h-px bg-[var(--ui-border)]",item:["group relative w-full flex items-center select-none outline-none before:absolute before:z-[-1] before:inset-px before:rounded-[calc(var(--ui-radius)*1.5)] data-disabled:cursor-not-allowed data-disabled:opacity-75 text-[var(--ui-text)] data-highlighted:text-[var(--ui-text-highlighted)] data-highlighted:before:bg-[var(--ui-bg-elevated)]/50","transition-colors before:transition-colors"],itemLeadingIcon:["shrink-0 text-[var(--ui-text-dimmed)] group-data-highlighted:text-[var(--ui-text)]","transition-colors"],itemLeadingAvatar:"shrink-0",itemLeadingAvatarSize:"",itemLeadingChip:"shrink-0",itemLeadingChipSize:"",itemTrailing:"ms-auto inline-flex gap-1.5 items-center",itemTrailingIcon:"shrink-0",itemLabel:"truncate",placeholder:"truncate text-[var(--ui-text-dimmed)]",input:"border-b border-[var(--ui-border)]"},variants:{buttonGroup:{horizontal:"not-only:first:rounded-e-none not-only:last:rounded-s-none not-last:not-first:rounded-none",vertical:"not-only:first:rounded-b-none not-only:last:rounded-t-none not-last:not-first:rounded-none"},size:{xs:{base:"px-2 py-1 text-xs gap-1",leading:"ps-2",trailing:"pe-2",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4",label:"p-1 text-[10px]/3 gap-1",item:"p-1 text-xs gap-1",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemLeadingChip:"size-4",itemLeadingChipSize:"sm",itemTrailingIcon:"size-4"},sm:{base:"px-2.5 py-1.5 text-xs gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4",label:"p-1.5 text-[10px]/3 gap-1.5",item:"p-1.5 text-xs gap-1.5",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemLeadingChip:"size-4",itemLeadingChipSize:"sm",itemTrailingIcon:"size-4"},md:{base:"px-2.5 py-1.5 text-sm gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5",label:"p-1.5 text-xs gap-1.5",item:"p-1.5 text-sm gap-1.5",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemLeadingChip:"size-5",itemLeadingChipSize:"md",itemTrailingIcon:"size-5"},lg:{base:"px-3 py-2 text-sm gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5",label:"p-2 text-xs gap-2",item:"p-2 text-sm gap-2",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemLeadingChip:"size-5",itemLeadingChipSize:"md",itemTrailingIcon:"size-5"},xl:{base:"px-3 py-2 text-base gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-6",leadingAvatarSize:"xs",trailingIcon:"size-6",label:"p-2 text-sm gap-2",item:"p-2 text-base gap-2",itemLeadingIcon:"size-6",itemLeadingAvatarSize:"xs",itemLeadingChip:"size-6",itemLeadingChipSize:"lg",itemTrailingIcon:"size-6"}},variant:{outline:"text-[var(--ui-text-highlighted)] bg-[var(--ui-bg)] ring ring-inset ring-[var(--ui-border-accented)]",soft:"text-[var(--ui-text-highlighted)] bg-[var(--ui-bg-elevated)]/50 hover:bg-[var(--ui-bg-elevated)] focus:bg-[var(--ui-bg-elevated)] disabled:bg-[var(--ui-bg-elevated)]/50",subtle:"text-[var(--ui-text-highlighted)] bg-[var(--ui-bg-elevated)] ring ring-inset ring-[var(--ui-border-accented)]",ghost:"text-[var(--ui-text-highlighted)] bg-transparent hover:bg-[var(--ui-bg-elevated)] focus:bg-[var(--ui-bg-elevated)] disabled:bg-transparent dark:disabled:bg-transparent",none:"text-[var(--ui-text-highlighted)] bg-transparent"},color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},leading:{true:""},trailing:{true:""},loading:{true:""},highlight:{true:""},type:{file:"file:me-1.5 file:font-medium file:text-[var(--ui-text-muted)] file:outline-none"}},compoundVariants:[{color:"primary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-[var(--ui-primary)]"},{color:"secondary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-[var(--ui-secondary)]"},{color:"success",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-[var(--ui-success)]"},{color:"info",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-[var(--ui-info)]"},{color:"warning",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-[var(--ui-warning)]"},{color:"error",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-[var(--ui-error)]"},{color:"primary",highlight:!0,class:"ring ring-inset ring-[var(--ui-primary)]"},{color:"secondary",highlight:!0,class:"ring ring-inset ring-[var(--ui-secondary)]"},{color:"success",highlight:!0,class:"ring ring-inset ring-[var(--ui-success)]"},{color:"info",highlight:!0,class:"ring ring-inset ring-[var(--ui-info)]"},{color:"warning",highlight:!0,class:"ring ring-inset ring-[var(--ui-warning)]"},{color:"error",highlight:!0,class:"ring ring-inset ring-[var(--ui-error)]"},{color:"neutral",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-[var(--ui-border-inverted)]"},{color:"neutral",highlight:!0,class:"ring ring-inset ring-[var(--ui-border-inverted)]"},{leading:!0,size:"xs",class:"ps-7"},{leading:!0,size:"sm",class:"ps-8"},{leading:!0,size:"md",class:"ps-9"},{leading:!0,size:"lg",class:"ps-10"},{leading:!0,size:"xl",class:"ps-11"},{trailing:!0,size:"xs",class:"pe-7"},{trailing:!0,size:"sm",class:"pe-8"},{trailing:!0,size:"md",class:"pe-9"},{trailing:!0,size:"lg",class:"pe-10"},{trailing:!0,size:"xl",class:"pe-11"},{loading:!0,leading:!0,class:{leadingIcon:"animate-spin"}},{loading:!0,leading:!1,trailing:!0,class:{trailingIcon:"animate-spin"}}],defaultVariants:{size:"md",color:"primary",variant:"outline"}},Et=Xe;var ma;const Rt=Ce({extend:Ce(Ot),...((ma=Et.ui)==null?void 0:ma.selectMenu)||{}}),Ra=me({__name:"SelectMenu",props:ke({id:{},placeholder:{},searchInput:{type:Boolean,default:!0},color:{},variant:{},size:{},required:{type:Boolean},trailingIcon:{},selectedIcon:{},content:{},arrow:{type:[Boolean,Object]},portal:{type:Boolean,default:!0},filter:{type:[Boolean,Array],default:!0},valueKey:{},labelKey:{default:"label"},items:{},highlight:{type:Boolean},createItem:{type:[Boolean,String,Object]},class:{},ui:{},modelValue:{},multiple:{},defaultValue:{},selectedValue:{},open:{type:Boolean},defaultOpen:{type:Boolean},searchTerm:{},disabled:{type:Boolean},name:{},resetSearchTermOnBlur:{type:Boolean},icon:{},avatar:{},leading:{type:Boolean},leadingIcon:{},trailing:{type:Boolean},loading:{type:Boolean},loadingIcon:{}},{searchTerm:{default:""},searchTermModifiers:{}}),emits:ke(["update:open","update:searchTerm","update:selectedValue","change","blur","focus","create","update:modelValue"],["update:searchTerm"]),setup(C,{emit:u}){const a=C,t=u,f=Ne(),r=xe(C,"searchTerm"),p=Ge(),{t:$}=xa(),_=_a(We(a,"modelValue","defaultValue","selectedValue","open","defaultOpen","resetSearchTermOnBlur"),t),S=he(()=>qe(a.content,{side:"bottom",sideOffset:8,position:"popper"})),c=he(()=>a.arrow),H=he(()=>qe(a.searchInput,{placeholder:"Search...",variant:"none"})),O=he(()=>typeof a.multiple=="string"?!0:a.multiple),[E,N]=Ia(),{emitFormBlur:X,emitFormInput:T,emitFormChange:D,size:b,color:n,id:o,name:d,highlight:k,disabled:y}=He(a),{orientation:A,size:te}=wa(a),{isLeading:le,isTrailing:Z,leadingIconName:ue,trailingIconName:_e}=za(he(()=>qe(a,{trailingIcon:p.ui.icons.chevronDown}))),we=ee(()=>te.value||b.value),v=ee(()=>Rt({color:n.value,variant:a.variant,size:we==null?void 0:we.value,loading:a.loading,highlight:k.value,leading:le.value||!!a.avatar||!!f.leading,trailing:Z.value||!!f.trailing,buttonGroup:A.value}));function x(L){if(O.value&&Array.isArray(L))return L.map(Y=>x(Y)).filter(Boolean).join(", ");if(!a.valueKey)return L&&(typeof L=="object"?ie(L,a.labelKey):L);const G=J.value.find(Y=>Ka(ie(Y,a.valueKey),L))??(a.createItem&&L);return G&&(typeof G=="object"?ie(G,a.labelKey):G)}function ge(L=J.value,G=r.value,Y=(oe,m)=>String(oe).search(new RegExp(m,"i"))!==-1){if(a.filter===!1)return L;const oe=Array.isArray(a.filter)?a.filter:[a.labelKey],m=qa(G);return L.filter(P=>typeof P!="object"?Y(P,m):oe.some(se=>{const F=ie(P,se);return F!=null&&Y(F,m)}))}const M=ee(()=>{var L;return(L=a.items)!=null&&L.length?Array.isArray(a.items[0])?a.items:[a.items]:[]}),J=ee(()=>M.value.flatMap(L=>L)),I=ee(()=>{if(!a.createItem||a.modelValue&&ge(a.multiple&&Array.isArray(a.modelValue)?a.modelValue:[a.modelValue],r.value,(oe,m)=>String(oe)===m).length===1)return!1;const G=ge(),Y=r.value&&{item:a.valueKey?{[a.valueKey]:r.value,[a.labelKey??"label"]:r.value}:r.value,position:typeof a.createItem=="object"&&a.createItem.placement||"bottom"};return typeof a.createItem=="object"&&a.createItem.when==="always"||a.createItem==="always"?G.length===1&&ge(G,r.value,(oe,m)=>String(oe)===m).length===1?!1:Y:G.length>0?!1:Y}),Je=ee(()=>[...I.value&&I.value.position==="top"?[I.value.item]:[],...ge(),...I.value&&I.value.position==="bottom"?[I.value.item]:[]]);function Le(L){if(ta(a.modelValue)===L)return;const G=new Event("change",{target:{value:L}});t("change",G),D(),T()}function Qe(L){if(L){const G=new FocusEvent("focus");t("focus",G)}else{const G=new FocusEvent("blur");t("blur",G),X()}}return(L,G)=>(l(),V(ae,null,[s(e(E),null,{default:i(()=>{var Y;return[I.value?(l(),h(e(Oe),{key:0,class:g(v.value.group({class:(Y=a.ui)==null?void 0:Y.group}))},{default:i(()=>{var oe;return[s(e(Ee),{class:g(v.value.item({class:(oe=a.ui)==null?void 0:oe.item})),value:L.valueKey&&typeof I.value.item=="object"?e(ie)(I.value.item,a.valueKey):I.value.item,onSelect:G[0]||(G[0]=m=>t("create",m,I.value.item))},{default:i(()=>{var m;return[z("span",{class:g(v.value.itemLabel({class:(m=a.ui)==null?void 0:m.itemLabel}))},[W(L.$slots,"create-item-label",{item:I.value.item},()=>[j(U(e($)("selectMenu.create",{label:typeof I.value.item=="object"?e(ie)(I.value.item,a.labelKey):I.value.item})),1)])],2)]}),_:3},8,["class","value"])]}),_:3},8,["class"])):w("",!0)]}),_:3}),s(e(Ba),ne({id:e(o)},e(_),{"search-term":r.value,"onUpdate:searchTerm":G[1]||(G[1]=Y=>r.value=Y),"as-child":"",name:e(d),disabled:e(y),multiple:O.value,"display-value":()=>r.value,"filter-function":()=>Je.value,"onUpdate:modelValue":Le,"onUpdate:open":Qe}),{default:i(({modelValue:Y,open:oe})=>[s(e(Sa),{"as-child":""},{default:i(()=>{var m;return[s(e(Va),{class:g(v.value.base({class:[a.class,(m=a.ui)==null?void 0:m.base]})),tabindex:"0"},{default:i(()=>{var P,se;return[e(le)||L.avatar||f.leading?(l(),V("span",{key:0,class:g(v.value.leading({class:(P=a.ui)==null?void 0:P.leading}))},[W(L.$slots,"leading",{modelValue:Y,open:oe,ui:v.value},()=>{var F,R,Q;return[e(le)&&e(ue)?(l(),h(re,{key:0,name:e(ue),class:g(v.value.leadingIcon({class:(F=a.ui)==null?void 0:F.leadingIcon}))},null,8,["name","class"])):L.avatar?(l(),h(Re,ne({key:1,size:((R=a.ui)==null?void 0:R.itemLeadingAvatarSize)||v.value.itemLeadingAvatarSize()},L.avatar,{class:v.value.itemLeadingAvatar({class:(Q=a.ui)==null?void 0:Q.itemLeadingAvatar})}),null,16,["size","class"])):w("",!0)]})],2)):w("",!0),W(L.$slots,"default",{modelValue:Y,open:oe},()=>[(l(!0),V(ae,null,Ie([x(Y)],F=>{var R,Q;return l(),V(ae,{key:F},[F?(l(),V("span",{key:0,class:g(v.value.value({class:(R=a.ui)==null?void 0:R.value}))},U(F),3)):(l(),V("span",{key:1,class:g(v.value.placeholder({class:(Q=a.ui)==null?void 0:Q.placeholder}))},U(L.placeholder??" "),3))],64)}),128))]),e(Z)||f.trailing?(l(),V("span",{key:1,class:g(v.value.trailing({class:(se=a.ui)==null?void 0:se.trailing}))},[W(L.$slots,"trailing",{modelValue:Y,open:oe,ui:v.value},()=>{var F;return[e(_e)?(l(),h(re,{key:0,name:e(_e),class:g(v.value.trailingIcon({class:(F=a.ui)==null?void 0:F.trailingIcon}))},null,8,["name","class"])):w("",!0)]})],2)):w("",!0)]}),_:2},1032,["class"])]}),_:2},1024),s(e($a),{disabled:!L.portal},{default:i(()=>{var m;return[s(e(Ca),ne({class:v.value.content({class:(m=a.ui)==null?void 0:m.content})},S.value),{default:i(()=>{var P,se,F;return[L.searchInput?(l(),h(e(ea),{key:0,"as-child":""},{default:i(()=>{var R;return[s(Ze,ne({autofocus:"",autocomplete:"off"},H.value,{class:v.value.input({class:(R=a.ui)==null?void 0:R.input})}),null,16,["class"])]}),_:1})):w("",!0),s(e(La),{class:g(v.value.empty({class:(P=a.ui)==null?void 0:P.empty}))},{default:i(()=>[W(L.$slots,"empty",{searchTerm:r.value},()=>[j(U(r.value?e($)("selectMenu.noMatch",{searchTerm:r.value}):e($)("selectMenu.noData")),1)])]),_:3},8,["class"]),s(e(Ta),{class:g(v.value.viewport({class:(se=a.ui)==null?void 0:se.viewport}))},{default:i(()=>[I.value&&I.value.position==="top"?(l(),h(e(N),{key:0})):w("",!0),(l(!0),V(ae,null,Ie(M.value,(R,Q)=>{var ze;return l(),h(e(Oe),{key:`group-${Q}`,class:g(v.value.group({class:(ze=a.ui)==null?void 0:ze.group}))},{default:i(()=>[(l(!0),V(ae,null,Ie(R,(B,be)=>{var pe,ce,ve;return l(),V(ae,{key:`group-${Q}-${be}`},[(B==null?void 0:B.type)==="label"?(l(),h(e(Ua),{key:0,class:g(v.value.label({class:(pe=a.ui)==null?void 0:pe.label}))},{default:i(()=>[j(U(e(ie)(B,a.labelKey)),1)]),_:2},1032,["class"])):(B==null?void 0:B.type)==="separator"?(l(),h(e(Aa),{key:1,class:g(v.value.separator({class:(ce=a.ui)==null?void 0:ce.separator}))},null,8,["class"])):(l(),h(e(Ee),{key:2,class:g(v.value.item({class:(ve=a.ui)==null?void 0:ve.item})),disabled:B.disabled,value:L.valueKey&&typeof B=="object"?e(ie)(B,a.valueKey):B,onSelect:B.onSelect},{default:i(()=>[W(L.$slots,"item",{item:B,index:be},()=>{var Se,q;return[W(L.$slots,"item-leading",{item:B,index:be},()=>{var de,Ve,Me,Pe,Fe;return[B.icon?(l(),h(re,{key:0,name:B.icon,class:g(v.value.itemLeadingIcon({class:(de=a.ui)==null?void 0:de.itemLeadingIcon}))},null,8,["name","class"])):B.avatar?(l(),h(Re,ne({key:1,size:((Ve=a.ui)==null?void 0:Ve.itemLeadingAvatarSize)||v.value.itemLeadingAvatarSize(),ref_for:!0},B.avatar,{class:v.value.itemLeadingAvatar({class:(Me=a.ui)==null?void 0:Me.itemLeadingAvatar})}),null,16,["size","class"])):B.chip?(l(),h(Ma,ne({key:2,size:((Pe=a.ui)==null?void 0:Pe.itemLeadingChipSize)||v.value.itemLeadingChipSize(),inset:"",standalone:"",ref_for:!0},B.chip,{class:v.value.itemLeadingChip({class:(Fe=a.ui)==null?void 0:Fe.itemLeadingChip})}),null,16,["size","class"])):w("",!0)]}),z("span",{class:g(v.value.itemLabel({class:(Se=a.ui)==null?void 0:Se.itemLabel}))},[W(L.$slots,"item-label",{item:B,index:be},()=>[j(U(typeof B=="object"?e(ie)(B,a.labelKey):B),1)])],2),z("span",{class:g(v.value.itemTrailing({class:(q=a.ui)==null?void 0:q.itemTrailing}))},[W(L.$slots,"item-trailing",{item:B,index:be}),s(e(Pa),{"as-child":""},{default:i(()=>{var de;return[s(re,{name:L.selectedIcon||e(p).ui.icons.check,class:g(v.value.itemTrailingIcon({class:(de=a.ui)==null?void 0:de.itemTrailingIcon}))},null,8,["name","class"])]}),_:1})],2)]})]),_:2},1032,["class","disabled","value","onSelect"]))],64)}),128))]),_:2},1032,["class"])}),128)),I.value&&I.value.position==="bottom"?(l(),h(e(N),{key:1})):w("",!0)]),_:3},8,["class"]),L.arrow?(l(),h(e(Fa),ne({key:1},c.value,{class:v.value.arrow({class:(F=a.ui)==null?void 0:F.arrow})}),null,16,["class"])):w("",!0)]}),_:3},16,["class"])]}),_:3},8,["disabled"])]),_:3},16,["id","search-term","name","disabled","multiple","display-value","filter-function"])],64))}}),Na=C=>at(`source-stats-${e(C)}`,()=>`/sources/${e(C)}/stats`,void 0,Ue(C)?{watch:[C]}:void 0),Nt={class:"grid gap-y-4"},Gt={class:"text-center"},Wt={class:"font-semibold"},Ht={key:0,class:"italic text-gray-400"},Xt=me({__name:"SourceStep",props:{form:{required:!0},formModifiers:{}},emits:["update:form"],setup(C){const u=xe(C,"form"),{data:a,refresh:t}=ft(),{data:f,status:r}=Na(he(u.value,"source")),p=je(!1),$=()=>{p.value=!0};ja(()=>{var S;(S=u.value).conditions||(S.conditions=[])});function _(S){var c;u.value.conditions=(c=u.value.conditions)==null?void 0:c.filter((H,O)=>O!==S)}return(S,c)=>{const H=re,O=Da,E=la,N=Ea,X=Oa,T=$e,D=Ra,b=Ze,n=Ye;return l(),V("section",Nt,[s(E,{label:"Source",required:"",name:"source"},{default:i(()=>{var o;return[s(O,{options:((o=e(a))==null?void 0:o.map(d=>({value:d.id,item:d})))||[],modelValue:u.value.source,"onUpdate:modelValue":c[1]||(c[1]=d=>u.value.source=d)},{default:i(({item:d})=>[z("div",Gt,[z("p",Wt,"Source n°"+U(d.id),1),d.excerpt?(l(),V("span",Ht,U(d.excerpt),1)):w("",!0)])]),create:i(()=>[z("div",{class:"col-span-full flex justify-center items-center gap-x-1 cursor-pointer rounded-lg p-4 text-lg text-gray-900 dark:text-white bg-white dark:bg-gray-900 ring-1 ring-gray-200 dark:ring-gray-800",onClick:c[0]||(c[0]=()=>$())},[s(H,{name:"heroicons-plus"}),c[7]||(c[7]=z("span",null,"Create",-1))])]),_:1},8,["options","modelValue"])]}),_:1}),s(E,{label:"Table",required:"",name:"table"},{default:i(()=>[s(N,{modelValue:u.value.table,"onUpdate:modelValue":c[2]||(c[2]=o=>u.value.table=o),items:Object.keys(e(f)||{}),placeholder:"Select a table",loading:e(r)==="idle"||e(r)==="pending"},{empty:i(()=>c[8]||(c[8]=[j("No tables available for the selected source.")])),_:1},8,["modelValue","items","loading"])]),_:1}),e(f)?(l(),h(E,{key:0,label:"Primary keys",required:"",name:"primaryKeys"},{default:i(()=>{var o,d;return[s(N,{multiple:"",modelValue:u.value.primary_keys,"onUpdate:modelValue":c[3]||(c[3]=k=>u.value.primary_keys=k),loading:e(r)==="idle"||e(r)==="pending",items:[...new Set([...((d=(o=e(f))==null?void 0:o[u.value.table])==null?void 0:d.columns)||[],...u.value.primary_keys||[]])]},{empty:i(()=>c[9]||(c[9]=[j("No columns available for the selected table.")])),_:1},8,["modelValue","loading","items"])]}),_:1})):w("",!0),s(X,{label:"Conditions"}),(l(!0),V(ae,null,Ie(u.value.conditions,(o,d)=>(l(),h(n,{key:"conditions:"+d,ui:{body:"grid grid-cols-3 gap-x-4",header:"flex justify-between items-center p-2 sm:p-2 font-bold"}},{header:i(()=>[j(" Condition "+U(d)+" ",1),s(T,{color:"error",class:"cursor-pointer",variant:"ghost",size:"sm",icon:"i-heroicons-trash",onClick:K(k=>_(d),["prevent"])},null,8,["onClick"])]),default:i(()=>[e(f)?(l(),h(E,{key:0,label:"Column",required:"",name:`conditions.${d}.column`},{default:i(()=>{var k,y;return[s(N,{loading:e(r)==="idle"||e(r)==="pending",class:"w-full",searchable:"",modelValue:u.value.conditions[d].column,"onUpdate:modelValue":A=>u.value.conditions[d].column=A,items:((y=(k=e(f))==null?void 0:k[u.value.table])==null?void 0:y.columns)||[],placeholder:"Select a column"},null,8,["loading","modelValue","onUpdate:modelValue","items"])]}),_:2},1032,["name"])):w("",!0),u.value.conditions[d].column?(l(),h(E,{key:1,label:"Operator",required:"",name:`conditions.${d}.operator`},{default:i(()=>[s(D,{modelValue:u.value.conditions[d].operator,"onUpdate:modelValue":k=>u.value.conditions[d].operator=k,class:"w-full",items:[{label:"IS",value:"="},{label:"IS NULL",value:"is null"},{label:"IS NOT NULL",value:"is not null"},{label:"IS TRUE",value:"is true"},{label:"IS FALSE",value:"is false"}],"value-key":"value",placeholder:"Select an operator"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["name"])):w("",!0),u.value.conditions[d].operator==="="?(l(),h(E,{key:2,label:"Value",required:"",name:`conditions.${d}.value`},{default:i(()=>[s(b,{type:"text",modelValue:u.value.conditions[d].value,"onUpdate:modelValue":k=>u.value.conditions[d].value=k,class:"w-full",placeholder:"Select an operator"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["name"])):w("",!0)]),_:2},1024))),128)),s(T,{class:"text-center",block:"",onClick:c[4]||(c[4]=K(o=>u.value.conditions.push({}),["prevent"]))},{default:i(()=>c[10]||(c[10]=[j("+ Add condition")])),_:1}),s(e(bt),{open:e(p),"onUpdate:open":c[5]||(c[5]=o=>Ue(p)?p.value=o:null),mode:"create",onCreated:c[6]||(c[6]=()=>e(t)())},null,8,["open"])])}}}),Yt={slots:{root:"relative flex items-start",base:"shrink-0 flex items-center justify-center rounded-[var(--ui-radius)] text-[var(--ui-bg)] ring ring-inset ring-[var(--ui-border-accented)] focus:outline-none focus-visible:outline-2 focus-visible:outline-offset-2",container:"flex items-center",wrapper:"ms-2",icon:"shrink-0 size-full",label:"block font-medium text-[var(--ui-text)]",description:"text-[var(--ui-text-muted)]"},variants:{color:{primary:"focus-visible:outline-[var(--ui-primary)]",secondary:"focus-visible:outline-[var(--ui-secondary)]",success:"focus-visible:outline-[var(--ui-success)]",info:"focus-visible:outline-[var(--ui-info)]",warning:"focus-visible:outline-[var(--ui-warning)]",error:"focus-visible:outline-[var(--ui-error)]",neutral:"focus-visible:outline-[var(--ui-border-inverted)]"},size:{xs:{base:"size-3",container:"h-4",wrapper:"text-xs"},sm:{base:"size-3.5",container:"h-4",wrapper:"text-xs"},md:{base:"size-4",container:"h-5",wrapper:"text-sm"},lg:{base:"size-4.5",container:"h-5",wrapper:"text-sm"},xl:{base:"size-5",container:"h-6",wrapper:"text-base"}},required:{true:{label:"after:content-['*'] after:ms-0.5 after:text-[var(--ui-error)]"}},disabled:{true:{base:"cursor-not-allowed opacity-75",label:"cursor-not-allowed opacity-75",description:"cursor-not-allowed opacity-75"}},checked:{true:""}},compoundVariants:[{color:"primary",checked:!0,class:"ring-2 ring-[var(--ui-primary)] bg-[var(--ui-primary)]"},{color:"secondary",checked:!0,class:"ring-2 ring-[var(--ui-secondary)] bg-[var(--ui-secondary)]"},{color:"success",checked:!0,class:"ring-2 ring-[var(--ui-success)] bg-[var(--ui-success)]"},{color:"info",checked:!0,class:"ring-2 ring-[var(--ui-info)] bg-[var(--ui-info)]"},{color:"warning",checked:!0,class:"ring-2 ring-[var(--ui-warning)] bg-[var(--ui-warning)]"},{color:"error",checked:!0,class:"ring-2 ring-[var(--ui-error)] bg-[var(--ui-error)]"},{color:"neutral",checked:!0,class:"ring-2 ring-[var(--ui-border-inverted)] bg-[var(--ui-bg-inverted)]"}],defaultVariants:{size:"md",color:"primary"}},Zt=Xe;var ga;const Jt=Ce({extend:Ce(Yt),...((ga=Zt.ui)==null?void 0:ga.checkbox)||{}}),Qt=me({__name:"Checkbox",props:ke({label:{},description:{},color:{},size:{},icon:{},indeterminate:{type:Boolean},indeterminateIcon:{},defaultValue:{type:Boolean},class:{},ui:{},disabled:{type:Boolean},required:{type:Boolean},name:{},value:{},id:{}},{modelValue:{type:Boolean,default:void 0},modelModifiers:{}}),emits:ke(["update:modelValue","change"],["update:modelValue"]),setup(C,{emit:u}){const a=C,t=Ne(),f=u,r=xe(C,"modelValue"),p=ba(We(a,"required","value")),$=Ge(),{id:_,emitFormChange:S,emitFormInput:c,size:H,color:O,name:E,disabled:N}=He(a),X=_.value??ha(),T=ee({get(){return a.indeterminate?"indeterminate":r.value},set(n){r.value=n==="indeterminate"?void 0:n}}),D=ee(()=>Jt({size:H.value,color:O.value,required:a.required,disabled:N.value,checked:(r.value??a.defaultValue)||a.indeterminate}));function b(n){const o=new Event("change",{target:{value:n}});f("change",o),S(),c()}return(n,o)=>{var d,k,y,A,te,le;return l(),V("div",{class:g(D.value.root({class:[a.class,(d=a.ui)==null?void 0:d.root]}))},[z("div",{class:g(D.value.container({class:(k=a.ui)==null?void 0:k.container}))},[s(e(lt),ne({id:e(X),checked:T.value,"onUpdate:checked":o[0]||(o[0]=Z=>T.value=Z),"default-checked":n.defaultValue},e(p),{name:e(E),disabled:e(N),class:D.value.base({class:(y=a.ui)==null?void 0:y.base}),"onUpdate:checked":b}),{default:i(()=>[s(e(tt),{"as-child":""},{default:i(()=>{var Z,ue;return[n.indeterminate?(l(),h(re,{key:0,name:n.indeterminateIcon||e($).ui.icons.minus,class:g(D.value.icon({class:(Z=a.ui)==null?void 0:Z.icon}))},null,8,["name","class"])):(l(),h(re,{key:1,name:n.icon||e($).ui.icons.check,class:g(D.value.icon({class:(ue=a.ui)==null?void 0:ue.icon}))},null,8,["name","class"]))]}),_:1})]),_:1},16,["id","checked","default-checked","name","disabled","class"])],2),n.label||t.label||n.description||t.description?(l(),V("div",{key:0,class:g(D.value.wrapper({class:(A=a.ui)==null?void 0:A.wrapper}))},[n.label||t.label?(l(),h(e(ya),{key:0,for:e(X),class:g(D.value.label({class:(te=a.ui)==null?void 0:te.label}))},{default:i(()=>[W(n.$slots,"label",{label:n.label},()=>[j(U(n.label),1)])]),_:3},8,["for","class"])):w("",!0),n.description||t.description?(l(),V("p",{key:1,class:g(D.value.description({class:(le=a.ui)==null?void 0:le.description}))},[W(n.$slots,"description",{description:n.description},()=>[j(U(n.description),1)])],2)):w("",!0)],2)):w("",!0)],2)}}}),el={class:"grid space-y-4"},al=["id"],tl={class:"space-y-4"},ll={class:"flex"},sl={class:"flex"},il={class:"flex"},nl={class:"flex"},ol={class:"flex items-start justify-start mt-4 gap-2 max-w-full overflow-hidden"},rl=me({__name:"MappingeSelector",props:ke({source:{},table:{},path:{}},{modelValue:{required:!1,default:[]},modelModifiers:{}}),emits:["update:modelValue"],async setup(C){let u,a;const t=xe(C,"modelValue"),f=C,{data:r,status:p,error:$}=([u,a]=st(()=>Na(f.source)),u=await u,a(),u),_=je([]),S=je([]),c=ee({get:()=>S.value,set:async n=>{var o,d;for(const k of n)[...((d=(o=r.value)==null?void 0:o[f.table])==null?void 0:d.columns)||[],..._.value||[]].includes(k)||_.value.push((k==null?void 0:k.label)||k);S.value=n.map(k=>(k==null?void 0:k.label)||k).filter(k=>{var y;return!((y=t.value)!=null&&y.includes(k))})}}),H=ee(()=>{var n,o;return[...((o=(n=r.value)==null?void 0:n[f.table])==null?void 0:o.columns)||[],..._.value||[]].filter(d=>!t.value.find(k=>(k==null?void 0:k._type)==="simple"&&(k==null?void 0:k.column)==d))}),O=()=>{var n,o;((n=c.value)==null?void 0:n.length)!=0&&(t.value=[...t.value||[],...(o=c.value)==null?void 0:o.map(d=>({_type:"simple",column:d}))],c.value=[])},E=()=>{var n;t.value=[...t.value||[],...(n=H.value)==null?void 0:n.map(o=>({_type:"simple",column:o}))]},N=()=>{t.value.push({_type:"relation",mapping:[],type:null,name:null,table:null,foreign_key:null,local_key:null})},X=n=>{t.value=t.value.filter((o,d)=>d!==n)},T=Ae(),D=n=>[f.path,n].filter(o=>o).join("."),b=async n=>{T.value.preventScroll=!0,await aa(()=>{T.value.activeTabs="mapping",T.value.activeMappingPath=D(n)}),await aa(()=>T.value.preventScroll=!1)};return(n,o)=>{const d=$e,k=Ye,y=Ze,A=la,te=nt,le=Oa,Z=Ra,ue=ot,_e=Qt,we=Ea,v=ka("MappingeSelector",!0);return l(),V("div",el,[z("div",{class:g(["targettable grid space-y-4",{targetted:n.path?!1:D("")===e(T).activeMappingPath}]),id:n.path?void 0:"mapping-",onClick:o[0]||(o[0]=K(x=>n.path?void 0:b(""),["stop"])),onKeydown:o[1]||(o[1]=ye(K(x=>n.path?void 0:b(""),["stop"]),["enter","space"]))},[(l(!0),V(ae,null,Ie(t.value,(x,ge)=>(l(),V(ae,null,[x._type==="simple"?(l(),h(k,{key:0,ui:{body:"flex justify-between items-center gap-x-2 sm:p-4"},class:g(["targettable",{targetted:D(x.column)===e(T).activeMappingPath}]),onClick:K(M=>b(x.column),["stop"]),onKeydown:ye(K(M=>b(x.column),["stop"]),["enter","space"]),id:`mapping-${D(x.column)}`},{default:i(()=>[z("p",null,"Simple: "+U(x.column),1),s(d,{color:"error",variant:"ghost",size:"md",icon:"i-heroicons-trash",onClick:K(M=>X(ge),["prevent"])},null,8,["onClick"])]),_:2},1032,["class","onClick","onKeydown","id"])):w("",!0),x._type==="relation"?(l(),h(k,{key:1,ui:{body:"sm:p-4",header:"flex justify-between items-center gap-x-2 sm:p-4"},class:g(["targettable",{targetted:D(x.name)===e(T).activeMappingPath}]),onClick:K(M=>b(x.name),["stop"]),onKeydown:ye(K(M=>b(x.name),["stop"]),["enter","space"]),id:`mapping-${D(x.name)}`},it({header:i(()=>[z("p",null,"Relation: "+U(x.name||"---"),1),s(d,{color:"error",variant:"ghost",size:"md",icon:"i-heroicons-trash",onClick:K(M=>X(ge),["prevent"])},null,8,["onClick"])]),default:i(()=>[z("div",tl,[s(A,{name:"name",label:"Name",required:""},{default:i(()=>[s(y,{modelValue:x.name,"onUpdate:modelValue":M=>x.name=M,class:"w-full"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),s(A,{name:"type",label:"Type",required:""},{default:i(()=>[s(te,{modelValue:x.type,"onUpdate:modelValue":M=>x.type=M,items:["one-to-one","has-many"],class:"w-full",required:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),s(le,{label:"Configuration"}),s(A,{name:"table",label:"Foreign Table",required:""},{default:i(()=>[s(Z,{modelValue:x.table,"onUpdate:modelValue":M=>x.table=M,items:Object.keys(e(r)||{}),class:"w-full"},null,8,["modelValue","onUpdate:modelValue","items"])]),_:2},1024),s(A,{name:"local_key",label:"Local key",required:""},{default:i(()=>{var M,J;return[z("div",ll,[s(ue,{class:"h-auto p-2 pointer-events-none select-none rounded-r-none border-l-0"},{default:i(()=>[j(U(n.table)+". ",1)]),_:1}),s(Z,{modelValue:x.local_key,"onUpdate:modelValue":I=>x.local_key=I,class:"w-full rounded-md rounded-l-none",items:((J=(M=e(r))==null?void 0:M[n.table])==null?void 0:J.columns)||[]},null,8,["modelValue","onUpdate:modelValue","items"])])]}),_:2},1024),x.type==="has-many"?(l(),V(ae,{key:0},[s(le,{label:"Pivot Configuration"}),s(_e,{label:"Use pivot table",modelValue:x.use_pivot_table,"onUpdate:modelValue":M=>x.use_pivot_table=M},null,8,["modelValue","onUpdate:modelValue"]),x.use_pivot_table?(l(),V(ae,{key:0},[s(A,{name:"pivot_table",label:"Pivot Table",required:""},{default:i(()=>[s(Z,{modelValue:x.pivot_table,"onUpdate:modelValue":M=>x.pivot_table=M,items:Object.keys(e(r)||{}),class:"w-full"},null,8,["modelValue","onUpdate:modelValue","items"])]),_:2},1024),s(A,{name:"local_pivot_key",label:"Local Pivot key",required:""},{default:i(()=>{var M,J;return[z("div",sl,[s(ue,{class:"h-auto p-2 pointer-events-none select-none rounded-r-none border-l-0"},{default:i(()=>[j(U(x.pivot_table)+". ",1)]),_:2},1024),s(Z,{modelValue:x.local_pivot_key,"onUpdate:modelValue":I=>x.local_pivot_key=I,class:"w-full rounded-md rounded-l-none",items:((J=(M=e(r))==null?void 0:M[x.pivot_table])==null?void 0:J.columns)||[]},null,8,["modelValue","onUpdate:modelValue","items"])])]}),_:2},1024),s(A,{name:"foreign_pivot_key",label:"Foreign Pivot key",required:""},{default:i(()=>{var M,J;return[z("div",il,[s(ue,{class:"h-auto p-2 pointer-events-none select-none rounded-r-none border-l-0"},{default:i(()=>[j(U(x.pivot_table)+". ",1)]),_:2},1024),s(Z,{modelValue:x.foreign_pivot_key,"onUpdate:modelValue":I=>x.foreign_pivot_key=I,class:"w-full rounded-md rounded-l-none",items:((J=(M=e(r))==null?void 0:M[x.pivot_table])==null?void 0:J.columns)||[]},null,8,["modelValue","onUpdate:modelValue","items"])])]}),_:2},1024)],64)):w("",!0),s(le,{label:"Pivot Configuration End"})],64)):w("",!0),s(A,{name:"foreign_key",label:"Foreign key",required:""},{default:i(()=>{var M,J;return[z("div",nl,[s(ue,{class:"h-auto p-2 pointer-events-none select-none rounded-r-none border-l-0"},{default:i(()=>[j(U(x.table)+". ",1)]),_:2},1024),s(Z,{modelValue:x.foreign_key,"onUpdate:modelValue":I=>x.foreign_key=I,class:"w-full rounded-md rounded-l-none",items:((J=(M=e(r))==null?void 0:M[x.table])==null?void 0:J.columns)||[]},null,8,["modelValue","onUpdate:modelValue","items"])])]}),_:2},1024),x.table?(l(),h(A,{key:1,label:"Primary keys",required:"",name:"primary_keys"},{default:i(()=>{var M,J;return[s(we,{class:"w-full",ui:{tagsInput:"flex-1"},multiple:"",modelValue:x.primary_keys,"onUpdate:modelValue":I=>x.primary_keys=I,items:[...new Set([...((J=(M=e(r))==null?void 0:M[x.table])==null?void 0:J.columns)||[],...x.primary_keys||[]])]},{empty:i(()=>o[3]||(o[3]=[j("No columns available for the selected table.")])),_:2},1032,["modelValue","onUpdate:modelValue","items"])]}),_:2},1024)):w("",!0)])]),_:2},[x.table?{name:"footer",fn:i(()=>[s(v,{source:n.source,table:x.table,modelValue:x.mapping,"onUpdate:modelValue":M=>x.mapping=M,path:D(x.name)},null,8,["source","table","modelValue","onUpdate:modelValue","path"])]),key:"0"}:void 0]),1032,["class","onClick","onKeydown","id"])):w("",!0)],64))),256))],42,al),z("div",ol,[s(we,{multiple:"",ui:{tagsInput:"flex-1"},class:"flex-1 overflow-hidden",items:e(H),modelValue:e(c),"onUpdate:modelValue":o[2]||(o[2]=x=>Ue(c)?c.value=x:null),placeholder:"Select a field to add"},null,8,["items","modelValue"]),s(d,{"trailing-icon":"i-heroicons-plus",class:"mr-4",onClick:K(O,["prevent","stop"]),disabled:!e(c)},{default:i(()=>o[4]||(o[4]=[j("Add")])),_:1},8,["disabled"]),s(d,{"trailing-icon":"i-heroicons-plus",onClick:K(E,["prevent","stop"])},{default:i(()=>o[5]||(o[5]=[j(" Add all fields ")])),_:1}),s(d,{"trailing-icon":"i-heroicons-plus",onClick:K(N,["prevent","stop"])},{default:i(()=>o[6]||(o[6]=[j(" Add Relation ")])),_:1})])])}}}),ul=sa(rl,[["__scopeId","data-v-0e2feec9"]]),cl=me({__name:"MappingStep",props:{form:{required:!0},formModifiers:{}},emits:["update:form"],setup(C){const u=xe(C,"form"),a=Ae();let t="";return rt(a.value,(f,r)=>{t!==f.activeMappingPath&&(t=f.activeMappingPath,!a.value.preventScroll&&aa(()=>{var p;(p=document.getElementById("mapping-"+f.activeMappingPath))==null||p.scrollIntoView({block:"start",inline:"start",behavior:"instant"})}))}),(f,r)=>{const p=ul;return l(),V("div",{class:g({"short-mode":e(a).shortMode})},[s(p,{source:u.value.source,table:u.value.table,modelValue:u.value.mapping,"onUpdate:modelValue":r[0]||(r[0]=$=>u.value.mapping=$)},null,8,["source","table","modelValue"])],2)}}}),dl=sa(cl,[["__scopeId","data-v-2a350996"]]),pl={class:"grid gap-y-4"},ml={class:"text-center"},gl={class:"font-semibold"},vl={key:0,class:"italic text-gray-400"},fl=me({__name:"OutputStep",props:{form:{required:!0},formModifiers:{}},emits:["update:form"],setup(C){const u=xe(C,"form"),{data:a,refresh:t}=ht();return ja(()=>{var f,r,p;(r=u.value).index||(r.index=(f=u.value)==null?void 0:f.table),(p=u.value).targets||(p.targets=[])}),(f,r)=>{const p=Da,$=la,_=Ze;return l(),V("section",pl,[s($,{label:"Targets",required:"",name:"targets"},{default:i(()=>{var S;return[s(p,{multiple:"",options:((S=e(a))==null?void 0:S.map(c=>({value:c.id,item:c})))||[],modelValue:u.value.targets,"onUpdate:modelValue":r[0]||(r[0]=c=>u.value.targets=c)},{default:i(({item:c})=>[z("div",ml,[z("p",gl,"Target n°"+U(c.id),1),c.excerpt?(l(),V("span",vl,U(c.excerpt),1)):w("",!0)])]),_:1},8,["options","modelValue"])]}),_:1}),s($,{label:"Index",required:"",name:"index"},{default:i(()=>[s(_,{modelValue:u.value.index,"onUpdate:modelValue":r[1]||(r[1]=S=>u.value.index=S),placeholder:"Enter index"},null,8,["modelValue"])]),_:1})])}}}),bl={class:"flex flex-col flex-1 gap-y-4 p-4"},hl=me({__name:"RightPanel",props:{form:{required:!0},formModifiers:{}},emits:["update:form"],setup(C){const u=xe(C,"form"),a=Ae();return(t,f)=>{const r=Xt,p=dl,$=fl;return l(),V("div",bl,[e(a).activeTabs==="source"?(l(),h(r,{key:0,form:u.value,"onUpdate:form":f[0]||(f[0]=_=>u.value=_)},null,8,["form"])):w("",!0),e(a).activeTabs==="mapping"?(l(),h(p,{key:1,form:u.value,"onUpdate:form":f[1]||(f[1]=_=>u.value=_)},null,8,["form"])):w("",!0),e(a).activeTabs==="output"?(l(),h($,{key:2,form:u.value,"onUpdate:form":f[2]||(f[2]=_=>u.value=_)},null,8,["form"])):w("",!0)])}}}),yl=va(()=>fa(()=>import("./BepPo9hw.js"),__vite__mapDeps([5,1,2,3,6,4,7,8,9,10]),import.meta.url).then(C=>C.default||C)),kl={class:"col-span-full flex justify-between"},xl={class:"flex gap-x-4"},_l={key:0,class:"flex items-center gap-x-4 cursor-pointer"},wl={class:"flex items-center gap-x-4 cursor-pointer"},De=me({__name:"Complete",props:ke({mode:{default:"create"},processor:{}},{opened:{},openedModifiers:{}}),emits:ke(["created","updated"],["update:opened"]),setup(C,{emit:u}){const a=xe(C,"opened"),t=u,f=Ae(),r=ut({source:null,table:null,primary_keys:[],conditions:[],targets:[],index:null,mapping:[]}),p=ee(()=>C.processor||r),$=async()=>{var _,S,c,H;if(C.mode==="create"){const{status:O,error:E,data:N}=await Te("/processors",{method:"post",body:p,watch:!1});if(O.value==="success"){const X=N.value;fe().add({title:"Success",color:"success",description:X.message}),t("created"),a.value=!1;return}O.value==="error"&&fe().add({title:"Error",description:(_=E.value)==null?void 0:_.message,color:"error"})}else if(C.mode==="edit"){const{status:O,error:E,data:N}=await Te(`/processors/${C.processor.id}`,{method:"put",body:p,watch:!1});if(O.value==="success"){const X=N.value;fe().add({title:"Success",color:"success",description:X.message}),t("updated"),a.value=!1;return}O.value==="error"&&fe().add({title:"Error",description:((c=(S=E==null?void 0:E.value)==null?void 0:S.data)==null?void 0:c.error)||((H=E.value)==null?void 0:H.message),color:"error"})}};return(_,S)=>{const c=wt,H=Kt,O=hl,E=yl,N=$e,X=mt;return l(),h(X,{modelValue:a.value,"onUpdate:modelValue":S[5]||(S[5]=T=>a.value=T),class:"overflow-y-auto",onKeydown:ye(K($,["ctrl","prevent"]),["enter"]),ui:{body:" sm:p-0 p-0",footer:"sm:p-0 p-0",...e(f).showSamplePanel?_.mode==="read"?{content:"w-screen max-w-[40vw]"}:{content:"w-screen max-w-[70vw]"}:_.mode==="read"?{content:"w-screen max-w-[25vw]"}:{content:"w-screen max-w-[55vw]"}}},{header:i(()=>{var T,D;return[z("div",kl,[z("h2",{onClick:K($,["prevent"]),class:"col-span-full text-center text-2xl font-semibold"},U({create:"New processor",edit:`Edit processor: ${(T=_.processor)==null?void 0:T.id}`,read:`Processor: ${(D=_.processor)==null?void 0:D.id}`}[_.mode]),1),z("div",xl,[_.mode!=="read"?(l(),V("label",_l,[S[6]||(S[6]=j(" Short Mode (beta): ")),s(c,{"checked-icon":"i-heroicons-check-20-solid","unchecked-icon":"i-heroicons-x-mark-20-solid",modelValue:e(f).shortMode,"onUpdate:modelValue":S[0]||(S[0]=b=>e(f).shortMode=b)},null,8,["modelValue"])])):w("",!0),z("label",wl,[S[7]||(S[7]=j(" Sample Tab: ")),s(c,{"checked-icon":"i-heroicons-check-20-solid","unchecked-icon":"i-heroicons-x-mark-20-solid",modelValue:e(f).showSamplePanel,"onUpdate:modelValue":S[1]||(S[1]=b=>e(f).showSamplePanel=b)},null,8,["modelValue"])])])])]}),body:i(()=>[z("div",{class:g(["grid h-full",{"grid-cols-[2fr_3fr]":_.mode!=="read"&&!e(f).showSamplePanel,"grid-cols-[2fr_3fr_15vw]":_.mode!=="read"&&e(f).showSamplePanel,"grid-cols-[1fr_15vw]":e(f).showSamplePanel&&_.mode=="read"}])},[s(H,{form:e(p),"onUpdate:form":S[2]||(S[2]=T=>Ue(p)?p.value=T:null),class:"overflow-y-auto"},null,8,["form"]),_.mode!=="read"?(l(),h(O,{key:0,form:e(p),"onUpdate:form":S[3]||(S[3]=T=>Ue(p)?p.value=T:null),class:"overflow-y-auto"},null,8,["form"])):w("",!0),e(f).showSamplePanel?(l(),h(E,{key:1,form:e(p),"onUpdate:form":S[4]||(S[4]=T=>Ue(p)?p.value=T:null),class:"overflow-y-auto"},null,8,["form"])):w("",!0)],2)]),footer:i(()=>[_.mode!=="read"?(l(),h(N,{key:0,class:"rounded-none",onClick:K($,["prevent"]),size:"xl",block:""},{default:i(()=>[j(U({create:"Create",edit:"Save changes"}[_.mode]),1)]),_:1})):w("",!0)]),_:1},8,["modelValue","onKeydown","ui"])}}}),zl={class:"flex space-x-4"},Il={class:"flex gap-1"},Sl={class:"flex gap-1"},Vl={class:"flex gap-1"},$l={class:"flex gap-2 justify-end"},Cl=me({__name:"processors",setup(C){var D;const{status:u,data:a,refresh:t}=ct(),f=(D=Ke())==null?void 0:D.isOpen,r=[{key:"id",label:"#",sortable:!0,rowClass:"w-[1px] whitespace-nowrap"},{key:"source",label:"Source",sortable:!0},{key:"index",label:"Index",sortable:!0},{key:"targets",label:"Targets",sortable:!0},{key:"stats",label:"Stats",sortable:!1},{key:"listening",label:"Listening",sortable:!0},{key:"indexing",label:"Indexing",sortable:!0},{key:"actions",sortable:!1,rowClass:"w-[1px] whitespace-nowrap"}],p=ee(()=>{var b;return((b=a.value)==null?void 0:b.map(n=>{var o;return{id:n.id,targets:n.targets,index:n.index||"---",source:n.source!==void 0?n.source:"---",stats:{conditions:((o=n.conditions)==null?void 0:o.length)||0,...$(n.mapping||[])},indexing:n.indexing||!1,listening:n.listening||!1}}))||[]}),$=b=>{const n=b.filter(d=>d._type==="relation"),o={total:b.length,relations:n.length};return b.filter(d=>d._type==="relation").forEach(d=>{const{total:k,relations:y}=$(d.mapping||[]);o.total+=k,o.relations+=y}),o},_=()=>{Ke().open(De,{mode:"create",onCreated:()=>t(),onUpdated:()=>t()})},S=b=>{var o;const n=(o=a.value)==null?void 0:o.find(d=>d.id===b);Ke().open(De,{mode:"read",processor:n,onCreated:()=>t(),onUpdated:()=>t()})},c=b=>{var o;const n=(o=a.value)==null?void 0:o.find(d=>d.id===b);Ke().open(De,{mode:"edit",processor:n,onCreated:()=>t(),onUpdated:()=>t()})},H=b=>{var o;const n=(o=a.value)==null?void 0:o.find(d=>d.id===b);Ke().open(De,{mode:"create",processor:{...ta(n)},onCreated:()=>t(),onUpdated:()=>t()})},O=b=>{pt().open(yt,{processorId:b})},E=async b=>{var k;const{data:n,error:o,status:d}=await Te(`/processors/${b}`,{method:"DELETE"});if(d.value==="error")fe().add({color:"error",title:"Unable to delete processor",description:(k=o.value)==null?void 0:k.message});else if(d.value==="success"){const y=n.value;fe().add({color:"success",title:"Successfully deleted processor",description:y.message})}},N=b=>{Te(`/processors/${b}/index`,{method:"POST"}).then(({data:n,error:o,status:d})=>{var k,y,A;if(d.value==="error")fe().add({color:"error",title:"Unable to indexing",description:((y=(k=o.value)==null?void 0:k.data)==null?void 0:y.error)||((A=o.value)==null?void 0:A.message)});else if(d.value==="success"){const te=n.value;fe().add({color:"success",title:"Successfully indexed",description:te.message})}})},X=b=>{Te(`/processors/${b}/start`,{method:"POST"}).then(({data:n,error:o,status:d})=>{var k,y,A;if(d.value==="error")fe().add({color:"error",title:"Unable to start",description:((y=(k=o.value)==null?void 0:k.data)==null?void 0:y.error)||((A=o.value)==null?void 0:A.message)});else if(d.value==="success"){const te=n.value;fe().add({color:"success",title:"Successfully started",description:te.message})}})},T=b=>{Te(`/processors/${b}/stop`,{method:"POST"}).then(({data:n,error:o,status:d})=>{var k,y,A;if(d.value==="error")fe().add({color:"error",title:"Unable to stop",description:((y=(k=o.value)==null?void 0:k.data)==null?void 0:y.error)||((A=o.value)==null?void 0:A.message)});else if(d.value==="success"){const te=n.value;fe().add({color:"success",title:"Successfully stopped",description:te.message})}})};return(b,n)=>{const o=dt,d=vt,k=Ye;return l(),h(k,{as:"section",id:"processors",ui:{body:"p-0 sm:p-0",header:"flex gap-x-2 justify-between items-center",footer:"text-sm leading-5 text-center"}},{header:i(()=>[n[3]||(n[3]=z("h1",null,"Processors",-1)),z("div",zl,[s(ca,{kbds:["r"],label:"Refresh",color:"info",variant:"soft",icon:"i-heroicons-arrow-path-20-solid",onClick:n[0]||(n[0]=()=>e(t)()),loading:e(u)==="pending"||e(u)==="idle"},null,8,["loading"]),s(ca,{kbds:["c"],label:"Create",variant:"soft","leading-icon":"i-heroicons-plus",disabled:e(f),onClick:n[1]||(n[1]=()=>_())},null,8,["disabled"])])]),footer:i(()=>{var y;return[n[4]||(n[4]=z("span",{class:"font-medium"},"Total: ",-1)),z("span",null,U(((y=e(p))==null?void 0:y.length)||0)+" processors",1)]}),default:i(()=>[s(d,{columns:r,rows:e(p),loading:["idle","pending"].includes(e(u)),sorting:[{desc:!0,id:"id"}]},{"cell-source":i(({row:y})=>[z("div",Il,[s(o,{size:"sm",label:`Source n°${y.source}`,color:"secondary",variant:"subtle"},null,8,["label"])])]),"cell-targets":i(({row:y})=>[z("div",Sl,[(l(!0),V(ae,null,Ie(y.targets,A=>(l(),h(o,{size:"sm",label:`Target n°${A}`,color:"secondary",variant:"subtle"},null,8,["label"]))),256))])]),"cell-stats":i(({row:y})=>[z("div",Vl,[s(o,{size:"sm",label:`${y.stats.total} fields`,color:"neutral",variant:"subtle"},null,8,["label"]),s(o,{size:"sm",label:`${y.stats.relations} relations`,color:"neutral",variant:"subtle"},null,8,["label"]),s(o,{size:"sm",label:`${y.stats.conditions} conditions`,color:"neutral",variant:"subtle"},null,8,["label"])])]),"cell-indexing":i(({row:y})=>[s(o,{label:y.indexing?"Indexing":"Not indexing",color:y.indexing?"success":"error",variant:"subtle",size:"sm"},null,8,["label","color"])]),"cell-listening":i(({row:y})=>[s(o,{label:y.listening?"Listening":"Not listening",color:y.listening?"success":"error",variant:"subtle",size:"sm"},null,8,["label","color"])]),"cell-actions":i(({row:y})=>[z("div",$l,[s(e(gt),{items:[[{label:"Replicate",onSelect:()=>H(y.id)},{label:"Claim indexing",onSelect:()=>N(y.id),disabled:y.indexing},{label:"Start listening",onSelect:()=>X(y.id),disabled:y.listening},{label:"Stop listening",onSelect:()=>T(y.id),disabled:!y.listening}]],onClick:n[2]||(n[2]=K(()=>{},["stop"]))},{default:i(()=>[s(e($e),{icon:"i-heroicons-ellipsis-horizontal",variant:"link",color:"neutral",class:"p-0",size:"xl"})]),_:2},1032,["items"]),s(e($e),{icon:"i-heroicons-eye",variant:"link",color:"neutral",class:"p-0",size:"xl",onClick:K(A=>S(y.id),["stop","prevent"])},null,8,["onClick"]),s(e($e),{icon:"i-heroicons-pencil-square",variant:"link",color:"neutral",class:"p-0",size:"xl",onClick:K(A=>c(y.id),["stop","prevent"])},null,8,["onClick"]),s(e($e),{icon:"i-heroicons-document-arrow-down",variant:"link",color:"primary",class:"p-0",size:"xl",onClick:K(A=>O(y.id),["stop","prevent"])},null,8,["onClick"]),s(e($e),{icon:"i-heroicons-trash",variant:"link",color:"error",class:"p-0",size:"xl",onClick:K(A=>E(y.id),["stop","prevent"])},null,8,["onClick"])])]),_:1},8,["rows","loading"])]),_:1})}}}),Fl=Object.freeze(Object.defineProperty({__proto__:null,default:Cl},Symbol.toStringTag,{value:"Module"}));export{wt as _,Fl as p,Ae as u};
